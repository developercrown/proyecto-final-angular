(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"+v3u":function(t,e,n){n("q94Q")("match")},"//qW":function(t,e,n){"use strict";var r=n("Gp07"),i=n("LX9C"),o=n("stQs"),a=i.set,u=i.getterFor("String Iterator");o(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i,!0),e.index+=t.length,{value:t,done:!1})})},"/WYv":function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},0:function(t,e,n){t.exports=n("zUnb")},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),i=n("/WYv"),o=n("2ePl"),a=n("xTla"),u=n("En8+"),s=n("IUTb"),l=n("pugT"),c=n("S5XQ"),h=n("u67D"),f=n("JcRv"),d=n("Fxb1");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(d.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(f.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(c.a)(t))}(t,e);if(Object(o.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new l.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return p})},"05FD":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),i=n("aVep");n("hxUH"),e.FlashMessagesComponent=function(){function t(t,e){this._flashMessagesService=t,this._cdRef=e,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return t.prototype.ngOnInit=function(){},t.prototype.show=function(t,e){var n=this;void 0===e&&(e={});var r={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var o in e)r[o]=e[o];var a=new i.FlashMessage(t,r.cssClass,r.closeOnClick,r.showCloseBtn);a.timer=window.setTimeout(function(){n._remove(a),n._cdRef.detectChanges()},r.timeout),this.messages.push(a),this._cdRef.detectChanges()},t.prototype.close=function(t){clearTimeout(t.timer),this._remove(t),this._cdRef.detectChanges()},t.prototype.alertClicked=function(t){t.closeOnClick&&this.close(t)},t.prototype.grayOut=function(t){void 0===t&&(t=!1),this._grayOut=t},t.prototype._remove=function(t){this.messages=this.messages.filter(function(e){return e.id!==t.id})},t.decorators=[{type:r.Component,args:[{selector:"flash-messages",template:'\n      <div id="flashMessages" class="flash-messages">\n          <div id="grayOutDiv" *ngIf=\'_grayOut && messages.length\'></div>\n          <div class="alert flash-message {{message.cssClass}}" [ngClass]="{\'alert-dismissible\':message.showCloseBtn}" [style.cursor]="message.closeOnClick?\'pointer\':\'inherit\'" *ngFor=\'let message of messages\' (click)="alertClicked(message)">\n              <button *ngIf="message.showCloseBtn" type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="close(message)"><span aria-hidden="true">&times;</span></button>\n              <div [innerHTML]="message.text"></div>\n          </div> \n      </div>\n  '}]}],t}()},"0Bu/":function(t,e,n){var r=n("kpns"),i=n("bcPd");t.exports=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}},"0HDe":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"0i0S":function(t,e){t.exports={}},"0idE":function(t,e,n){var r=n("57wU"),i=n("SAp2"),o=n("qBi7")("IE_PROTO"),a=n("S5sp"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},"1VRj":function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"1f/i":function(t,e,n){var r=n("ysHE"),i=n("wBs/"),o=n("57wU"),a=n("nX7E"),u=n("5eG6"),s=n("LX9C"),l=s.get,c=s.enforce,h=String(u).split("toString");n("MfhB")("inspectSource",function(t){return u.call(t)}),(t.exports=function(t,e,n,u){var s=!!u&&!!u.unsafe,l=!!u&&!!u.enumerable,f=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),c(n).source=h.join("string"==typeof e?e:"")),t!==r?(s?!f&&t[e]&&(l=!0):delete t[e],l?t[e]=n:i(t,e,n)):l?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||u.call(this)})},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2F3y":function(t,e,n){n("q94Q")("asyncIterator")},"2Hee":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"2w5C":function(t,e,n){var r=n("57wU"),i=n("IutQ"),o=n("55jA")(!1),a=n("vcTx");t.exports=function(t,e){var n,u=i(t),s=0,l=[];for(n in u)!r(a,n)&&r(u,n)&&l.push(n);for(;e.length>s;)r(u,n=e[s++])&&(~o(l,n)||l.push(n));return l}},"3Gxb":function(t,e,n){var r=n("2w5C"),i=n("o9j8").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},"44fV":function(t,e,n){"use strict";var r=n("ysHE"),i=n("57wU"),o=n("lb/b"),a=n("U5J1"),u=n("pSMy"),s=n("1f/i"),l=n("vcTx"),c=n("0HDe"),h=n("MfhB"),f=n("S4gH"),d=n("ptKZ"),p=n("aXXJ"),v=n("ahhG"),g=n("q94Q"),y=n("SIcJ"),m=n("k2qa"),b=n("bcPd"),w=n("kpns"),_=n("IutQ"),C=n("ehg7"),E=n("2Hee"),S=n("tzov"),I=n("zkF/"),T=n("pYsU"),D=n("TIpl"),A=n("iCuu"),O=n("wBs/"),k=n("Q2Kg"),N=n("qBi7")("hidden"),x=n("LX9C"),P=x.set,R=x.getterFor("Symbol"),M=T.f,F=D.f,L=I.f,j=r.Symbol,V=r.JSON,U=V&&V.stringify,B=p("toPrimitive"),q=A.f,H=h("symbol-registry"),z=h("symbols"),K=h("op-symbols"),G=h("wks"),Q=Object.prototype,W=r.QObject,Y=n("mk1t"),J=!W||!W.prototype||!W.prototype.findChild,X=o&&c(function(){return 7!=S(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=M(Q,e);r&&delete Q[e],F(t,e,n),r&&t!==Q&&F(Q,e,r)}:F,Z=function(t,e){var n=z[t]=S(j.prototype);return P(n,{type:"Symbol",tag:t,description:e}),o||(n.description=e),n},$=Y&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof j},tt=function(t,e,n){return t===Q&&tt(K,e,n),b(t),e=C(e,!0),b(n),i(z,e)?(n.enumerable?(i(t,N)&&t[N][e]&&(t[N][e]=!1),n=S(n,{enumerable:E(0,!1)})):(i(t,N)||F(t,N,E(1,{})),t[N][e]=!0),X(t,e,n)):F(t,e,n)},et=function(t,e){b(t);for(var n,r=y(e=_(e)),i=0,o=r.length;o>i;)tt(t,n=r[i++],e[n]);return t},nt=function(t){var e=q.call(this,t=C(t,!0));return!(this===Q&&i(z,t)&&!i(K,t))&&(!(e||!i(this,t)||!i(z,t)||i(this,N)&&this[N][t])||e)},rt=function(t,e){if(t=_(t),e=C(e,!0),t!==Q||!i(z,e)||i(K,e)){var n=M(t,e);return!n||!i(z,e)||i(t,N)&&t[N][e]||(n.enumerable=!0),n}},it=function(t){for(var e,n=L(_(t)),r=[],o=0;n.length>o;)i(z,e=n[o++])||i(l,e)||r.push(e);return r},ot=function(t){for(var e,n=t===Q,r=L(n?K:_(t)),o=[],a=0;r.length>a;)!i(z,e=r[a++])||n&&!i(Q,e)||o.push(z[e]);return o};Y||(s((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor");var t=void 0===arguments[0]?void 0:String(arguments[0]),e=d(t),n=function(t){this===Q&&n.call(K,t),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),X(this,e,E(1,t))};return o&&J&&X(Q,e,{configurable:!0,set:n}),Z(e,t)}).prototype,"toString",function(){return R(this).tag}),A.f=nt,D.f=tt,T.f=rt,n("3Gxb").f=I.f=it,n("fw2a").f=ot,o&&(F(j.prototype,"description",{configurable:!0,get:function(){return R(this).description}}),a||s(Q,"propertyIsEnumerable",nt,{unsafe:!0})),v.f=function(t){return Z(p(t),t)}),u({global:!0,wrap:!0,forced:!Y,sham:!Y},{Symbol:j});for(var at=k(G),ut=0;at.length>ut;)g(at[ut++]);u({target:"Symbol",stat:!0,forced:!Y},{for:function(t){return i(H,t+="")?H[t]:H[t]=j(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol");for(var e in H)if(H[e]===t)return e},useSetter:function(){J=!0},useSimple:function(){J=!1}}),u({target:"Object",stat:!0,forced:!Y,sham:!o},{create:function(t,e){return void 0===e?S(t):et(S(t),e)},defineProperty:tt,defineProperties:et,getOwnPropertyDescriptor:rt}),u({target:"Object",stat:!0,forced:!Y},{getOwnPropertyNames:it,getOwnPropertySymbols:ot}),V&&u({target:"JSON",stat:!0,forced:!Y||c(function(){var t=j();return"[null]"!=U([t])||"{}"!=U({a:t})||"{}"!=U(Object(t))})},{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(w(e)||void 0!==t)&&!$(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!$(e))return e}),r[1]=e,U.apply(V,r)}}),j.prototype[B]||O(j.prototype,B,j.prototype.valueOf),f(j,"Symbol"),l[N]=!0},"4Ea8":function(t,e,n){t.exports=n("ysHE")},"4mOR":function(t,e,n){"use strict";var r=n("vQkR")(6),i=!0;"findIndex"in[]&&Array(1).findIndex(function(){i=!1}),n("pSMy")({target:"Array",proto:!0,forced:i},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("gJLK")("findIndex")},"55jA":function(t,e,n){var r=n("IutQ"),i=n("H6ty"),o=n("GJzV");t.exports=function(t){return function(e,n,a){var u,s=r(e),l=i(s.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((u=s[c++])!=u)return!0}else for(;l>c;c++)if((t||c in s)&&s[c]===n)return t||c||0;return!t&&-1}}},"57wU":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"5eG6":function(t,e,n){t.exports=n("MfhB")("native-function-to-string",Function.toString)},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.thisArg))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("q/0M"),a=n("mrSG"),u=n("x7I3"),s=n("zVF4"),l=i.SDK_VERSION,c=new o.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function f(){return c.logLevel===o.LogLevel.DEBUG?h.DEBUG:c.logLevel===o.LogLevel.SILENT?h.SILENT:h.ERROR}function d(t){switch(t){case h.DEBUG:c.logLevel=o.LogLevel.DEBUG;break;case h.ERROR:c.logLevel=o.LogLevel.ERROR;break;case h.SILENT:c.logLevel=o.LogLevel.SILENT;break;default:c.error("Firestore ("+l+"): Invalid value passed to `setLogLevel`")}}function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(c.logLevel<=o.LogLevel.DEBUG){var i=n.map(g);c.debug.apply(c,["Firestore ("+l+") ["+t+"]: "+e].concat(i))}}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.ERROR){var r=e.map(g);c.error.apply(c,["Firestore ("+l+"): "+t].concat(r))}}function g(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function y(t){var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw v(e),new Error(e)}function m(t,e){t||y(e)}var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||y("Platform not set"),t.platform},t}();function w(){return b.getPlatform().emptyByteString}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error);function E(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new C(_.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){return void 0!==t?t:e}function T(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function D(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in m(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function O(t,e){if(0!==e.length)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function k(t,e,n){if(e.length!==n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function N(t,e,n){if(e.length<n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function x(t,e,n,r){if(e.length<n||e.length>r)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function P(t,e,n,r){j(t,e,z(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&P(t,e,n,r)}function M(t,e,n,r){j(t,e,n+" option",r)}function F(t,e,n,r){void 0!==r&&M(t,e,n,r)}function L(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,u=i;a<u.length;a++){var s=u[a];if(s===r)return;o.push(U(s))}var l=U(r);throw new C(_.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function j(t,e,n,r){if(!("object"===e?V(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=U(r);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function V(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function U(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function B(t,e,n){if(void 0===n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+z(e)+" argument, but it was undefined.")}function q(t,e,n){D(e,function(e,r){if(n.indexOf(e)<0)throw new C(_.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function H(t,e,n,r){var i=U(r);return new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+z(n)+" argument to be a "+e+", but it was: "+i)}function z(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}var G=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return m(20===e.length,"Invalid auto ID: "+e),e},t}();function Q(t,e){return t<e?-1:t>e?1:0}function W(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Y(t){return t+"\0"}function J(){if("undefined"==typeof Uint8Array)throw new C(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function X(){if(!b.getPlatform().base64Available)throw new C(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Z=function(){function t(t){X(),this._binaryString=t}return t.fromBase64String=function(e){k("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,e),X();try{return new t(b.getPlatform().atob(e))}catch(n){throw new C(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(e){if(k("Blob.fromUint8Array",arguments,1),J(),!(e instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return k("Blob.toBase64",arguments,0),X(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){k("Blob.toUint8Array",arguments,0),J();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return Q(this._binaryString,t._binaryString)},t}(),$=E(Z,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),tt=function(){function t(t,e){if(k("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new C(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new C(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return Q(this._lat,t._lat)||Q(this._long,t._long)},t}(),et=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Q(this.nanoseconds,t.nanoseconds):Q(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),nt=function(){return function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),rt="(default)",it=function(){function t(t,e){this.projectId=t,this.database=e||rt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===rt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return Q(this.projectId,t.projectId)||Q(this.database,t.database)},t}(),ot=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&y("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):y("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return m(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return m(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return m(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return m(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ot),ut=/^[_a-zA-Z][_a-zA-Z0-9]*$/,st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.isValidIdentifier=function(t){return ut.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new C(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new C(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new C(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ot),lt=function(){function t(e){this.path=e,m(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===at.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return at.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new at(e.slice()))},t.fromPathString=function(e){return new t(at.fromString(e))},t.EMPTY=new t(new at([])),t}(),ct=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)},t}(),ht=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.data=r,a.proto=o,a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return a.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},e}(ct),ft=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ct),dt=function(t){function e(e,n){return t.call(this,e,n)||this}return a.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ct),pt=function(){function t(t,e){this.comparator=t,this.root=e||gt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new vt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new vt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new vt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new vt(this.root,t,this.comparator,!0)},t}(),vt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){m(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),gt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw y("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),yt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new gt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();gt.EMPTY=new yt;var mt=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),bt=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),wt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(bt.Estimate,n);case"previous":return new t(bt.Previous,n);case"none":case void 0:return new t(bt.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),_t=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return m(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),Q(this.typeOrder,t.typeOrder)},t}(),Ct=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=mt.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(_t),Et=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(_t),St=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(_t);function It(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Tt=function(t){function e(e){return t.call(this,e)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&It(this.internalValue,t.internalValue)},e}(St),Dt=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&It(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(St),At=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(_t),Ot=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof kt?-1:this.defaultCompareTo(t)},e}(_t),kt=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=mt.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===bt.Estimate?new Ot(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===bt.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Ot?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(_t),Nt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(_t),xt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=mt.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:lt.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(_t),Pt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(_t),Rt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=Q(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return Q(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(m(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(m(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){m(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new pt(Q)),e}(_t),Mt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return Q(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(_t),Ft=Number,Lt=Ft.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),jt=Ft.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Vt=Ft.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Ut(t){return null==t}function Bt(t){return Vt(t)&&t<=jt&&t>=Lt}var qt=function(){function t(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Xt]:[new Jt(t),Xt];else{m(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Wt.ASCENDING)===Wt.ASCENDING?Xt:Zt)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){m(null==this.getInequalityFilterField()||!(e instanceof Kt)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),m(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){m(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";Ut(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Ut(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return m(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Ut(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Kt&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Kt&&t.op===zt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return lt.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):lt.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){m(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Ht=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(Ct.INSTANCE)){if(e!==zt.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Gt(t)}if(n.isEqual(Dt.NAN)){if(e!==zt.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Qt(t)}return new Kt(t,e,n)},t}(),zt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return y("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Kt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return a.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){m(this.value instanceof xt,"Comparing on key, but filter value not a RefValue"),m(this.op!==zt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=lt.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===zt.ARRAY_CONTAINS?t instanceof Mt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case zt.LESS_THAN:return t<0;case zt.LESS_THAN_OR_EQUAL:return t<=0;case zt.EQUAL:return 0===t;case zt.GREATER_THAN:return t>0;case zt.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==zt.EQUAL&&this.op!==zt.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Ht),Gt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Ht),Qt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Ht),Wt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Yt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){m(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())m(o instanceof xt,"Bound has a non-key value where the key path is being used."),n=lt.comparator(o.key,e.key);else{var a=e.field(i.field);m(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Wt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Jt=function(){function t(t,e){this.field=t,void 0===e&&(e=Wt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ht.compareByKey(t,e):ht.compareByField(this.field,t,e);switch(this.dir){case Wt.ASCENDING:return n;case Wt.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Xt=new Jt(st.keyField(),Wt.ASCENDING),Zt=new Jt(st.keyField(),Wt.DESCENDING),$t=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new et(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new et(0,0)),t}(),te=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),ee=function(){function t(t,e,n,r,i,o){void 0===i&&(i=$t.MIN),void 0===o&&(o=w()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),ne=function(){function t(t){this.comparator=t,this.data=new pt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new re(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new re(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),re=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ie=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new ne(st.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.applyTo=function(t){var e=Rt.EMPTY;return this.fields.forEach(function(n){if(n.isEmpty())return t;var r=t.field(n);void 0!==r&&(e=e.set(n,r))}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),oe=function(){function t(t,e){this.field=t,this.transform=e}return Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ae=function(){return function(t,e){this.version=t,this.transformResults=e}}(),ue=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),se=function(){function t(t,e){this.updateTime=t,this.exists=e,m(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ht&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ht:(m(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),le=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&m(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ht?t.version:$t.MIN},t}(),ce=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=ue.Set,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),m(null==e.transformResults,"Transform results received by SetMutation."),new ht(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=le.getPostMutationVersion(t);return new ht(this.key,r,this.value,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(le),he=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=ue.Patch,o}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),m(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new dt(this.key,e.version);var n=this.patchDocument(t);return new ht(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=le.getPostMutationVersion(t),i=this.patchDocument(t);return new ht(this.key,r,i,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof ht?t.data:Rt.EMPTY)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=void 0!==r?t.set(n,r):t.delete(n)}}),t},e}(le),fe=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=ue.Transform,r.precondition=se.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),m(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new dt(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new ht(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new ht(this.key,r.version,o,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){for(var t=0,e=this.fieldTransforms;t<e.length;t++)if(!e[t].isIdempotent)return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){var t=new ne(st.comparator);return this.fieldTransforms.forEach(function(e){return t=t.add(e.field)}),new ie(t)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&W(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){m(t instanceof ht,"Unknown MaybeDocument type "+t);var e=t;return m(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];m(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof ht&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,u=null;e instanceof ht&&(u=e.field(o.field)||null),n.push(a.applyToLocalView(u,t))}return n},e.prototype.transformObject=function(t,e){m(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(le),de=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=ue.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),m(null==e.transformResults,"Transform results received by DeleteMutation."),new ft(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&m(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ft(this.key,$t.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e}(le),pe=function(){function t(){this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return new kt(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ve=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=me(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Mt(e)},t.prototype.isEqual=function(e){return e instanceof t&&W(e.elements,this.elements)},t}(),ge=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=me(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Mt(e)},t.prototype.isEqual=function(e){return e instanceof t&&W(e.elements,this.elements)},t}(),ye=function(){function t(t){this.operand=t,this.isIdempotent=!1}return t.prototype.applyToLocalView=function(t,e){return t instanceof Tt&&this.operand instanceof Tt?new Tt(t.internalValue+this.operand.internalValue):t instanceof St?new Dt(t.internalValue+this.operand.internalValue):this.operand},t.prototype.applyToRemoteDocument=function(t,e){return m(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function me(t){return t instanceof Mt?t.internalValue.slice():[]}var be=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),we=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function _e(t){switch(t){case _.OK:return y("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function Ce(t){if(void 0===t)return v("GRPC error has no .code"),_.UNKNOWN;switch(t){case we.OK:return _.OK;case we.CANCELLED:return _.CANCELLED;case we.UNKNOWN:return _.UNKNOWN;case we.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case we.INTERNAL:return _.INTERNAL;case we.UNAVAILABLE:return _.UNAVAILABLE;case we.UNAUTHENTICATED:return _.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case we.NOT_FOUND:return _.NOT_FOUND;case we.ALREADY_EXISTS:return _.ALREADY_EXISTS;case we.PERMISSION_DENIED:return _.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case we.ABORTED:return _.ABORTED;case we.OUT_OF_RANGE:return _.OUT_OF_RANGE;case we.UNIMPLEMENTED:return _.UNIMPLEMENTED;case we.DATA_LOSS:return _.DATA_LOSS;default:return y("Unknown status code: "+t)}}function Ee(t){if(void 0===t)return we.OK;switch(t){case _.OK:return we.OK;case _.CANCELLED:return we.CANCELLED;case _.UNKNOWN:return we.UNKNOWN;case _.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case _.INTERNAL:return we.INTERNAL;case _.UNAVAILABLE:return we.UNAVAILABLE;case _.UNAUTHENTICATED:return we.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case _.NOT_FOUND:return we.NOT_FOUND;case _.ALREADY_EXISTS:return we.ALREADY_EXISTS;case _.PERMISSION_DENIED:return we.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case _.ABORTED:return we.ABORTED;case _.OUT_OF_RANGE:return we.OUT_OF_RANGE;case _.UNIMPLEMENTED:return we.UNIMPLEMENTED;case _.DATA_LOSS:return we.DATA_LOSS;default:return y("Unknown status code: "+t)}}var Se=new pt(lt.comparator);function Ie(){return Se}function Te(){return Ie()}var De=new pt(lt.comparator);function Ae(){return De}var Oe=new pt(lt.comparator);function ke(){return Oe}var Ne=new ne(lt.comparator);function xe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ne,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var Pe=new ne(Q);function Re(){return Pe}var Me=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||lt.comparator(e.key,n.key)}:function(t,e){return lt.comparator(t.key,e.key)},this.keyedMap=Ae(),this.sortedSet=new pt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Fe=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Le=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),je=function(){function t(){this.changeMap=new pt(lt.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Fe.Added&&n.type===Fe.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Fe.Metadata&&n.type!==Fe.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Fe.Modified&&n.type===Fe.Modified?this.changeMap=this.changeMap.insert(e,{type:Fe.Modified,doc:t.doc}):t.type===Fe.Modified&&n.type===Fe.Added?this.changeMap=this.changeMap.insert(e,{type:Fe.Added,doc:t.doc}):t.type===Fe.Removed&&n.type===Fe.Added?this.changeMap=this.changeMap.remove(e):t.type===Fe.Removed&&n.type===Fe.Modified?this.changeMap=this.changeMap.insert(e,{type:Fe.Removed,doc:n.doc}):t.type===Fe.Added&&n.type===Fe.Removed?this.changeMap=this.changeMap.insert(e,{type:Fe.Modified,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ve=function(){function t(t,e,n,r,i,o,a,u){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Fe.Added,doc:t})}),new t(e,n,Me.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ue=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Be.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t($t.MIN,i,Re(),Ie(),xe())},t}(),Be=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(w(),n,xe(),xe(),xe())},t}(),qe=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),He=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),ze=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Ke=function(){return function(t,e,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Ge=function(){function t(){this.pendingResponses=0,this.documentChanges=Ye(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=xe(),e=xe(),n=xe();return this.documentChanges.forEach(function(r,i){switch(i){case Fe.Added:t=t.add(r);break;case Fe.Modified:e=e.add(r);break;case Fe.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}}),new Be(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ye()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Qe=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Ie(),this.pendingDocumentTargetMapping=We(),this.pendingTargetResets=new ne(Q)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ht?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof ft&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case ze.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case ze.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case ze.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),m(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case ze.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case ze.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):T(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new lt(i.path);this.removeDocumentFromTarget(e,o,new ft(o,$t.forDeletedDoc()))}else m(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};T(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new lt(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new ft(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=xe();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===te.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ue(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Ie(),this.pendingDocumentTargetMapping=We(),this.pendingTargetResets=new ne(Q),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Fe.Modified:Fe.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Fe.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Ge),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new ne(Q),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;m(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Ge,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function We(){return new pt(lt.comparator)}function Ye(){return new pt(lt.comparator)}var Je,Xe,Ze=((Je={})[Wt.ASCENDING.name]="ASCENDING",Je[Wt.DESCENDING.name]="DESCENDING",Je),$e=((Xe={})[zt.LESS_THAN.name]="LESS_THAN",Xe[zt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Xe[zt.GREATER_THAN.name]="GREATER_THAN",Xe[zt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Xe[zt.EQUAL.name]="EQUAL",Xe[zt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Xe),tn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function en(t,e){m(!Ut(t),e+" is missing")}function nn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var rn=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?_.UNKNOWN:Ce(t.code);return new C(e,t.message||"")},t.prototype.toInt32Value=function(t){return Ut(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Ut(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);m(!!t,"Cannot deserialize null or undefined timestamp.");var e=nn(t.seconds||"0");return new et(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=tn.exec(t);if(m(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new et(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(m(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Z.fromBase64String(t)):(m(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),Z.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return m(!!t,"Trying to deserialize version that isn't set"),$t.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=at.fromString(t);return m(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return m(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),m(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new lt(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?at.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new at(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new at(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return m(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Ct)return{nullValue:"NULL_VALUE"};if(t instanceof Et)return{booleanValue:t.value()};if(t instanceof Tt)return{integerValue:""+t.value()};if(t instanceof Dt){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof At?{stringValue:t.value()}:t instanceof Rt?{mapValue:this.toMapValue(t)}:t instanceof Mt?{arrayValue:this.toArrayValue(t)}:t instanceof Ot?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Pt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Nt?{bytesValue:this.toBytes(t.value())}:t instanceof xt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(on(t,n,"nullValue"))return Ct.INSTANCE;if(on(t,n,"booleanValue"))return Et.of(t.booleanValue);if(on(t,n,"integerValue"))return new Tt(nn(t.integerValue));if(on(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Dt.NAN;if("Infinity"===t.doubleValue)return Dt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Dt.NEGATIVE_INFINITY}return new Dt(t.doubleValue)}if(on(t,n,"stringValue"))return new At(t.stringValue);if(on(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(on(t,n,"arrayValue"))return en(t.arrayValue,"arrayValue"),new Mt((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(on(t,n,"timestampValue"))return en(t.timestampValue,"timestampValue"),new Ot(this.fromTimestamp(t.timestampValue));if(on(t,n,"geoPointValue"))return en(t.geoPointValue,"geoPointValue"),new Pt(new tt(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(on(t,n,"bytesValue")){en(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new Nt(r)}if(on(t,n,"referenceValue")){en(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),o=new it(i.get(1),i.get(3)),a=new lt(this.extractLocalPathFromResourceName(i));return new xt(o,a)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return m(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new ht(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Rt.EMPTY;return D(t,function(t,r){n=n.set(new st([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){m(!!t.found,"Tried to deserialize a found document from a missing document."),en(t.found.name,"doc.found.name"),en(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ht(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){m(!!t.missing,"Tried to deserialize a missing document from a found document."),m(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ft(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return on(t,e,"found")?this.fromFound(t):on(t,e,"missing")?this.fromMissing(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case ze.Added:return"ADD";case ze.Current:return"CURRENT";case ze.NoChange:return"NO_CHANGE";case ze.Removed:return"REMOVE";case ze.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof He)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof qe){var e;if(t.newDoc instanceof ht)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ft)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ke){var n=void 0;return t.cause&&(n={code:Ee(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(on(t,n,"targetChange")){en(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,u=a&&this.fromRpcStatus(a);e=new Ke(r,i,o,u||null)}else if(on(t,n,"documentChange")){en(t.documentChange,"documentChange"),en(t.documentChange.document,"documentChange.name"),en(t.documentChange.document.name,"documentChange.document.name"),en(t.documentChange.document.updateTime,"documentChange.document.updateTime");var s=t.documentChange,l=this.fromName(s.document.name),c=this.fromVersion(s.document.updateTime),h=this.fromFields(s.document.fields||{}),f=new ht(l,c,h,{},s.document);e=new qe(s.targetIds||[],s.removedTargetIds||[],f.key,f)}else if(on(t,n,"documentDelete")){en(t.documentDelete,"documentDelete"),en(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;l=this.fromName(d.document),c=d.readTime?this.fromVersion(d.readTime):$t.forDeletedDoc(),f=new ft(l,c),e=new qe([],d.removedTargetIds||[],f.key,f)}else if(on(t,n,"documentRemove")){en(t.documentRemove,"documentRemove"),en(t.documentRemove.document,"documentRemove");var p=t.documentRemove;l=this.fromName(p.document),e=new qe([],p.removedTargetIds||[],l,null)}else{if(!on(t,n,"filter"))return y("Unknown change type "+JSON.stringify(t));en(t.filter,"filter"),en(t.filter.targetId,"filter.targetId");var v=t.filter,g=new be(v.count||0);e=new He(v.targetId,g)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?ze.NoChange:"ADD"===t?ze.Added:"REMOVE"===t?ze.Removed:"CURRENT"===t?ze.Current:"RESET"===t?ze.Reset:y("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!on(t,t.response_type,"targetChange"))return $t.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?$t.MIN:e.readTime?this.fromVersion(e.readTime):$t.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof ce)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof de)e={delete:this.toName(t.key)};else if(t instanceof he)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof fe))return y("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):se.NONE;if(t.update){en(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new he(r,i,o,n)}return new ce(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new de(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return m(!0===n.exists,'Transforms only support precondition "exists == true"'),new fe(r,a)}return y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return m(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?se.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?se.exists(t.exists):se.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new ae(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(m(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof pe)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ve)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ge)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ye)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;if(on(t,n,"setToServerValue"))m("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=pe.instance;else if(on(t,n,"appendMissingElements"))r=new ve((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)}));else if(on(t,n,"removeAllFromArray"))r=new ge((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)}));else if(on(t,n,"increment")){var i=this.fromValue(t.increment);m(i instanceof St,"NUMERIC_ADD transform requires a NumberValue"),r=new ye(i)}else y("Unknown transform proto: "+JSON.stringify(t));var o=st.fromServerFormat(t.fieldPath);return new oe(o,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return m(1===e,"DocumentsTarget contained other than 1 document: "+e),qt.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(m(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(m(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){m(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var u=[];n.orderBy&&(u=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=this.fromInt32Value(n.limit));var l=null;n.startAt&&(l=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new qt(e,i,u,a,s,l,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case te.Listen:return null;case te.ExistenceFilterMismatch:return"existence-filter-mismatch";case te.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Kt?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Yt(r,n)},t.prototype.toDirection=function(t){return Ze[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Wt.ASCENDING;case"DESCENDING":return Wt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return $e[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return zt.EQUAL;case"GREATER_THAN":return zt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return zt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return zt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return zt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return zt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return y("Unspecified relation");default:return y("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return st.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Jt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Kt?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:y("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Kt(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Qt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Gt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:y("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Qt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Gt(n);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return st.fromServerFormat(t)});return ie.fromArray(e)},t}();function on(t,e,n){return e===n||!e&&n in t}var an=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){m(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){m(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){m(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){m(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){m(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){m(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),un="Connection",sn={BatchGetDocuments:"batchGet",Commit:"commit"},ln="gl-js/ fire/"+l,cn=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=ln},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){var s=new u.XhrIo;s.listenOnce(u.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=s.getResponseJson();p(un,"XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:p(un,'RPC "'+t+'" timed out'),a(new C(_.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();p(un,'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0?a(new C(function(t){switch(t){case 200:return _.OK;case 400:return _.INVALID_ARGUMENT;case 401:return _.UNAUTHENTICATED;case 403:return _.PERMISSION_DENIED;case 404:return _.NOT_FOUND;case 409:return _.ABORTED;case 416:return _.OUT_OF_RANGE;case 429:return _.RESOURCE_EXHAUSTED;case 499:return _.CANCELLED;case 500:return _.UNKNOWN;case 501:return _.UNIMPLEMENTED;case 503:return _.UNAVAILABLE;case 504:return _.DEADLINE_EXCEEDED;default:return t>=200&&t<300?_.OK:t>=400&&t<500?_.FAILED_PRECONDITION:t>=500&&t<600?_.INTERNAL:_.UNKNOWN}}(n),"Server responded with status "+s.getStatusText())):(p(un,'RPC "'+t+'" failed'),a(new C(_.UNAVAILABLE,"Connection failed.")));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{p(un,'RPC "'+t+'" completed.')}});var l=JSON.stringify(e);p(un,"XHR sending: ",i+" "+l);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),s.send(i,"POST",l,c,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),s.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p(un,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),l=!1,c=!1,h=new an({sendFn:function(t){c?p(un,"Not sending because WebChannel is closed:",t):(l||(p(un,"Opening WebChannel transport."),a.open(),l=!0),p(un,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),f=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return f(u.WebChannel.EventType.OPEN,function(){c||p(un,"WebChannel transport opened.")}),f(u.WebChannel.EventType.CLOSE,function(){c||(c=!0,p(un,"WebChannel transport closed"),h.callOnClose())}),f(u.WebChannel.EventType.ERROR,function(t){c||(c=!0,p(un,"WebChannel transport errored:",t),h.callOnClose(new C(_.UNAVAILABLE,"The operation could not be completed")))}),f(u.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];m(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){p(un,"WebChannel received error:",n);var r=n.status,i=function(t){var e=we[r];if(void 0!==e)return Ce(e)}(),o=n.message;void 0===i&&(i=_.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),c=!0,h.callOnClose(new C(i,o)),a.close()}else p(un,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=sn[t];m(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();b.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new cn(t))},t.prototype.newSerializer=function(t){return new rn(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var hn,fn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),dn=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection"}(hn||(hn={}));var pn=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),vn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw v("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),m(e>=0,"Attempted to schedule an operation with a negative delay of "+e),m(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=pn.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){m(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){m(t===hn.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==hn.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);m(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),gn="\x01",yn="\x01",mn="\x10",bn="\x11";function wn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cn(e)),e=_n(t.get(n),e);return Cn(e)}function _n(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=gn+mn;break;case gn:n+=gn+bn;break;default:n+=o}}return n}function Cn(t){return t+gn+yn}function En(t){var e=t.length;if(m(e>=2,"Invalid path "+t),2===e)return m(t.charAt(0)===gn&&t.charAt(1)===yn,"Non-empty path "+t+" had length 2"),at.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(gn,o);switch((a<0||a>n)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case yn:var u=t.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case mn:i+=t.substring(o,a),i+="\0";break;case bn:i+=t.substring(o,a+1);break;default:y('Invalid encoded resource path: "'+t+'"')}o=a+2}return new at(r)}var Sn=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,m(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&m(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;m(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&m(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t)&&(e=u.applyToLocalView(e,e,this.localWriteTime));for(var i=e,o=0,a=this.mutations;o<a.length;o++){var u;(u=a[o]).key.isEqual(t)&&(e=u.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},xe())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&W(this.mutations,t.mutations)&&W(this.baseMutations,t.baseMutations)},t}(),In=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){m(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=ke(),a=e.mutations,u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new t(e,n,r,i,o)},t}(),Tn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Dn=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return m(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nn(t).iterate({index:cr.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=kn(n),Pn(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=kn(e),Pn(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=xn(t),a=Nn(t);return a.add({}).next(function(u){m("number"==typeof u,"Auto-generated key is not a number");var s=new Sn(u,e,n,r),l=i.serializer.toDbMutationBatch(i.userId,s);i.documentKeysByBatchId[u]=s.keys();for(var c=[],h=0,f=r;h<f.length;h++){var d=f[h],p=hr.key(i.userId,d.key.path,u);c.push(a.put(l)),c.push(o.put(p,hr.PLACEHOLDER)),c.push(i.indexManager.addToCollectionParentIndex(t,d.key.path.popLast()))}return Tn.waitFor(c).next(function(){return s})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Nn(t).get(e).next(function(t){return t?(m(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Tn.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var i=e+1,o=IDBKeyRange.lowerBound([n.userId,i]),a=null;return Nn(t).iterate({index:cr.userMutationsIndex,range:o},function(t,e,r){e.userId===n.userId&&(m(e.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return a})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nn(t).loadAll(cr.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=hr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return xn(t).iterate({range:i},function(r,i,a){var u=r[0],s=r[2],l=En(r[1]);if(u===n.userId&&e.path.isEqual(l))return Nn(t).get(s).next(function(t){if(!t)throw y("Dangling document-mutation reference found: "+r+" which points to "+s);m(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+s),o.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ne(Q),i=[];return e.forEach(function(e){var o=hr.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),u=xn(t).iterate({range:a},function(t,i,o){var a=t[0],u=t[2],s=En(t[1]);a===n.userId&&e.path.isEqual(s)?r=r.add(u):o.done()});i.push(u)}),Tn.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;m(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),m(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=hr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),u=new ne(Q);return xn(t).iterate({range:a},function(t,e,o){var a=t[0],s=t[2],l=En(t[1]);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(u=u.add(s)):o.done()}).next(function(){return n.lookupMutationBatches(t,u)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Nn(t).get(e).next(function(t){if(null===t)throw y("Dangling document-mutation reference found, which points to "+e);m(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Tn.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return On(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),Tn.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Tn.resolve();var r=IDBKeyRange.lowerBound(hr.prefixForUser(e.userId)),i=[];return xn(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=En(t[1]);i.push(o)}else r.done()}).next(function(){m(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return An(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Pn(t).get(this.userId).next(function(t){return t||new lr(e.userId,-1,"")})},t}();function An(t,e,n){var r=hr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return xn(t).iterate({range:o,keysOnly:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function On(t,e,n){var r=t.store(cr.store),i=t.store(hr.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.iterate({range:a},function(t,e,n){return u++,n.delete()});o.push(s.next(function(){m(1===u,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=hr.key(e,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return Tn.waitFor(o).next(function(){return l})}function kn(t){return t instanceof Uint8Array?(m("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Nn(t){return jr.getStore(t,cr.store)}function xn(t){return jr.getStore(t,hr.store)}function Pn(t){return jr.getStore(t,lr.store)}var Rn=1,Mn=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),Fn=function(){function t(t,e){this.generatorId=t,m((t&Rn)===t,"Generator ID "+t+" contains more than "+Rn+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Rn,t},t.prototype.after=function(t){return this.seek(t+(1<<Rn)),this.next()},t.prototype.seek=function(t){m((t&Rn)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Mn.QueryCache,2)},t.forSyncEngine=function(){return new t(Mn.SyncEngine)},t}(),Ln=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return m(t.isAvailable(),"IndexedDB not supported in current environment."),p("SimpleDb","Opening database:",e),new Tn(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onblocked=function(){o(new C(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new C(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){p("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Vn(a.transaction);r.createOrUpgrade(n,i,t.oldVersion,or).next(function(){p("SimpleDb","Database upgrade to version "+or+" complete")})}}).toPromise()},t.delete=function(t){return p("SimpleDb","Removing database:",t),Bn(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=window.navigator.userAgent,n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_")[0]:"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.runTransaction=function(t,e,n){var r=Vn.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),Tn.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),jn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Bn(this.dbCursor.delete())},t}(),Vn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new dn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return m(!!e,"Object store not part of transaction: "+t),new Un(e)},t}(),Un=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Bn(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),Bn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Bn(this.store.get(t)).next(function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),Bn(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),Bn(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Tn(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Tn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new jn(i),a=e(i.primaryKey,i.value,o);if(a instanceof Tn){var u=a.catch(function(t){return o.done(),Tn.reject(t)});n.push(u)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Tn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(m(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Bn(t){return new Tn(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}var qn=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Fn.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return $t.fromTimestamp(new et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return Kn(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Hn(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return m(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Hn(t).iterate(function(a,u){var s=r.serializer.fromDbTarget(u);s.sequenceNumber<=e&&void 0===n[s.targetId]&&(i++,o.push(r.removeQueryData(t,s)))}).next(function(){return Tn.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return Hn(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return zn(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,jr.getStore(n,mr.store)).put(mr.key,e);var n},t.prototype.saveQueryData=function(t,e){return Hn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Hn(t).iterate({range:i,index:gr.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Gn(t);return e.forEach(function(e){var a=wn(e.path);i.push(o.put(new yr(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),Tn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Gn(t);return Tn.forEach(e,function(e){var o=wn(e.path);return Tn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Gn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Gn(t),i=xe();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=En(t[1]),o=new lt(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=wn(e.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return Gn(t).iterate({index:yr.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return Hn(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function Hn(t){return jr.getStore(t,gr.store)}function zn(t){return Ln.getStore(t,mr.store).get(mr.key).next(function(t){return m(null!==t,"Missing metadata row."),t})}function Kn(t){return zn(t).next(function(t){return t.highestListenSequenceNumber})}function Gn(t){return jr.getStore(t,yr.store)}var Qn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){D(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return A(this.inner)},t}(),Wn=function(){function t(){this.changes=Ie(),this.documentSizes=new Qn(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?Tn.resolve(r):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return m(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Yn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Jn=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=Ln.getStore(t,_r.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var i=$n(t),o=xe(),a=0,u=e;a<u.length;a++){var s=u[a],l=s.key,c=s.doc;r.push(i.put(er(l),c)),o=o.add(l),r.push(this.indexManager.addToCollectionParentIndex(t,l.path.popLast()))}this.keepDocumentChangeLog&&r.push(tr(t).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(t,n))}return Tn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=$n(t),r=er(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return nr(t)}):Tn.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return $n(t).get(er(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return $n(t).get(er(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:nr(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Te();return this.forEachDbEntry(t,e,function(t,e){r=r.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Te(),i=new pt(lt.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,nr(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Tn.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return $n(t).iterate({range:r},function(t,e,r){for(var a=lt.fromSegments(t);o&&lt.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;m(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Ae(),i=e.path.length+1,o=e.path.toArray(),a=IDBKeyRange.lowerBound(o);return $n(t).iterate({range:a},function(t,o,a){if(t.length===i){var u=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(u.key.path)?u instanceof ht&&e.matches(u)&&(r=r.insert(u.key,u)):a.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;m(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=xe(),r=Ie(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=tr(t);return a.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return Tn.reject(new C(_.DATA_LOSS,Yn))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new ft(n,$t.forDeletedDoc());r=r.insert(n,e)}))}),Tn.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return tr(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new Zn(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Xn(t).get(vr.key).next(function(t){return m(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return Xn(t).put(vr.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();function Xn(t){return jr.getStore(t,vr.store)}var Zn=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentCache.serializer.toDbRemoteDocument(n),a=e.documentSizes.get(t);m(void 0!==a,"Attempting to change document "+t.toString()+" without having read it first");var u=nr(o);r+=u-a,i.push({key:t,doc:o})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Wn);function $n(t){return jr.getStore(t,pr.store)}function tr(t){return jr.getStore(t,_r.store)}function er(t){return t.path.toArray()}function nr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var rr=function(){function t(){this.collectionParentIndex=new ir}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),Tn.resolve()},t.prototype.getCollectionParents=function(t,e){return Tn.resolve(this.collectionParentIndex.getEntries(e))},t}(),ir=function(){function t(){this.index={}}return t.prototype.add=function(t){m(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ne(at.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new ne(at.comparator)).toArray()},t}(),or=8,ar=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;m(n<r&&n>=0&&r<=or,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(sr.store)}(t),function(t){t.createObjectStore(lr.store,{keyPath:lr.keyPath}),t.createObjectStore(cr.store,{keyPath:cr.keyPath,autoIncrement:!0}).createIndex(cr.userMutationsIndex,cr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(hr.store)}(t),wr(t),function(t){t.createObjectStore(pr.store)}(t));var o=Tn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(yr.store),t.deleteObjectStore(gr.store),t.deleteObjectStore(mr.store)}(t),wr(t)),o=o.next(function(){return function(t){var e=t.store(mr.store),n=new mr(0,0,$t.MIN.toTimestamp(),0);return e.put(mr.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(cr.store).loadAll().next(function(n){t.deleteObjectStore(cr.store),t.createObjectStore(cr.store,{keyPath:cr.keyPath,autoIncrement:!0}).createIndex(cr.userMutationsIndex,cr.userMutationsKeyPath,{unique:!0});var r=e.store(cr.store),i=n.map(function(t){return r.put(t)});return Tn.waitFor(i)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(Cr.store,{keyPath:Cr.keyPath})}(t),function(t){t.createObjectStore(_r.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(vr.store)}(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(e)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(pr.store).iterate(function(t,n){e+=nr(n)}).next(function(){var n=new vr(e);return t.store(vr.store).put(vr.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(lr.store),r=t.store(cr.store);return n.loadAll().next(function(n){return Tn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(cr.userMutationsIndex,i).next(function(r){return Tn.forEach(r,function(r){m(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return On(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(yr.store),n=t.store(pr.store);return Kn(t).next(function(t){var r=[];return n.iterate(function(n,i){var o=new at(n),a=function(t){return[0,wn(t)]}(o);r.push(e.get(a).next(function(n){return n?Tn.resolve():function(n){return e.put(new yr(0,wn(n),t))}(o)}))}).next(function(){return Tn.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(br.store,{keyPath:br.keyPath});var n=e.store(br.store),r=new ir,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:wn(i)})}};return e.store(pr.store).iterate({keysOnly:!0},function(t,e){var n=new at(t);return i(n.popLast())}).next(function(){return e.store(hr.store).iterate({keysOnly:!0},function(t,e){var n=En(t[1]);return i(n.popLast())})})},t}(),ur=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),sr=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),lr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),cr=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),hr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wn(e)]},t.key=function(t,e,n){return[t,wn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),fr=function(){return function(t,e){this.path=t,this.readTime=e}}(),dr=function(){return function(t,e){this.path=t,this.version=e}}(),pr=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),vr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),gr=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),yr=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,m(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),mr=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),br=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function wr(t){t.createObjectStore(yr.store,{keyPath:yr.keyPath}).createIndex(yr.documentTargetsIndex,yr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(gr.store,{keyPath:gr.keyPath}).createIndex(gr.queryTargetsIndexName,gr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(mr.store)}var _r=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),Cr=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),Er=[lr.store,cr.store,hr.store,pr.store,gr.store,sr.store,mr.store,yr.store].concat([Cr.store,_r.store]).concat([vr.store]).concat([br.store]),Sr=function(){function t(){this.collectionParentsCache=new ir}return t.prototype.addToCollectionParentIndex=function(t,e){if(m(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){m(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Ir(t).put({collectionId:n,parent:wn(r)})}return Tn.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Y(e),""],!1,!0);return Ir(t).loadAll(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(En(o.parent))}return n})},t}();function Ir(t){return jr.getStore(t,br.store)}var Tr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=lt.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new ft(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=lt.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new dt(e,n)):y("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ht){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new pr(null,null,e,i=t.hasCommittedMutations)}if(t instanceof ft){var n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),i=t.hasCommittedMutations;return new pr(null,new fr(n,r),null,i)}return t instanceof dt?(n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),new pr(new dr(n,r),null,null,!0)):y("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new ur(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new et(t.seconds,t.nanoseconds);return $t.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new cr(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=et.fromMillis(t.localWriteTimeMs);return new Sn(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(wn(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=xe(),n=0,r=t;n<r.length;n++)e=e.add(new lt(En(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new ee(e,t.targetId,te.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){m(te.Listen===t.purpose,"Only queries with purpose "+te.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(m("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new gr(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function Dr(t,e){var n=t[1],r=e[1],i=Q(t[0],e[0]);return 0===i?Q(n,r):i}var Ar=function(){function t(t){this.maxElements=t,this.buffer=new ne(Dr),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Dr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Or={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),Nr=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){m(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==kr.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;m(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(hn.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Vr)})},t}(),xr=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Tn.resolve(fn.INVALID);var r=new Ar(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===kr.COLLECTION_DISABLED?(p("LruGarbageCollector","Garbage collection skipped; disabled"),Tn.resolve(Or)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Or):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,o,a,u,s,l,c=this;return o=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,u=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return l=Date.now(),f()<=h.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-o)+"ms\n\tDetermined least recently used "+r+" in "+(u-a)+"ms\n\tRemoved "+i+" targets in "+(s-u)+"ms\n\tRemoved "+t+" documents in "+(l-s)+"ms\nTotal Duration: "+(l-o)+"ms"),Tn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Pr="IndexedDbPersistence",Rr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",Fr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Lr=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return a.__extends(e,t),e}(function(){return function(){}}()),jr=function(){function t(e,n,r,i,o,a,u){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new C(_.UNIMPLEMENTED,Fr);if(this.referenceDelegate=new qr(this,a),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Tr(o),this.document=r.document,this.allowTabSynchronization=void 0!==u,this.queryCache=new qn(this.referenceDelegate,this.serializer),this.indexManager=new Sr,this.remoteDocumentCache=new Jn(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Lr)return Ln.getStore(t.simpleDbTransaction,e);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,o,u){return a.__awaiter(this,void 0,void 0,function(){var s;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(s=new t(e,n,r,i,o,u)).start()];case 1:return a.sent(),[2,s]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,o,u,s){return a.__awaiter(this,void 0,void 0,function(){var l;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(l=new t(e,n,r,i,o,u,s)).start()];case 1:return a.sent(),[2,l]}})})},t.prototype.start=function(){var t=this;return m(!this.started,"IndexedDbPersistence double-started!"),m(null!==this.window,"Expected 'window' to be defined"),Ln.openOrCreate(this.dbName,or,new ar(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[mr.store],function(e){return Kn(e).next(function(e){t.listenSequence=new fn(e,t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",Er,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Er,function(e){return Br(e).put(new Cr(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return Ur(t).get(sr.key).next(function(t){return Tn.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Br(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return a.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,Cr.store);return o.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Tn.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(hn.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Ur(t).get(sr.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,Mr);return!1}}return!(!e.networkEnabled||!e.inForeground)||Br(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&p(Pr,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[sr.store,Cr.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Cr.store],function(e){return Br(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return t.isAvailable()?[4,Ln.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return m(this.started,"Cannot initialize MutationQueue before persistence is started."),Dn.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return m(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return m(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return m(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return p(Pr,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Er,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw v("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new C(_.FAILED_PRECONDITION,Rr);return n(new Lr(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Lr(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Ur(t).get(sr.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,Mr)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new sr(this.clientId,this.allowTabSynchronization,Date.now());return Ur(t).put(sr.key,e)},t.isAvailable=function(){return Ln.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Ur(t);return n.get(sr.key).next(function(t){return e.isLocalClient(t)?(p(Pr,"Releasing primary lease."),n.delete(sr.key)):Tn.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(v("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(m(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(m("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return p(Pr,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return v(Pr,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){v("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Vr(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){if(!function(t){return t.code===_.FAILED_PRECONDITION&&t.message===Rr}(t))throw t;return p(Pr,"Unexpectedly lost primary lease"),[2]})})}function Ur(t){return t.store(sr.store)}function Br(t){return t.store(Cr.store)}var qr=function(){function t(t,e){this.db=t,this.garbageCollector=new xr(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return Hr(t,e)},t.prototype.removeReference=function(t,e){return Hr(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return Hr(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Tn.resolve(!0):function(t,e){var n=!1;return Pn(t).iterateSerial(function(r){return An(t,r,e).next(function(t){return t&&(n=!0),Tn.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(t,function(a,u){if(u<=e){var s=n.isPinned(t,a).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,a).next(function(t){i+=t})});o.push(s)}}).next(function(){return Tn.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,i=this.db.getRemoteDocumentCache();return Tn.waitFor([Gn(t).delete((n=e,[0,wn(n.path)])),i.removeEntry(t,e).next(function(t){r+=t})]).next(function(){return r})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Hr(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=Gn(t),i=fn.INVALID;return r.iterate({index:yr.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==fn.INVALID&&e(new lt(En(n)),i),i=a,n=o):i=fn.INVALID}).next(function(){i!==fn.INVALID&&e(new lt(En(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Hr(t,e){return Gn(t).put(function(t,e){return new yr(0,wn(t.path),e)}(e,t.currentSequenceNumber))}var zr=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Te();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=Ie();return i.forEach(function(t,e){e||(e=new ft(t,$t.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new lt(e)).next(function(t){var e=Ae();return t instanceof ht&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;m(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=Ae();return this.indexManager.getCollectionParents(t,r).next(function(o){return Tn.forEach(o,function(o){var a=e.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(t,a).next(function(t){t.forEach(function(t,e){i=i.insert(t,e)})})}).next(function(){return i})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,u=o.mutations;a<u.length;a++){var s=u[a],l=s.key;if(e.path.isImmediateParentOf(l.path)){var c=n.get(l),h=s.applyToLocalView(c,c,o.localWriteTime);n=h instanceof ht?n.insert(l,h):n.remove(l)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),Kr=function(){function t(){this.refsByKey=new ne(Gr.compareByKey),this.refsByTarget=new ne(Gr.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Gr(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Gr(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=lt.EMPTY,r=new Gr(n,t),i=new Gr(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=lt.EMPTY,n=new Gr(e,t),r=new Gr(e,t+1),i=xe();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Gr(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Gr=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)||Q(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return Q(t.targetOrBatchId,e.targetOrBatchId)||lt.comparator(t.key,e.key)},t}(),Qr=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Kr,this.queryDataByTarget={},m(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new zr(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new zr(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],o=[],a=xe(),u=0,s=r;u<s.length;u++){i.push((d=s[u]).batchId);for(var l=0,c=d.mutations;l<c.length;l++)a=a.add(c[l].key)}for(var h=0,f=t;h<f.length;h++){var d;o.push((d=f[h]).batchId);for(var p=0,v=d.mutations;p<v.length;p++)a=a.add(v[p].key)}return e.localDocuments.getDocuments(n,a).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this,n=et.now(),r=t.reduce(function(t,e){return t.add(e.key)},xe());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return e.localDocuments.getDocuments(i,r).next(function(r){for(var o=[],a=0,u=t;a<u.length;a++){var s=u[a],l=r.get(s.key);if(!s.isIdempotent){var c=s.fieldMask;if(c){var h=l instanceof ht?c.applyTo(l.data):Rt.EMPTY;o.push(new he(s.key,h,c,se.exists(!0)))}}}return e.mutationQueue.addMutationBatch(i,n,o,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Tn.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return m(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],a=xe();T(e.targetChanges,function(r,u){var s=n.queryDataByTarget[r];if(s){u.addedDocuments.forEach(function(t){a=a.add(t)}),u.modifiedDocuments.forEach(function(t){a=a.add(t)}),o.push(n.queryCache.removeMatchingKeys(i,u.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,u.addedDocuments,r)}));var l=u.resumeToken;if(l.length>0){var c=s;s=s.copy({resumeToken:l,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=s,t.shouldPersistQueryData(c,s,u)&&o.push(n.queryCache.updateQueryData(i,s))}}});var u=Ie(),s=xe();e.documentUpdates.forEach(function(t,e){s=s.add(t)}),o.push(r.getEntries(i,s).next(function(t){e.documentUpdates.forEach(function(s,l){var c=t.get(s);null==c||l.version.isEqual($t.MIN)||a.has(l.key)&&!c.hasPendingWrites||l.version.compareTo(c.version)>=0?(r.addEntry(l),u=u.insert(s,l)):p("LocalStore","Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version),e.resolvedLimboDocuments.has(s)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,s))})}));var l=e.snapshotVersion;if(!l.isEqual($t.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return m(l.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+l+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,l)});o.push(c)}return Tn.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,u)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Tn.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Tn.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,Tn.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new ee(t,i,te.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return m(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",function(r){return n.queryCache.getQueryData(r,t).next(function(i){m(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=n.queryDataByTarget[o],u=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?Tn.resolve():Tn.forEach(u,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Tn.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);m(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):m(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Wr=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new ne(Gr.compareByKey)}return t.prototype.checkEmpty=function(t){return Tn.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");m(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return m(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Tn.resolve()},t.prototype.getLastStreamToken=function(t){return Tn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Tn.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){m(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&m(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Sn(i,e,n,r);this.mutationQueue.push(o);for(var a=0,u=r;a<u.length;a++){var s=u[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Gr(s.key,i)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast())}return Tn.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Tn.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return m(null!=n,"Failed to find local mutation batch."),Tn.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return Tn.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getAllMutationBatches=function(t){return Tn.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Gr(e,0),i=new Gr(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){m(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);m(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Tn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ne(Q);return e.forEach(function(t){var e=new Gr(t,0),i=new Gr(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){m(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Tn.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){m(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;lt.isDocumentKey(i)||(i=i.child(""));var o=new Gr(new lt(i),0),a=new ne(Q);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),Tn.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;m(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Tn.forEach(e.mutations,function(i){var o=new Gr(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Gr(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Tn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&m(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Tn.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return m(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return m(n.batchId===t,"If found batch must match"),n},t}(),Yr=function(){function t(t){this.persistence=t,this.queries=new Qn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=$t.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Kr,this.targetCount=0,this.targetIdGenerator=Fn.forQueryCache()}return t.prototype.getTargetCount=function(t){return Tn.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Tn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Tn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Tn.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Tn.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Tn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return m(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Tn.resolve()},t.prototype.updateQueryData=function(t,e){return m(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Tn.resolve()},t.prototype.removeQueryData=function(t,e){return m(this.targetCount>0,"Removing a target from an empty cache"),m(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Tn.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,u){u.sequenceNumber<=e&&!n[u.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,u.targetId)),i++)}),Tn.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return Tn.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Tn.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return y("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),Tn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),Tn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Tn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Tn.resolve(n)},t.prototype.containsKey=function(t,e){return Tn.resolve(this.references.containsKey(e))},t}(),Jr=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new pt(lt.comparator),this.newDocumentChanges=xe(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i],u=a.maybeDocument.key;this.docs=this.docs.insert(u,a),this.newDocumentChanges=this.newDocumentChanges.add(u),r.push(this.indexManager.addToCollectionParentIndex(t,u.path.popLast()))}return this.size+=n,Tn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,Tn.resolve(n.size)):Tn.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Tn.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return Tn.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=Te();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Tn.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=Te(),i=new pt(lt.comparator);return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),i=i.insert(t,e?e.size:0)}),Tn.resolve({maybeDocuments:r,sizeMap:i})},t.prototype.getDocumentsMatchingQuery=function(t,e){m(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Ae(),r=new lt(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value.maybeDocument;if(!e.path.isPrefixOf(o.key.path))break;a instanceof ht&&e.matches(a)&&(n=n.insert(a.key,a))}return Tn.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Tn.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Ie();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new ft(t,$t.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=xe(),Tn.resolve(n)},t.prototype.newChangeBuffer=function(){return new Xr(this.sizer,this)},t.prototype.getSize=function(t){return Tn.resolve(this.size)},t}(),Xr=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentSizes.get(t);m(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var a=e.sizer(n);r+=a-o,i.push({maybeDocument:n,size:a})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Wn),Zr=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new fn(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Yr(this),this.indexManager=new rr,this.remoteDocumentCache=new Jr(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new ei(t,new Tr(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new ti(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Wr(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new $r(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Tn.or((n=this.mutationQueues,r=[],D(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),$r=function(){return function(t){this.currentSequenceNumber=t}}(),ti=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Tn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Tn.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Tn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return Tn.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?Tn.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Tn.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Tn.resolve(n.inMemoryPins.containsKey(e))}])},t}(),ei=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new Qn(function(t){return wn(t.path)}),this.garbageCollector=new xr(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Tn.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Tn.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?Tn.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(e){return e?Tn.resolve():(r++,i.removeEntry(t,o).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Tn.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Tn.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Tn.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),ni=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),ri=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),ii=1e3,oi=6e4,ai=1.5,ui=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=ri.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new ni(t,e,ii,ai,oi)}return t.prototype.isStarted=function(){return this.state===ri.Starting||this.state===ri.Open||this.state===ri.Backoff},t.prototype.isOpen=function(){return this.state===ri.Open},t.prototype.start=function(){this.state!==ri.Error?(m(this.state===ri.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(ri.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){m(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ri.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.isOpen()?[2,this.close(ri.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return m(this.isStarted(),"Only started streams should be closed."),m(t===ri.Error||Ut(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==ri.Error?this.backoff.reset():e&&e.code===_.RESOURCE_EXHAUSTED?(v(e.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;m(this.state===ri.Initial,"Must be in initial state to auth"),this.state=ri.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new C(_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;m(this.state===ri.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return m(e.state===ri.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=ri.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;m(this.state===ri.Error,"Should only perform backoff when in Error state"),this.state=ri.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return m(this.state===ri.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ri.Initial,this.start(),m(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return m(this.isStarted(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+t),this.stream=null,this.close(ri.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),si=function(t){function e(e,n,r,i,o){var a=t.call(this,e,hn.ListenStreamConnectionBackoff,hn.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(ui),li=function(t){function e(e,n,r,i,o){var a=t.call(this,e,hn.WriteStreamConnectionBackoff,hn.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return a.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(m(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return m(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){m(this.isOpen(),"Writing handshake requires an opened stream"),m(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;m(this.isOpen(),"Writing mutations requires an opened stream"),m(this.handshakeComplete_,"Handshake must be complete before writing mutations"),m(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(ui),ci=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new li(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new si(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Ie();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);m(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),hi=function(){function t(t){this.datastore=t,this.readVersions=ke(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof ht)e=t.version;else{if(!(t instanceof ft))throw y("Document in a transaction was a "+t.constructor.name);e=$t.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new C(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof ft||t instanceof ht?e.recordVersion(t):y("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new C(_.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?se.updateTime(e):se.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual($t.forDeletedDoc()))throw new C(_.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?se.updateTime(e):se.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new de(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,$t.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),fi=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),di=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),pi=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=fi.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(fi.Unknown),m(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(hn.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,m(t.state===fi.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(fi.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===fi.Online?(this.setAndBroadcast(fi.Unknown),m(0===this.watchStreamFailures,"watchStreamFailures must be 0"),m(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(fi.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===fi.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(v(e),this.shouldWarnClientIsOffline=!1):p("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),vi=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new pi(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(fi.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(fi.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(p("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return p("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(fi.Unknown),[2]}})})},t.prototype.listen=function(t){m(!S(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){m(S(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(fi.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){m(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Qe(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return T(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return void 0===t&&m(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(fi.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(fi.Online),t instanceof Ke&&t.state===ze.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof qe?this.watchChangeAggregator.handleDocumentChange(t):t instanceof He?this.watchChangeAggregator.handleExistenceFilter(t):(m(t instanceof Ke,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual($t.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;m(!t.isEqual($t.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return T(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:w()}),e.sendUnwatchRequest(t);var r=new ee(n.query,t,te.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;m(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return S(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){m(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){m(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)}).catch(Vr)},t.prototype.onMutationResult=function(t,e){var n=this;m(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=In.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return void 0===t&&m(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return _e(t.code)?(p("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(Vr)]):[2]})})},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){return _e(i=t.code)&&i!==_.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new hi(this.datastore)},t.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(p("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(fi.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(fi.Unknown),e.label=4;case 4:return[2]}})})},t}(),gi=function(){return function(){this.listeners=[]}}(),yi=function(){function t(t){this.syncEngine=t,this.queries=new Qn(function(t){return t.canonicalId()}),this.onlineState=fi.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new gi,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return a.__generator(this,function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,a=i.listeners;o<a.length;o++)a[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)})},t}(),mi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=fi.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(m(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Fe.Metadata&&e.push(i)}t=new Ve(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return m(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==fi.Offline?(m(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===fi.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){m(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Ve.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),bi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=xe(),i=xe(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case Fe.Added:r=r.add(u.doc.key);break;case Fe.Removed:i=i.add(u.doc.key)}}return new t(e,r,i)},t}(),wi=function(){return function(t){this.key=t}}(),_i=function(){return function(t){this.key=t}}(),Ci=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=xe(),this.mutatedKeys=xe(),this.documentSet=new Me(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new je,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),c=e instanceof ht?e:null;c&&(m(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!l&&n.mutatedKeys.has(l.key),f=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),d=!1;l&&c?l.data.isEqual(c.data)?h!==f&&(r.track({type:Fe.Metadata,doc:c}),d=!0):n.shouldWaitForSyncedDocument(l,c)||(r.track({type:Fe.Modified,doc:c}),d=!0,s&&n.query.docComparator(c,s)>0&&(u=!0)):!l&&c?(r.track({type:Fe.Added,doc:c}),d=!0):l&&!c&&(r.track({type:Fe.Removed,doc:l}),d=!0,s&&(u=!0)),d&&(c?(a=a.add(c),o=f?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),o=o.delete(l.key),r.track({type:Fe.Removed,doc:l})}return m(!u||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:u,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;m(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Fe.Added:return 1;case Fe.Modified:case Fe.Metadata:return 2;case Fe.Removed:return 0;default:return y("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],u=0===this.limboDocuments.size&&this.current?Le.Synced:Le.Local,s=u!==this.syncState;return this.syncState=u,0!==o.length||s?{snapshot:new Ve(this.query,t.documentSet,i,o,t.mutatedKeys,u===Le.Local,s,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===fi.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new je,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return m(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=xe(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new _i(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new wi(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=xe();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Ve.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Le.Local)},t}(),Ei=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Si=function(){return function(t){this.key=t}}(),Ii=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Qn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new pt(lt.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Kr,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Fn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=fi.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){m(null!==t,"SyncEngine listener cannot be null"),m(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(t.targetId).then(function(o){var a=new Ci(r,o),u=a.computeDocChanges(i),s=Be.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==fi.Offline),l=a.applyChanges(u,!0===n.isPrimary,s);m(0===l.limboChanges.length,"View returned limbo docs before target ack from the server."),m(!!l.snapshot,"applyChanges for new view should always return a snapshot");var c=new Ei(r,t.targetId,a);return n.queryViewsByQuery.set(r,c),n.queryViewsByTarget[t.targetId]=c,l.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return a.__awaiter(e,void 0,void 0,function(){var e;return a.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),m(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(Vr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),m(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Ut(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return D(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(m(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?m(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(m(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(Vr)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===di.RemoteStore||!this.isPrimary&&e===di.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);m(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,u,s,l=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new pt(lt.comparator)).insert(r,new ft(r,$t.forDeletedDoc())),o=xe().add(r),u=new Ue($t.MIN,{},new ne(Q),i,o),[2,this.applyRemoteEvent(u)]):[3,1];case 1:return m(!!(s=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(s.query,!1).then(function(){return l.removeAndCleanupQuery(s)}).catch(Vr)];case 2:a.sent(),this.syncEngineListener.onWatchError(s.query,e),a.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(p("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):y("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(Vr)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(Vr)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new pt(Q)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(m(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof wi?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof _i?(p("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):y("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){p("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=qt.atPath(e.path);this.limboResolutionsByTarget[n]=new Si(e),this.remoteStore.listen(new ee(r,n,te.LimboResolution,fn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return a.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,u){i.push(Promise.resolve().then(function(){var e=u.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(u.query).then(function(t){return u.view.computeDocChanges(t,e)}):e}).then(function(t){var i=u.view.applyChanges(t,!0===o.isPrimary,e&&e.targetChanges[u.targetId]);if(o.updateTrackedLimbos(u.targetId,i.limboChanges),i.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(u.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var a=bi.fromSnapshot(u.targetId,i.snapshot);r.push(a)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){m(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,u,s=this;return a.__generator(this,function(a){switch(a.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=a.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],u=Promise.resolve(),T(this.queryViewsByTarget,function(t,e){s.sharedClientState.isLocalQueryTarget(t)?o.push(t):u=u.then(function(){return s.unlisten(e.query)}),s.remoteStore.unlisten(e.targetId)}),[4,u]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;T(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new pt(lt.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],o=function(t){n=n.then(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,o,u;return a.__generator(this,function(a){switch(a.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return a.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=a.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=a.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return m(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return m(!!(u=a.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(u)];case 6:return e=a.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:a.sent(),a.label=8;case 8:return r.push(e),[2]}})})})},u=0,s=t;u<s.length;u++)o(s[u]);return n.then(function(){return e.syncEngineListener.onWatchChange(i),r})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r,i=this;return a.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return p("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return a.__awaiter(i,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return r=Ue.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(t){return a.__awaiter(i,void 0,void 0,function(){var e;return a.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===_.DATA_LOSS&&t.message===Yn}(t)?(e=[],T(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return this.removeAndCleanupQuery(r=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:y("Unexpected target state: "+e),o.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,u,s,l,c,h,f=this;return a.__generator(this,function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,d.label=1;case 1:return n<r.length?(m(!this.queryViewsByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return m(!!(i=d.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=d.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:d.sent(),this.remoteStore.listen(o),d.label=5;case 5:return n++,[3,1];case 6:u=function(t){var e;return a.__generator(this,function(n){switch(n.label){case 0:return(e=s.queryViewsByTarget[t])?[4,s.localStore.releaseQuery(e.query,!1).then(function(){f.remoteStore.unlisten(t),f.removeAndCleanupQuery(e)}).catch(Vr)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},s=this,l=0,c=e,d.label=7;case 7:return l<c.length?[5,u(h=c[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?xe().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:xe()},t}(),Ti=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Di="SharedClientState",Ai="firestore_clients",Oi="firestore_mutations",ki="firestore_targets",Ni="firestore_online_state",xi="firestore_sequence_number",Pi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,m(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new C(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(v(Di,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ri=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,m(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new C(r.error.code,r.error.message)),i?new t(e,r.state,o):(v(Di,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Re(),a=0;i&&a<r.activeTargetIds.length;++a)i=Bt(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(v(Di,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Fi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&void 0!==fi[n.onlineState]&&"string"==typeof n.clientId?new t(n.clientId,fi[n.onlineState]):(v(Di,"Failed to parse online state: "+e),null)},t}(),Li=function(){function t(){this.activeTargetIds=Re()}return t.prototype.addQueryTarget=function(t){m(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ji=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=xi+"_"+r,this.activeClients[this.localClientId]=new Li,this.clientStateKeyRe=new RegExp("^"+Ai+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Oi+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+ki+"_"+a+"_(\\d+)$"),this.onlineStateKey=Ni+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,u,s,l,c,h=this;return a.__generator(this,function(a){switch(a.label){case 0:return m(!this.started,"WebStorageSharedClientState already started"),m(null!==this.syncEngine,"syncEngine property must be set before calling start()"),m(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Mi.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(u=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(u))&&this.handleOnlineStateEvent(s),l=0,c=this.earlyEvents;l<c.length;l++)this.handleWebStorageEvent(c[l]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Re();return D(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ri.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p(Di,"READ",t,e),e},t.prototype.setItem=function(t,e){p(Di,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p(Di,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(p(Di,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,u;return a.__generator(this,function(a){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(m(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(u=function(t){var e=fn.INVALID;if(null!=t)try{var n=JSON.parse(t);m("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){v(Di,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==fn.INVALID&&this.sequenceNumberHandler(u));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Pi(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:fi[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Ri(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return m(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Ai+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return ki+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Oi+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return m(null!==n,"Cannot parse client state key '"+t+"'"),Mi.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);m(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Pi.fromWebStorageEntry(new Ti(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);m(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Ri.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Fi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(p(Di,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],u=[];return i.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return i.has(t)||u.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,u)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Vi=function(){function t(){this.localState=new Li,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Li,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Ui=function(){function t(t,e){this.cacheSizeBytes=t,this.experimentalTabSynchronization=e}return t.prototype.lruParams=function(){return kr.withCacheSize(this.cacheSizeBytes)},t}(),Bi=function(){return function(){}}(),qi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=G.newId(),this.isShutdown=!1}return t.prototype.start=function(t){var e=this;this.verifyNotShutdown();var n=new dn,r=new dn,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Ui?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof C?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code},t.prototype.verifyNotShutdown=function(){if(this.isShutdown)throw new C(_.FAILED_PRECONDITION,"The client has already been shutdown.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=jr.buildStoragePrefix(this.databaseInfo),i=new rn(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return a.__awaiter(n,void 0,void 0,function(){var n,o;return a.__generator(this,function(a){switch(a.label){case 0:if(e.experimentalTabSynchronization&&!ji.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=e.lruParams(),e.experimentalTabSynchronization?(this.sharedClientState=new ji(this.asyncQueue,this.platform,r,this.clientId,t),[4,jr.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=a.sent(),[3,4];case 2:return this.sharedClientState=new Vi,[4,jr.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:n=a.sent(),a.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Zr.createEagerPersistence(this.clientId),this.sharedClientState=new Vi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return p("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return a.__awaiter(n,void 0,void 0,function(){var n,i,o,u=this;return a.__generator(this,function(s){switch(s.label){case 0:return this.localStore=new Qr(this.persistence,t),e&&(this.lruScheduler=new Nr(e,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),i=new ci(this.asyncQueue,r,this.credentials,n),o=function(t){return u.syncEngine.applyOnlineStateChange(t,di.SharedClientState)},this.remoteStore=new vi(this.localStore,i,this.asyncQueue,function(t){return u.syncEngine.applyOnlineStateChange(t,di.RemoteStore)}),this.syncEngine=new Ii(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=o,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new yi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return s.sent(),[4,this.remoteStore.start()];case 2:return s.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return a.__awaiter(u,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return s.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return!0===this.isShutdown?Promise.resolve():this.asyncQueue.enqueue(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),this.isShutdown=!0,[2]}})})})},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotShutdown();var i=new mi(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ht)return t;if(t instanceof ft)return null;throw new C(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=xe(),r=new Ci(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this;this.verifyNotShutdown();var n=new dn;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Hi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),zi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new C(_.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}();for(var n=0;n<t.length;++n)if(P("FieldPath","string",n,t[n]),0===t[n].length)throw new C(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(st.keyField().canonicalString()),t}(),Ki=new RegExp("[~\\*/\\[\\]]"),Gi=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Qi=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){m(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Ti.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){m(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Wi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;m(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new C(_.ABORTED,"getToken aborted due to token change.");return n?(m("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Gi(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){m(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){m(null!=this.tokenListener,"removeChangeListener() called twice"),m(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return m(null===t||"string"==typeof t,"Received invalid UID: "+t),new Ti(t)},t}(),Yi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Ti.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Ji=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Yi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Ti.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Xi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Zi=function(){function t(t){this._methodName=t}return t.delete=function(){return O("FieldValue.delete",arguments),$i.instance},t.serverTimestamp=function(){return O("FieldValue.serverTimestamp",arguments),to.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayUnion",arguments,1),new eo(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayRemove",arguments,1),new no(t)},t.increment=function(t){return P("FieldValue.increment","number",1,t),k("FieldValue.increment",arguments,1),new ro(t)},t.prototype.isEqual=function(t){return this===t},t}(),$i=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}(Zi),to=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}(Zi),eo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return a.__extends(e,t),e}(Zi),no=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return a.__extends(e,t),e}(Zi),ro=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return a.__extends(e,t),e}(Zi),io=E(Zi,"Use FieldValue.<field>() instead."),oo=/^__.*__$/,ao=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new he(t,this.data,this.fieldMask,e):new ce(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new fe(t,this.fieldTransforms)),n},t}(),uo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new he(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new fe(t,this.fieldTransforms)),n},t}(),so=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function lo(t){switch(t){case so.Set:case so.MergeSet:case so.Update:return!0;case so.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}var co=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(lo(this.dataSource)&&oo.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),ho=function(){return function(t,e){this.databaseId=t,this.key=e}}(),fo=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new co(so.Set,t,st.EMPTY_PATH);vo("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new ao(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new co(so.MergeSet,t,st.EMPTY_PATH);vo("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var u=new ne(st.comparator),s=0,l=n;s<l.length;s++){var c=l[s],h=void 0;if(c instanceof zi)h=c._internalPath;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=yo(t,c)}if(!r.contains(h))throw new C(_.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");u=u.add(h)}i=ie.fromSet(u),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=ie.fromArray(r.fieldMask),o=r.fieldTransforms;return new ao(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new co(so.Update,t,st.EMPTY_PATH);vo("Data must be an object, but it was:",r,e);var i=new ne(st.comparator),o=Rt.EMPTY;D(e,function(e,a){var u=yo(t,e),s=r.childContextForFieldPath(u);if((a=n.runPreConverter(a,s))instanceof $i)i=i.add(u);else{var l=n.parseData(a,s);null!=l&&(i=i.add(u),o=o.set(u,l))}});var a=ie.fromSet(i);return new uo(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new co(so.Update,t,st.EMPTY_PATH),o=[go(t,e)],a=[n];if(r.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<r.length;u+=2)o.push(go(t,r[u])),a.push(r[u+1]);var s=new ne(st.comparator),l=Rt.EMPTY;for(u=0;u<o.length;++u){var c=o[u],h=i.childContextForFieldPath(c),f=this.runPreConverter(a[u],h);if(f instanceof $i)s=s.add(c);else{var d=this.parseData(f,h);null!=d&&(s=s.add(c),l=l.set(c,d))}}var p=ie.fromSet(s);return new uo(l,p,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new co(so.Argument,t,st.EMPTY_PATH),r=this.parseData(e,n);return m(null!=r,"Parsed data should not be null."),m(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=mo(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(po(t=this.runPreConverter(t,e)))return vo("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Zi)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new pt(Q);return A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):D(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Rt(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=Ct.INSTANCE),n.push(a),r++}return new Mt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!lo(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof $i){if(e.dataSource!==so.MergeSet)throw e.dataSource===so.Update?(m(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof to)e.fieldTransforms.push(new oe(e.path,pe.instance));else if(t instanceof eo){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ve(n);e.fieldTransforms.push(new oe(e.path,r))}else if(t instanceof no){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ge(n);e.fieldTransforms.push(new oe(e.path,i))}else if(t instanceof ro){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new ye(o);e.fieldTransforms.push(new oe(e.path,a))}else y("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Ct.INSTANCE;if("number"==typeof t)return Bt(t)?new Tt(t):new Dt(t);if("boolean"==typeof t)return Et.of(t);if("string"==typeof t)return new At(t);if(t instanceof Date)return new Ot(et.fromDate(t));if(t instanceof et)return new Ot(new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof tt)return new Pt(t);if(t instanceof Z)return new Nt(t);if(t instanceof ho)return new xt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+U(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new co(so.Argument,t,st.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function po(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof et||t instanceof tt||t instanceof Z||t instanceof ho||t instanceof Zi)}function vo(t,e,n){if(!po(n)||!V(n)){var r=U(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function go(t,e){if(e instanceof zi)return e._internalPath;if("string"==typeof e)return yo(t,e);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function yo(t,e){try{return function(t){if(t.search(Ki)>=0)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(zi.bind.apply(zi,[void 0].concat(t.split("."))))}catch(e){throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=mo(r);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function mo(t){return t instanceof Error?t.message:t.toString()}var bo="firestore.googleapis.com",wo=!0,_o=!0,Co=!1,Eo=kr.COLLECTION_DISABLED,So=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new C(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bo,this.ssl=wo}else M("settings","non-empty string","host",t.host),this.host=t.host,F("settings","boolean","ssl",t.ssl),this.ssl=I(t.ssl,wo);if(q("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),F("settings","object","credentials",t.credentials),this.credentials=t.credentials,F("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?v("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&v("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=I(t.timestampsInSnapshots,_o),F("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=kr.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Eo&&t.cacheSizeBytes<kr.MINIMUM_CACHE_SIZE_BYTES)throw new C(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+kr.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}F("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Co:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Io=function(){return function(){}}(),To=function(){function t(e){var n=this;this._queue=new vn,this.INTERNAL={delete:function(){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return t.sent(),this.clientRunning=!1,[2]}})})}},this.clientRunning=!1;var r=new Io;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Wi(i)}else{var o=e;if(!o.projectId)throw new C(_.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new it(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Qi}r.settings=new So({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(k("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),S(t,"persistence"))throw new C(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new So(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Qi;switch(t.type){case"gapi":var e=t.client;return m(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Ji(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new C(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new Ui(this._config.settings.cacheSizeBytes,void 0!==t&&I(t.experimentalTabSynchronization,!1)))},t.prototype._clearPersistence=function(){if(this.clientRunning)throw new C(_.FAILED_PRECONDITION,"Persistence cannot be cleared while the client is running");var t=jr.buildStoragePrefix(this.makeDatabaseInfo());return jr.clearPersistence(t)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Bi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new nt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},t.prototype.configureClient=function(t){var e=this;m(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),m(!this._firestoreClient,"configureClient() called multiple times"),this.clientRunning=!0;var n=this.makeDatabaseInfo();return this._dataConverter=new fo(function(t){if(t instanceof Oo){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new C(_.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new ho(e._config.databaseId,t._key)}return t}),this._firestoreClient=new qi(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!S(e,"projectId"))throw new C(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new C(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new it(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new C(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return k("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Mo(at.fromString(t),this)},t.prototype.doc=function(t){return k("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Oo.forPath(at.fromString(t),this)},t.prototype._collectionGroup=function(t){if(k("Firestore.collectionGroup",arguments,1),P("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Po(new qt(at.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return k("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Do(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Ao(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return y("Unknown log level: "+f())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(k("Firestore.setLogLevel",arguments,1),P("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":d(h.DEBUG);break;case"error":d(h.ERROR);break;case"silent":d(h.SILENT);break;default:throw new C(_.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),Do=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;k("Transaction.get",arguments,1);var n=Vo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ft)return new No(e._firestore,n._key,null,!1,!1);if(r instanceof ht)return new No(e._firestore,n._key,r,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){x("Transaction.set",arguments,2,3);var r=Vo("Transaction.set",t,this._firestore),i=(n=Fo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof zi?(N("Transaction.update",arguments,3),r=Vo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(k("Transaction.update",arguments,2),r=Vo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){k("Transaction.delete",arguments,1);var e=Vo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Ao=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){x("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Vo("WriteBatch.set",t,this._firestore),i=(n=Fo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,se.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof zi?(N("WriteBatch.update",arguments,3),r=Vo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(k("WriteBatch.update",arguments,2),r=Vo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,se.exists(!0))),this},t.prototype.delete=function(t){k("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Vo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new de(e._key,se.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Oo=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new lt(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Mo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(k("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new C(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=at.fromString(t);return new Mo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){x("DocumentReference.set",arguments,1,2);var n=(e=Fo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,se.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof zi?(N("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(k("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,se.exists(!0)))},t.prototype.delete=function(){return k("DocumentReference.delete",arguments,0),this._firestoreClient.write([new de(this._key,se.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];x("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Xi(t[i])||(q("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),F("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Xi(t[i])?n=t[i]:(P("DocumentReference.onSnapshot","function",i,t[i]),R("DocumentReference.onSnapshot","function",i+1,t[i+1]),R("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Hi({next:function(t){if(e.next){m(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new No(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(qt.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return x("DocumentReference.get",arguments,0,1),jo("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new No(e.firestore,e._key,t,!0,t instanceof ht&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new C(_.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new C(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),ko=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),No=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return x("DocumentSnapshot.data",arguments,0,1),t=Lo("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,wt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(x("DocumentSnapshot.get",arguments,1,2),e=Lo("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(go("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,wt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Oo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new ko(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Rt)return this.convertObject(t,e);if(t instanceof Mt)return this.convertArray(t,e);if(t instanceof xt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||v("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Oo(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),xo=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return m("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(No),Po=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;k("Query.where",arguments,3),B("Query.where",3,r),function(t,e,n,r){if(!e.some(function(t){return t===r}))throw new C(_.INVALID_ARGUMENT,"Invalid value "+U(r)+" provided to function Query.where() for its "+z(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,n);var o=go("Query.where",e),a=zt.fromString(n);if(o.isKeyField()){if(a===zt.ARRAY_CONTAINS)throw new C(_.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(""===r)throw new C(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==r.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+r+"' contains a slash.");var u=this._query.path.child(at.fromString(r));if(!lt.isDocumentKey(u))throw new C(_.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+u+"' is not because it has an odd number of segments ("+u.length+").");i=new xt(this.firestore._databaseId,new lt(u))}else{if(!(r instanceof Oo))throw new C(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+U(r)+".");i=new xt(this.firestore._databaseId,r._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var s=Ht.create(o,a,i);return this.validateNewFilter(s),new t(this._query.addFilter(s),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(x("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Wt.ASCENDING;else{if("desc"!==n)throw new C(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Wt.DESCENDING}if(null!==this._query.startAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=go("Query.orderBy",e),o=new Jt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(k("Query.limit",arguments,1),P("Query.limit","number",1,e),e<=0)throw new C(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(B(t,1,e),e instanceof No){if(n.length>0)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new C(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new xt(this.firestore._databaseId,e.key));else{var u=e.field(a.field);if(u instanceof kt)throw new C(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===u){var s=a.field.canonicalString();throw new C(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+s+"' (used as the orderBy) does not exist.")}r.push(u)}}return new Yt(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new C(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var u=this._query.path.child(at.fromString(a));if(!lt.isDocumentKey(u))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var s=new lt(u);i.push(new xt(this.firestore._databaseId,s))}else{var l=this.firestore._dataConverter.parseQueryValue(t,a);i.push(l)}}return new Yt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];x("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Xi(t[i])||(q("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),F("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Xi(t[i])?n=t[i]:(P("Query.onSnapshot","function",i,t[i]),R("Query.onSnapshot","function",i+1,t[i+1]),R("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Hi({next:function(t){e.next&&e.next(new Ro(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return x("Query.get",arguments,0,1),jo("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Ro(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new C(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Kt)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new C(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===zt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new C(_.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new C(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Ro=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new ko(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;x("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Po(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(q("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),F("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new C(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new xo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return m(e.type===Fe.Added,"Invalid event type for first snapshot"),m(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Fe.Metadata}).map(function(e){var r=new xo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Fe.Added&&(m((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Fe.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:Uo(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new xo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Ro.prototype.docChanges,t,{get:function(){return function(){throw new C(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Mo=function(t){function e(e,n){var r=t.call(this,qt.atPath(e),n)||this;if(e.length%2!=1)throw new C(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Oo(new lt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(x("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=G.newId()),P("CollectionReference.doc","non-empty string",1,t),""===t)throw new C(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=at.fromString(t);return Oo.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){k("CollectionReference.add",arguments,1),P("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Po);function Fo(t,e){if(void 0===e)return{merge:!1};if(q(t,e,["merge","mergeFields"]),F(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+U(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+U(r[o]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof zi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new C(_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Lo(t,e){return void 0===e?{}:(q(t,e,["serverTimestamps"]),L(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function jo(t,e){R(t,"object",1,e),e&&(q(t,e,["source"]),L(t,0,"source",e.source,["default","server","cache"]))}function Vo(t,e,n){if(e instanceof Oo){if(e.firestore!==n)throw new C(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw H(t,"DocumentReference",1,e)}function Uo(t){switch(t){case Fe.Added:return"added";case Fe.Modified:case Fe.Metadata:return"modified";case Fe.Removed:return"removed";default:return y("Unknown change type: "+t)}}var Bo=E(To,"Use firebase.firestore() instead."),qo=E(Do,"Use firebase.firestore().runTransaction() instead."),Ho=E(Ao,"Use firebase.firestore().batch() instead."),zo=E(Oo,"Use firebase.firestore().doc() instead."),Ko=E(No),Go=E(xo),Qo=E(Po),Wo=E(Ro),Yo=E(Mo,"Use firebase.firestore().collection() instead."),Jo={Firestore:Bo,GeoPoint:tt,Timestamp:et,Blob:$,Transaction:qo,WriteBatch:Ho,DocumentReference:zo,DocumentSnapshot:Ko,Query:Qo,QueryDocumentSnapshot:Go,QuerySnapshot:Wo,CollectionReference:Yo,FieldPath:zi,FieldValue:io,setLogLevel:To.setLogLevel,CACHE_SIZE_UNLIMITED:Eo};function Xo(t){t.INTERNAL.registerService("firestore",function(t){return new To(t)},function(t){m(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Jo))}Xo(i),e.registerFirestore=Xo},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),i=n("L/V9"),o=n("6ahw"),a=n("xTla"),u=n("y3By"),s=n("iLxQ");n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a?a.call(u,this.source):u.add(this.source||s.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),s.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){s.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(u.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=s.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"73IE":function(t,e,n){"use strict";var r=n("H6ty"),i=n("hEy5"),o=n("z5ME")("startsWith"),a="".startsWith;n("pSMy")({target:"String",proto:!0,forced:!o},{startsWith:function(t){var e=i(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),o=String(t);return a?a.call(e,o,n):e.slice(n,n+o.length)===o}})},"7xuS":function(t,e,n){t.exports=n("T3Qk")},"8g8A":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},"9Nts":function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},"9UdO":function(t,e,n){n("q94Q")("dispose")},"9r11":function(t,e,n){t.exports=n("ArVK")},A9d8:function(t,e,n){"use strict";var r=n("YxH6").IteratorPrototype,i=n("tzov"),o=n("2Hee"),a=n("S4gH"),u=n("0i0S"),s=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,l,!1,!0),u[l]=s,t}},ArVK:function(t,e,n){n("d8cw"),t.exports=n("vLVD")("Array","find")},AzFY:function(t,e,n){t.exports=n("tuBy")},BloW:function(t,e,n){var r=n("5eG6"),i=n("ysHE").WeakMap;t.exports="function"==typeof i&&/native code/.test(r.call(i))},CcnG:function(t,e,n){"use strict";n.r(e);var r=n("mrSG"),i=n("pugT"),o=n("K9Ia"),a=n("6blF"),u=n("nkY7"),s=n("Zn8D"),l=n("IUTb"),c=n("S1nX");function h(t){for(var e in t)if(t[e]===h)return e;throw Error("Could not find renamed property on target object.")}function f(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}n.d(e,"\u0275angular_packages_core_core_t",function(){return Zp}),n.d(e,"\u0275angular_packages_core_core_q",function(){return Yp}),n.d(e,"\u0275angular_packages_core_core_r",function(){return Jp}),n.d(e,"\u0275angular_packages_core_core_s",function(){return Xp}),n.d(e,"\u0275angular_packages_core_core_h",function(){return $f}),n.d(e,"\u0275angular_packages_core_core_o",function(){return Op}),n.d(e,"\u0275angular_packages_core_core_p",function(){return Fp}),n.d(e,"\u0275angular_packages_core_core_n",function(){return mp}),n.d(e,"\u0275angular_packages_core_core_m",function(){return yp}),n.d(e,"\u0275angular_packages_core_core_c",function(){return vu}),n.d(e,"\u0275angular_packages_core_core_d",function(){return Pe}),n.d(e,"\u0275angular_packages_core_core_e",function(){return Qf}),n.d(e,"\u0275angular_packages_core_core_f",function(){return Mf}),n.d(e,"\u0275angular_packages_core_core_g",function(){return Bf}),n.d(e,"\u0275angular_packages_core_core_l",function(){return uh}),n.d(e,"\u0275angular_packages_core_core_u",function(){return Dd}),n.d(e,"\u0275angular_packages_core_core_w",function(){return Ed}),n.d(e,"\u0275angular_packages_core_core_v",function(){return Cd}),n.d(e,"\u0275angular_packages_core_core_z",function(){return Td}),n.d(e,"\u0275angular_packages_core_core_x",function(){return Sd}),n.d(e,"\u0275angular_packages_core_core_y",function(){return Id}),n.d(e,"\u0275angular_packages_core_core_bc",function(){return kn}),n.d(e,"\u0275angular_packages_core_core_bj",function(){return v}),n.d(e,"\u0275angular_packages_core_core_bd",function(){return $e}),n.d(e,"\u0275angular_packages_core_core_be",function(){return en}),n.d(e,"\u0275angular_packages_core_core_bf",function(){return bn}),n.d(e,"\u0275angular_packages_core_core_bi",function(){return ai}),n.d(e,"\u0275angular_packages_core_core_bm",function(){return $t}),n.d(e,"\u0275angular_packages_core_core_i",function(){return ds}),n.d(e,"\u0275angular_packages_core_core_j",function(){return ps}),n.d(e,"\u0275angular_packages_core_core_k",function(){return vs}),n.d(e,"\u0275angular_packages_core_core_a",function(){return N}),n.d(e,"\u0275angular_packages_core_core_b",function(){return x}),n.d(e,"\u0275angular_packages_core_core_bk",function(){return h}),n.d(e,"\u0275angular_packages_core_core_ba",function(){return Qg}),n.d(e,"\u0275angular_packages_core_core_bb",function(){return lv}),n.d(e,"createPlatform",function(){return Wd}),n.d(e,"assertPlatform",function(){return Jd}),n.d(e,"destroyPlatform",function(){return Xd}),n.d(e,"getPlatform",function(){return Zd}),n.d(e,"PlatformRef",function(){return $d}),n.d(e,"ApplicationRef",function(){return ep}),n.d(e,"createPlatformFactory",function(){return Yd}),n.d(e,"NgProbeToken",function(){return Qd}),n.d(e,"enableProdMode",function(){return qs}),n.d(e,"isDevMode",function(){return Bs}),n.d(e,"APP_ID",function(){return Zf}),n.d(e,"PACKAGE_ROOT_URL",function(){return od}),n.d(e,"PLATFORM_INITIALIZER",function(){return nd}),n.d(e,"PLATFORM_ID",function(){return rd}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return id}),n.d(e,"APP_INITIALIZER",function(){return Jf}),n.d(e,"ApplicationInitStatus",function(){return Xf}),n.d(e,"DebugElement",function(){return Ap}),n.d(e,"DebugNode",function(){return Dp}),n.d(e,"asNativeElements",function(){return bp}),n.d(e,"getDebugNode",function(){return Ip}),n.d(e,"Testability",function(){return Ud}),n.d(e,"TestabilityRegistry",function(){return Bd}),n.d(e,"setTestabilityGetter",function(){return qd}),n.d(e,"TRANSLATIONS",function(){return Gp}),n.d(e,"TRANSLATIONS_FORMAT",function(){return Qp}),n.d(e,"LOCALE_ID",function(){return Kp}),n.d(e,"MissingTranslationStrategy",function(){return Wp}),n.d(e,"ApplicationModule",function(){return $p}),n.d(e,"wtfCreateScope",function(){return Od}),n.d(e,"wtfLeave",function(){return kd}),n.d(e,"wtfStartTimeRange",function(){return Nd}),n.d(e,"wtfEndTimeRange",function(){return xd}),n.d(e,"Type",function(){return hh}),n.d(e,"EventEmitter",function(){return yc}),n.d(e,"ErrorHandler",function(){return Df}),n.d(e,"Sanitizer",function(){return Os}),n.d(e,"SecurityContext",function(){return As}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return P}),n.d(e,"Attribute",function(){return R}),n.d(e,"ContentChild",function(){return L}),n.d(e,"ContentChildren",function(){return F}),n.d(e,"Query",function(){return M}),n.d(e,"ViewChild",function(){return V}),n.d(e,"ViewChildren",function(){return j}),n.d(e,"Component",function(){return Kh}),n.d(e,"Directive",function(){return zh}),n.d(e,"HostBinding",function(){return Jh}),n.d(e,"HostListener",function(){return Xh}),n.d(e,"Input",function(){return Wh}),n.d(e,"Output",function(){return Yh}),n.d(e,"Pipe",function(){return Gh}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return sf}),n.d(e,"NO_ERRORS_SCHEMA",function(){return lf}),n.d(e,"NgModule",function(){return cf}),n.d(e,"ViewEncapsulation",function(){return ot}),n.d(e,"Version",function(){return ks}),n.d(e,"VERSION",function(){return Ns}),n.d(e,"defineInjectable",function(){return _}),n.d(e,"defineInjector",function(){return C}),n.d(e,"forwardRef",function(){return $}),n.d(e,"resolveForwardRef",function(){return tt}),n.d(e,"Injectable",function(){return mf}),n.d(e,"INJECTOR",function(){return pu}),n.d(e,"Injector",function(){return gu}),n.d(e,"inject",function(){return Re}),n.d(e,"\u0275inject",function(){return Re}),n.d(e,"InjectFlags",function(){return Oe}),n.d(e,"ReflectiveInjector",function(){return Gf}),n.d(e,"createInjector",function(){return Lu}),n.d(e,"ResolvedReflectiveFactory",function(){return jf}),n.d(e,"ReflectiveKey",function(){return xf}),n.d(e,"InjectionToken",function(){return I}),n.d(e,"Inject",function(){return Se}),n.d(e,"Optional",function(){return Ie}),n.d(e,"Self",function(){return Te}),n.d(e,"SkipSelf",function(){return De}),n.d(e,"Host",function(){return Ae}),n.d(e,"NgZone",function(){return Pd}),n.d(e,"\u0275NoopNgZone",function(){return Vd}),n.d(e,"RenderComponentType",function(){return bs}),n.d(e,"Renderer",function(){return _s}),n.d(e,"Renderer2",function(){return Is}),n.d(e,"RendererFactory2",function(){return Es}),n.d(e,"RendererStyleFlags2",function(){return Ss}),n.d(e,"RootRenderer",function(){return Cs}),n.d(e,"COMPILER_OPTIONS",function(){return wd}),n.d(e,"Compiler",function(){return bd}),n.d(e,"CompilerFactory",function(){return _d}),n.d(e,"ModuleWithComponentFactories",function(){return ud}),n.d(e,"ComponentFactory",function(){return $u}),n.d(e,"\u0275ComponentFactory",function(){return $u}),n.d(e,"ComponentRef",function(){return Zu}),n.d(e,"ComponentFactoryResolver",function(){return as}),n.d(e,"ElementRef",function(){return gs}),n.d(e,"NgModuleFactory",function(){return cs}),n.d(e,"NgModuleRef",function(){return ls}),n.d(e,"NgModuleFactoryLoader",function(){return rh}),n.d(e,"getModuleFactory",function(){return lh}),n.d(e,"QueryList",function(){return rp}),n.d(e,"SystemJsNgModuleLoader",function(){return ap}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return ip}),n.d(e,"TemplateRef",function(){return mc}),n.d(e,"ViewContainerRef",function(){return sp}),n.d(e,"EmbeddedViewRef",function(){return vp}),n.d(e,"ViewRef",function(){return pp}),n.d(e,"ChangeDetectionStrategy",function(){return U}),n.d(e,"ChangeDetectorRef",function(){return hp}),n.d(e,"DefaultIterableDiffer",function(){return Np}),n.d(e,"IterableDiffers",function(){return Vp}),n.d(e,"KeyValueDiffers",function(){return Up}),n.d(e,"SimpleChange",function(){return fr}),n.d(e,"WrappedValue",function(){return hr}),n.d(e,"platformCore",function(){return zp}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return Gd}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return td}),n.d(e,"\u0275defaultIterableDiffers",function(){return qp}),n.d(e,"\u0275defaultKeyValueDiffers",function(){return Hp}),n.d(e,"\u0275devModeEqual",function(){return cr}),n.d(e,"\u0275isListLikeIterable",function(){return dr}),n.d(e,"\u0275ChangeDetectorStatus",function(){return B}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return q}),n.d(e,"\u0275Console",function(){return ad}),n.d(e,"\u0275getInjectableDef",function(){return E}),n.d(e,"\u0275setCurrentInjector",function(){return Ne}),n.d(e,"\u0275APP_ROOT",function(){return Nu}),n.d(e,"\u0275ivyEnabled",function(){return ev}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return us}),n.d(e,"\u0275resolveComponentResources",function(){return et}),n.d(e,"\u0275ReflectionCapabilities",function(){return gh}),n.d(e,"\u0275RenderDebugInfo",function(){return ws}),n.d(e,"\u0275_sanitizeHtml",function(){return cl}),n.d(e,"\u0275_sanitizeStyle",function(){return Wc}),n.d(e,"\u0275_sanitizeUrl",function(){return Gs}),n.d(e,"\u0275global",function(){return K}),n.d(e,"\u0275looseIdentical",function(){return J}),n.d(e,"\u0275stringify",function(){return X}),n.d(e,"\u0275makeDecorator",function(){return O}),n.d(e,"\u0275isObservable",function(){return Yf}),n.d(e,"\u0275isPromise",function(){return Wf}),n.d(e,"\u0275clearOverrides",function(){return Om}),n.d(e,"\u0275initServicesIfNeeded",function(){return zy}),n.d(e,"\u0275overrideComponentView",function(){return Am}),n.d(e,"\u0275overrideProvider",function(){return Dm}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return ty}),n.d(e,"\u0275defineBase",function(){return pt}),n.d(e,"\u0275defineComponent",function(){return lt}),n.d(e,"\u0275defineDirective",function(){return vt}),n.d(e,"\u0275definePipe",function(){return gt}),n.d(e,"\u0275defineNgModule",function(){return ft}),n.d(e,"\u0275detectChanges",function(){return ma}),n.d(e,"\u0275renderComponent",function(){return Za}),n.d(e,"\u0275Render3ComponentFactory",function(){return Ls}),n.d(e,"\u0275Render3ComponentRef",function(){return js}),n.d(e,"\u0275directiveInject",function(){return ja}),n.d(e,"\u0275injectAttribute",function(){return Va}),n.d(e,"\u0275getFactoryOf",function(){return Vn}),n.d(e,"\u0275getInheritedFactory",function(){return Un}),n.d(e,"\u0275templateRefExtractor",function(){return Lc}),n.d(e,"\u0275ProvidersFeature",function(){return Xu}),n.d(e,"\u0275InheritDefinitionFeature",function(){return ou}),n.d(e,"\u0275NgOnChangesFeature",function(){return su}),n.d(e,"\u0275LifecycleHooksFeature",function(){return nu}),n.d(e,"\u0275Render3NgModuleRef",function(){return Jl}),n.d(e,"\u0275markDirty",function(){return Ca}),n.d(e,"\u0275NgModuleFactory",function(){return Xl}),n.d(e,"\u0275NO_CHANGE",function(){return gr}),n.d(e,"\u0275container",function(){return oa}),n.d(e,"\u0275nextContext",function(){return po}),n.d(e,"\u0275elementStart",function(){return So}),n.d(e,"\u0275namespaceHTML",function(){return wo}),n.d(e,"\u0275namespaceMathML",function(){return bo}),n.d(e,"\u0275namespaceSVG",function(){return mo}),n.d(e,"\u0275element",function(){return _o}),n.d(e,"\u0275listener",function(){return No}),n.d(e,"\u0275text",function(){return Qo}),n.d(e,"\u0275embeddedViewStart",function(){return la}),n.d(e,"\u0275query",function(){return Mc}),n.d(e,"\u0275registerContentQuery",function(){return Ua}),n.d(e,"\u0275projection",function(){return da}),n.d(e,"\u0275bind",function(){return Ea}),n.d(e,"\u0275interpolation1",function(){return Ta}),n.d(e,"\u0275interpolation2",function(){return Da}),n.d(e,"\u0275interpolation3",function(){return Aa}),n.d(e,"\u0275interpolation4",function(){return Oa}),n.d(e,"\u0275interpolation5",function(){return ka}),n.d(e,"\u0275interpolation6",function(){return Na}),n.d(e,"\u0275interpolation7",function(){return xa}),n.d(e,"\u0275interpolation8",function(){return Pa}),n.d(e,"\u0275interpolationV",function(){return Ia}),n.d(e,"\u0275pipeBind1",function(){return cc}),n.d(e,"\u0275pipeBind2",function(){return hc}),n.d(e,"\u0275pipeBind3",function(){return fc}),n.d(e,"\u0275pipeBind4",function(){return dc}),n.d(e,"\u0275pipeBindV",function(){return pc}),n.d(e,"\u0275pureFunction0",function(){return $l}),n.d(e,"\u0275pureFunction1",function(){return tc}),n.d(e,"\u0275pureFunction2",function(){return ec}),n.d(e,"\u0275pureFunction3",function(){return nc}),n.d(e,"\u0275pureFunction4",function(){return rc}),n.d(e,"\u0275pureFunction5",function(){return ic}),n.d(e,"\u0275pureFunction6",function(){return oc}),n.d(e,"\u0275pureFunction7",function(){return ac}),n.d(e,"\u0275pureFunction8",function(){return uc}),n.d(e,"\u0275pureFunctionV",function(){return sc}),n.d(e,"\u0275getCurrentView",function(){return Ha}),n.d(e,"\u0275getHostElement",function(){return rr}),n.d(e,"\u0275restoreView",function(){return tn}),n.d(e,"\u0275containerRefreshStart",function(){return ua}),n.d(e,"\u0275containerRefreshEnd",function(){return sa}),n.d(e,"\u0275queryRefresh",function(){return Fc}),n.d(e,"\u0275loadQueryList",function(){return Fa}),n.d(e,"\u0275elementEnd",function(){return xo}),n.d(e,"\u0275elementProperty",function(){return Ro}),n.d(e,"\u0275componentHostSyntheticProperty",function(){return Mo}),n.d(e,"\u0275projectionDef",function(){return ha}),n.d(e,"\u0275reference",function(){return Ma}),n.d(e,"\u0275enableBindings",function(){return Xe}),n.d(e,"\u0275disableBindings",function(){return Ze}),n.d(e,"\u0275allocHostVars",function(){return Sa}),n.d(e,"\u0275elementAttribute",function(){return Po}),n.d(e,"\u0275elementContainerStart",function(){return Co}),n.d(e,"\u0275elementContainerEnd",function(){return Eo}),n.d(e,"\u0275elementStyling",function(){return Bo}),n.d(e,"\u0275elementHostAttrs",function(){return qo}),n.d(e,"\u0275elementStylingMap",function(){return Go}),n.d(e,"\u0275elementStyleProp",function(){return zo}),n.d(e,"\u0275elementStylingApply",function(){return Ho}),n.d(e,"\u0275elementClassProp",function(){return Ko}),n.d(e,"\u0275textBinding",function(){return Wo}),n.d(e,"\u0275template",function(){return ia}),n.d(e,"\u0275embeddedViewEnd",function(){return ca}),n.d(e,"\u0275store",function(){return Ra}),n.d(e,"\u0275load",function(){return La}),n.d(e,"\u0275pipe",function(){return lc}),n.d(e,"\u0275whenRendered",function(){return ru}),n.d(e,"\u0275i18n",function(){return jl}),n.d(e,"\u0275i18nAttributes",function(){return Vl}),n.d(e,"\u0275i18nExp",function(){return ql}),n.d(e,"\u0275i18nStart",function(){return xl}),n.d(e,"\u0275i18nEnd",function(){return Ml}),n.d(e,"\u0275i18nApply",function(){return Hl}),n.d(e,"\u0275i18nPostprocess",function(){return Rl}),n.d(e,"\u0275setClassMetadata",function(){return Zl}),n.d(e,"\u0275compileComponent",function(){return Fh}),n.d(e,"\u0275compileDirective",function(){return Lh}),n.d(e,"\u0275compileNgModule",function(){return Dh}),n.d(e,"\u0275compileNgModuleDefs",function(){return Ah}),n.d(e,"\u0275patchComponentDefWithScope",function(){return Nh}),n.d(e,"\u0275resetCompiledComponents",function(){return Oh}),n.d(e,"\u0275compilePipe",function(){return Hh}),n.d(e,"\u0275sanitizeHtml",function(){return Yc}),n.d(e,"\u0275sanitizeStyle",function(){return Jc}),n.d(e,"\u0275defaultStyleSanitizer",function(){return th}),n.d(e,"\u0275sanitizeScript",function(){return $c}),n.d(e,"\u0275sanitizeUrl",function(){return Xc}),n.d(e,"\u0275sanitizeResourceUrl",function(){return Zc}),n.d(e,"\u0275bypassSanitizationTrustHtml",function(){return Uc}),n.d(e,"\u0275bypassSanitizationTrustStyle",function(){return Bc}),n.d(e,"\u0275bypassSanitizationTrustScript",function(){return qc}),n.d(e,"\u0275bypassSanitizationTrustUrl",function(){return Hc}),n.d(e,"\u0275bypassSanitizationTrustResourceUrl",function(){return zc}),n.d(e,"\u0275getLContext",function(){return Bn}),n.d(e,"\u0275bindPlayerFactory",function(){return oi}),n.d(e,"\u0275addPlayer",function(){return Ga}),n.d(e,"\u0275getPlayers",function(){return Qa}),n.d(e,"\u0275compileNgModuleFactory__POST_R3__",function(){return Kd}),n.d(e,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",function(){return Zh}),n.d(e,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",function(){return $h}),n.d(e,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",function(){return tf}),n.d(e,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",function(){return hf}),n.d(e,"\u0275getDebugNode__POST_R3__",function(){return Sp}),n.d(e,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",function(){return bf}),n.d(e,"\u0275SWITCH_IVY_ENABLED__POST_R3__",function(){return tv}),n.d(e,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",function(){return fp}),n.d(e,"\u0275Compiler_compileModuleSync__POST_R3__",function(){return hd}),n.d(e,"\u0275Compiler_compileModuleAsync__POST_R3__",function(){return dd}),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",function(){return vd}),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",function(){return yd}),n.d(e,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",function(){return ys}),n.d(e,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",function(){return bc}),n.d(e,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",function(){return lp}),n.d(e,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",function(){return Ts}),n.d(e,"\u0275getModuleFactory__POST_R3__",function(){return sh}),n.d(e,"\u0275publishGlobalUtil",function(){return Xa}),n.d(e,"\u0275publishDefaultGlobalUtils",function(){return Ja}),n.d(e,"\u0275SWITCH_INJECTOR_FACTORY__POST_R3__",function(){return yu}),n.d(e,"\u0275registerModuleFactory",function(){return oh}),n.d(e,"\u0275EMPTY_ARRAY",function(){return Xv}),n.d(e,"\u0275EMPTY_MAP",function(){return Zv}),n.d(e,"\u0275and",function(){return $v}),n.d(e,"\u0275ccf",function(){return bg}),n.d(e,"\u0275cmf",function(){return km}),n.d(e,"\u0275crt",function(){return wv}),n.d(e,"\u0275did",function(){return zg}),n.d(e,"\u0275eld",function(){return tg}),n.d(e,"\u0275elementEventFullName",function(){return Nv}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return wg}),n.d(e,"\u0275inlineInterpolate",function(){return Yv}),n.d(e,"\u0275interpolate",function(){return Wv}),n.d(e,"\u0275mod",function(){return cg}),n.d(e,"\u0275mpd",function(){return lg}),n.d(e,"\u0275ncd",function(){return fy}),n.d(e,"\u0275nov",function(){return Ng}),n.d(e,"\u0275pid",function(){return Kg}),n.d(e,"\u0275prd",function(){return Gg}),n.d(e,"\u0275pad",function(){return vy}),n.d(e,"\u0275pod",function(){return gy}),n.d(e,"\u0275ppd",function(){return py}),n.d(e,"\u0275qud",function(){return uy}),n.d(e,"\u0275ted",function(){return my}),n.d(e,"\u0275unv",function(){return yv}),n.d(e,"\u0275vid",function(){return _y});var d=h({ngComponentDef:h}),p=h({ngDirectiveDef:h}),v=h({ngInjectableDef:h}),g=h({ngInjectorDef:h}),y=h({ngPipeDef:h}),m=h({ngModuleDef:h}),b=h({ngBaseDef:h}),w=h({__NG_ELEMENT_ID__:h});function _(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function E(t){return t&&t.hasOwnProperty(v)?t[v]:null}function S(t){return t&&t.hasOwnProperty(g)?t[g]:null}var I=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?_({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),T="__annotations__",D="__parameters__",A="__prop__metadata__";function O(t,e,n,i,o){var a=k(e);function u(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof u)return a.call.apply(a,Object(r.__spread)([this],e)),this;var s=new((t=u).bind.apply(t,Object(r.__spread)([void 0],e)));return function(t){return o&&o.apply(void 0,Object(r.__spread)([t],e)),(t.hasOwnProperty(T)?t[T]:Object.defineProperty(t,T,{value:[]})[T]).push(s),i&&i(t),t}}return n&&(u.prototype=Object.create(n.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u}function k(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,Object(r.__spread)(e));for(var o in i)this[o]=i[o]}}}function N(t,e,n){var i=k(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var a=new((t=o).bind.apply(t,Object(r.__spread)([void 0],e)));return u.annotation=a,u;function u(t,e,n){for(var r=t.hasOwnProperty(D)?t[D]:Object.defineProperty(t,D,{value:[]})[D];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function x(t,e,n,i){var o=k(e);function a(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof a)return o.apply(this,e),this;var u=new((t=a).bind.apply(t,Object(r.__spread)([void 0],e)));return function(t,n){var o=t.constructor,a=o.hasOwnProperty(A)?o[A]:Object.defineProperty(o,A,{value:{}})[A];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(u),i&&i.apply(void 0,Object(r.__spread)([t,n],e))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a}var P=new I("AnalyzeForEntryComponents"),R=N("Attribute",function(t){return{attributeName:t}}),M=function(){return function(){}}(),F=x("ContentChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},M),L=x("ContentChild",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},M),j=x("ViewChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},M),V=x("ViewChild",function(t,e){return Object(r.__assign)({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},M),U=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),B=function(t){return t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.Errored=4]="Errored",t[t.Destroyed=5]="Destroyed",t}({});function q(t){return null==t||t===U.Default}var H="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,K="undefined"!=typeof global&&global||H||z,G=Promise.resolve(0),Q=null;function W(){if(!Q){var t=K.Symbol;if(t&&t.iterator)Q=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Q=r)}}return Q}function Y(t){"undefined"==typeof Zone?G.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function J(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function X(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(X).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var Z=h({__forward_ref__:h});function $(t){return t.__forward_ref__=$,t.toString=function(){return X(this())},t}function tt(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(Z)&&e.__forward_ref__===$?e():t}function et(t){var e=[],n=new Map;function r(r){var i=n.get(r);if(!i){var o=t(r);n.set(r,i=o.then(it)),e.push(i)}return i}return nt.forEach(function(t){t.templateUrl&&r(t.templateUrl).then(function(e){t.template=e,t.templateUrl=void 0});var e=t.styleUrls,n=t.styles||(t.styles=[]),i=t.styles.length;e&&e.forEach(function(o,a){n.push(""),r(o).then(function(r){n[i+a]=r,e.splice(e.indexOf(o),1),0==e.length&&(t.styleUrls=void 0)})})}),nt.clear(),Promise.all(e).then(function(){return null})}var nt=new Set;function rt(t){return t.templateUrl||t.styleUrls&&t.styleUrls.length}function it(t){return"string"==typeof t?t:t.text()}var ot=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),at={},ut=[],st=0;function lt(t){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,contentQueriesRefresh:t.contentQueriesRefresh||null,attributes:t.attributes||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===U.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ot.Emulated,id:"c",styles:t.styles||ut,_:null};return i._=""+{toString:function(){var e=t.directives,n=t.features,o=t.pipes;i.id+=st++,i.inputs=dt(t.inputs,r),i.outputs=dt(t.outputs),n&&n.forEach(function(t){return t(i)}),i.directiveDefs=e?function(){return("function"==typeof e?e():e).map(ct)}:null,i.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ht)}:null}},i}function ct(t){return yt(t)||mt(t)}function ht(t){return bt(t)}function ft(t){return{type:t.type,bootstrap:t.bootstrap||ut,declarations:t.declarations||ut,imports:t.imports||ut,exports:t.exports||ut,transitiveCompileScopes:null}}function dt(t,e){if(null==t)return at;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function pt(t){var e={};return{inputs:dt(t.inputs,e),declaredInputs:e,outputs:dt(t.outputs)}}var vt=lt;function gt(t){return{name:t.name,factory:t.factory,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function yt(t){return t[d]||null}function mt(t){return t[p]||null}function bt(t){return t[y]||null}function wt(t,e){var n=t[m]||null;if(!n&&!0===e)throw new Error("Type "+X(t)+" does not have 'ngModuleDef' property.");return n}var _t=0,Ct=1,Et=2,St=3,It=4,Tt=5,Dt=6,At=7,Ot=8,kt=9,Nt=10,xt=11,Pt=12,Rt=13,Mt=14,Ft=15,Lt=16,jt=17,Vt=18,Ut=0,Bt=1,qt=6,Ht=7,zt=8,Kt="__ngContext__",Gt=8,Qt=8,Wt=9,Yt=-1,Jt=function(){return function(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}(),Xt=Jt.prototype;function Zt(t){return"function"==typeof t?t.name||t:"string"==typeof t?t:null==t?"":"object"==typeof t&&"function"==typeof t.type?t.type.name||t.type:""+t}function $t(t,e){return t[e+Vt]}function te(t){for(;Array.isArray(t);)t=t[Tt];return t}function ee(t,e){return te(e[t+Vt])}function ne(t,e){return te(e[t.index])}function re(t,e){return e[_t].data[t+Vt]}function ie(t,e){var n=e[t];return n.length>=Vt?n:n[Tt]}function oe(t){return 0!=(4&t.flags)}function ae(t){return 1==(1&t.flags)}function ue(t){return null!==t.template}function se(t){return Array.isArray(t)&&t.length===zt}function le(t){return 0!=(128&t[Ct])}function ce(t){for(var e=Array.isArray(t)?t:de(t);e&&!(128&e[Ct]);)e=e[Et];return e}function he(t){return ce(t)[kt]}function fe(t){return t[Kt]}function de(t){var e=fe(t);return e?Array.isArray(e)?e:e.lView:null}function pe(t){return t!==Yt}function ve(t){return 32767&t}function ge(t){return t>>16}function ye(t,e){for(var n=ge(t),r=e;n>0;)r=r[jt],n--;return r}var me=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(K);function be(t,e){for(var n=0;n<t.length;n++)e.push(t[n])}function we(t){for(var e=t[Dt];e&&2===e.type;)e=(t=t[jt])[Dt];return t}function _e(){var t=K.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}var Ce,Ee,Se=N("Inject",function(t){return{token:t}}),Ie=N("Optional"),Te=N("Self"),De=N("SkipSelf"),Ae=N("Host"),Oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({}),ke=void 0;function Ne(t){var e=ke;return ke=t,e}function xe(t){var e=Ce;return Ce=t,e}function Pe(t,e){if(void 0===e&&(e=Oe.Default),void 0===ke)throw new Error("inject() must be called from an injection context");return null===ke?Me(t,void 0,e):ke.get(t,e&Oe.Optional?null:void 0,e)}function Re(t,e){return void 0===e&&(e=Oe.Default),(Ce||Pe)(t,e)}function Me(t,e,n){var r=E(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Oe.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND ["+X(t)+"]")}function Fe(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=Oe.Default,a=0;a<r.length;a++){var u=r[a];u instanceof Ie||"Optional"===u.ngMetadataName?o|=Oe.Optional:u instanceof De||"SkipSelf"===u.ngMetadataName?o|=Oe.SkipSelf:u instanceof Te||"Self"===u.ngMetadataName?o|=Oe.Self:i=u instanceof Se?u.token:u}e.push(Re(i,o))}else e.push(Re(r))}return e}function Le(t,e,n,r){e&&(r.initHooks||(r.initHooks=[])).push(t,e),n&&((r.initHooks||(r.initHooks=[])).push(t,n),(r.checkHooks||(r.checkHooks=[])).push(t,n))}function je(t,e){if(t.firstTemplatePass)for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];Ve(i,t,n),Ue(i,t,n),Be(i,t,n)}}function Ve(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function Ue(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function Be(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function qe(t,e,n){!n&&32&t[Ct]&&(He(t,e.initHooks,e.checkHooks,n),t[Ct]&=-33)}function He(t,e,n,r){if(!r){var i=2&t[Ct]?e:n;i&&ze(t,i)}}function ze(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}var Ke,Ge,Qe,We,Ye=null;function Je(t){Ye=t}function Xe(){Ke=!0}function Ze(){Ke=!1}function $e(){return We}function tn(t){sn=t}function en(){return Ge}function nn(t){Ge=t}function rn(t,e){Ge=t,We=e}function on(){return Qe}function an(t){Qe=t}function un(t){return void 0===t&&(t=We),1==(1&t[Ct])}var sn=null,ln=!1;function cn(){return ln}function hn(t){ln=t}var fn=!0;function dn(){return fn}function pn(t){fn=t}var vn=-1;function gn(){return vn}function yn(t){vn=t}function mn(t,e){var n=We;if(t){var r=t[_t];fn=r.firstTemplatePass,vn=r.bindingStartIndex}return Ge=e,Qe=!0,We=sn=t,n}function bn(t){return void 0===t&&(t=1),(sn=function(t,e){for(;t>0;)e=e[jt],t--;return e}(t,sn))[kt]}function wn(t){var e=We[_t];un(We)?We[Ct]&=-2:(He(We,e.viewHooks,e.viewCheckHooks,ln),We[Ct]&=-11,We[Ct]|=32,We[At]=e.bindingStartIndex),mn(t,null)}var _n=!0;function Cn(t){var e=_n;return _n=t,e}var En=255,Sn=0;function In(t,e){var n=Dn(t,e);if(-1!==n)return n;var r=e[_t];r.firstTemplatePass&&(t.injectorIndex=e.length,Tn(r.data,t),Tn(e,null),Tn(r.blueprint,null));var i=An(t,e),o=ve(i),a=ye(i,e),u=t.injectorIndex;if(pe(i))for(var s=a[_t].data,l=0;l<8;l++)e[u+l]=a[o+l]|s[o+l];return e[u+Qt]=i,u}function Tn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Dn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+Qt]?-1:t.injectorIndex}function An(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[Dt],r=1;n&&-1===n.injectorIndex;)n=(e=e[jt])?e[Dt]:null,r++;return n?n.injectorIndex|r<<16:-1}function On(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[w]:n.charCodeAt(0)||0;null==r&&(r=n[w]=Sn++);var i=r&En,o=1<<i,a=64&i,u=32&i,s=e.data;128&i?a?u?s[t+7]|=o:s[t+6]|=o:u?s[t+5]|=o:s[t+4]|=o:a?u?s[t+3]|=o:s[t+2]|=o:u?s[t+1]|=o:s[t]|=o}(t,e[_t],n)}function kn(t,e){var n=t.attrs;if(n)for(var r=0;r<n.length;r+=2){var i=n[r];if(3===i)break;if(i==e)return n[r+1]}return null}function Nn(t,e,n,r,i){if(void 0===r&&(r=Oe.Default),t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[w];return"number"==typeof e?e&En:e}(n);if("function"==typeof o){var a=en(),u=$e();rn(t,e);try{var s=o();if(null!=s||r&Oe.Optional)return s;throw new Error("No provider for "+Zt(n)+"!")}finally{rn(a,u)}}else if("number"==typeof o){var l=null,c=Dn(t,e),h=Yt,f=r&Oe.Host?we(e)[Dt]:null;for((-1===c||r&Oe.SkipSelf)&&(h=-1===c?An(t,e):e[c+Qt],Ln(r,!1)?(l=e[_t],c=ve(h),e=ye(h,e)):c=-1);-1!==c;){h=e[c+Qt];var d=e[_t];if(Fn(o,c,d.data)){var p=Pn(c,e,n,l,r,f);if(p!==xn)return p}Ln(r,e[_t].data[c+Gt]===f)&&Fn(o,c,e)?(l=d,c=ve(h),e=ye(h,e)):c=-1}}}if(r&Oe.Optional&&void 0===i&&(i=null),0==(r&(Oe.Self|Oe.Host))){var v=e[Nt];return v?v.get(n,i,r&Oe.Optional):Me(n,i,r&Oe.Optional)}if(r&Oe.Optional)return i;throw new Error("NodeInjector: NOT_FOUND ["+Zt(n)+"]")}var xn={};function Pn(t,e,n,r,i,o){var a=e[_t],u=a.data[t+Gt],s=Rn(u,e,n,null==r?ae(u)&&_n:r!=a&&3===u.type,i&Oe.Host&&o===u);return null!==s?Mn(a.data,e,s,u):xn}function Rn(t,e,n,r,i){for(var o=t.providerIndexes,a=e[_t].data,u=65535&o,s=t.directiveStart,l=o>>16,c=i?u+l:t.directiveEnd,h=r?u:u+l;h<c;h++){var f=a[h];if(h<s&&n===f||h>=s&&f.type===n)return h}if(i){var d=a[s];if(d&&ue(d)&&d.type===n)return s}return null}function Mn(t,e,n,r){var i,o=e[n];if(null!=(i=o)&&"object"==typeof i&&Object.getPrototypeOf(i)==Xt){var a=o;if(a.resolving)throw new Error("Circular dep for "+Zt(t[n]));var u=Cn(a.canSeeViewProviders);a.resolving=!0;var s=void 0;a.injectImpl&&(s=xe(a.injectImpl));var l=en(),c=$e();rn(r,e);try{o=e[n]=a.factory(null,t,e,r)}finally{a.injectImpl&&xe(s),Cn(u),a.resolving=!1,rn(l,c)}}return o}function Fn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function Ln(t,e){return!(t&Oe.Self||t&Oe.Host&&e)}var jn=function(){function t(t,e){this._tNode=t,this._lView=e}return t.prototype.get=function(t,e){return Nn(this._tNode,this._lView,t,void 0,e)},t}();function Vn(t){var e=t,n=yt(e)||mt(e)||bt(e)||E(e)||S(e);return n&&void 0!==n.factory?n.factory:null}function Un(t){var e=Vn(Object.getPrototypeOf(t.prototype).constructor);return null!==e?e:function(t){return new t}}function Bn(t){var e,n=fe(t);if(n){if(Array.isArray(n)){var r=n,i=void 0,o=void 0,a=void 0;if((e=t)&&e.constructor&&e.constructor.ngComponentDef){if(-1==(i=Qn(r,t)))throw new Error("The provided component was not found in the application");o=t}else if(t&&t.constructor&&t.constructor.ngDirectiveDef){if(-1==(i=function(t,e){for(var n=t[_t].firstChild;n;){for(var r=n.directiveEnd,i=n.directiveStart;i<r;i++)if(t[i]===e)return n.index;n=Gn(n)}return-1}(r,t)))throw new Error("The provided directive was not found in the application");a=Wn(i,r,!1)}else if(-1==(i=Kn(r,t)))return null;var u=fe(p=te(r[i])),s=u&&!Array.isArray(u)?u:qn(r,i,p);if(o&&void 0===s.component&&(s.component=o,zn(s.component,s)),a&&void 0===s.directives){s.directives=a;for(var l=0;l<a.length;l++)zn(a[l],s)}zn(s.native,s),n=s}}else for(var c=t,h=c;h=h.parentNode;){var f=fe(h);if(f){if(r=void 0,!(r=Array.isArray(f)?f:f.lView))return null;var d=Kn(r,c);if(d>=0){var p;zn(p=te(r[d]),s=qn(r,d,p)),n=s;break}}}return n||null}function qn(t,e,n){return{lView:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}function Hn(t){var e,n=fe(t);if(Array.isArray(n)){var r=Qn(n,t);(i=qn(n,r,(e=ie(r,n))[Tt])).component=t,zn(t,i),zn(i.native,i)}else{var i;e=ie((i=n).nodeIndex,i.lView)}return e}function zn(t,e){t[Kt]=e}function Kn(t,e){for(var n=t[_t].firstChild;n;){if(ne(n,t)===e)return n.index;n=Gn(n)}return-1}function Gn(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function Qn(t,e){var n=t[_t].components;if(n)for(var r=0;r<n.length;r++){var i=n[r];if(ie(i,t)[kt]===e)return i}else if(ie(Vt,t)[kt]===e)return Vt;return-1}function Wn(t,e,n){var r=e[_t].data[t],i=r.directiveStart;return 0==i?ut:(!n&&1&r.flags&&i++,e.slice(i,r.directiveEnd))}function Yn(t){var e,n,r=ir(t);return void 0===r.component&&(r.component=1&(n=(e=r.lView)[_t].data[r.nodeIndex]).flags?e[n.directiveStart]:null),r.component}function Jn(t){return ir(t).lView[kt]}function Xn(t){for(var e=nr(t).lView;e[Et]&&null===e[Tt];)e=e[Et];return 128&e[Ct]?null:e[kt]}function Zn(t){return function(t){var e;for(e=Array.isArray(t)?t:de(t);e&&!(128&e[Ct]);)e=e[Et];return e}(Array.isArray(t)?t:nr(t).lView)[kt]}function $n(t){return Object(r.__spread)(Zn(t).components)}function tr(t){var e=nr(t);return new jn(e.lView[_t].data[e.nodeIndex],e.lView)}function er(t){var e=nr(t);return void 0===e.directives&&(e.directives=Wn(e.nodeIndex,e.lView,!1)),e.directives||[]}function nr(t,e){void 0===e&&(e=!0);var n=Bn(t);if(!n&&e)throw new Error("Invalid ng target");return n}function rr(t){return Bn(t).native}function ir(t){if(!(t instanceof Node))throw new Error("Expecting instance of DOM Node");return nr(t)}function or(t){return"boolean"==typeof t.useCapture}function ar(t){var e=ir(t).lView,n=e[Ot],r=e[_t].cleanup,i=[];if(r&&n)for(var o=0;o<r.length;){var a=r[o++],u=r[o++];if("string"==typeof a){var s=a,l=te(e[u]),c=n[r[o++]],h=r[o++];t==l&&i.push({element:t,name:s,callback:c,useCapture:"boolean"==typeof h?h:!(h>=0)&&null})}}return i.sort(ur),i}function ur(t,e){return t.name==e.name?0:t.name<e.name?-1:1}var sr=/([A-Z])/g;function lr(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function cr(t,e){var n=dr(t),r=dr(e);return n&&r?function(t,e,n){for(var r=t[W()](),i=e[W()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,cr):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||J(t,e)}var hr=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),fr=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function dr(t){return!!pr(t)&&(Array.isArray(t)||!(t instanceof Map)&&W()in t)}function pr(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}var gr={};function yr(t,e,n){return t[e]=n}function mr(t,e){return t[e]}function br(t,e,n){if(t[e]===gr)t[e]=n;else{if(i=n,(r=t[e])!=r&&i!=i||r===i)return!1;t[e]=n}var r,i;return!0}function wr(t,e,n,r){var i=br(t,e,n);return br(t,e+1,r)||i}function _r(t,e,n,r,i){var o=wr(t,e,n,r);return br(t,e+2,i)||o}function Cr(t,e,n,r,i,o){var a=wr(t,e,n,r);return wr(t,e+2,i,o)||a}var Er="ngProjectAs",Sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ir(t){return!!t.listen}var Tr={createRenderer:function(t,e){return document}};function Dr(t,e){return null==t.parent?function(t){var e=t[Dt];return e&&2!==e.type?ne(e,t[Et]):null}(e):ne(Ar(t),e)}function Ar(t){for(var e=t.parent;e&&5===e.type;)e=e.parent;return e}function Or(t,e){if(-1===t.index){var n=e[Ft];return n>-1?e[Et][n]:null}return e[Et][t.parent.index]}function kr(t,e){var n=Or(t,e);return n?n[Ht]:null}var Nr=[];function xr(t,e,n,r,i){for(var o=t[_t].node,a=-1,u=t,s=o.child;s;){var l=null;if(3===s.type){Pr(e,n,r,ne(s,u),i);var c=u[s.index];se(c)&&Pr(e,n,r,c[qt],i)}else if(0===s.type){var h=u[s.index];Pr(e,n,r,h[qt],i),r&&(h[Ht]=r),h[Bt].length&&(l=(u=h[Bt][0])[_t].node,i=h[qt])}else if(1===s.type){var f=we(u),d=f[Dt].projection[s.projection];Nr[++a]=s,Nr[++a]=u,d&&(l=(u=f[Et])[_t].data[d.index])}else l=s.child;if(null===l)for(null===s.next&&2&s.flags&&(u=Nr[a--],s=Nr[a--]),l=s.next;!l;){if(null===(s=s.parent||u[_t].node)||s===o)return null;0===s.type&&(i=(u=u[Et])[s.index][qt]),l=2===s.type&&u[St]?(u=u[St])[_t].node:s.next}s=l}}function Pr(t,e,n,r,i){0===t?Ir(e)?e.insertBefore(n,r,i):n.insertBefore(r,i,!0):1===t?Ir(e)?e.removeChild(n,r):n.removeChild(r):2===t&&e.destroyNode(r)}function Rr(t,e){return Ir(e)?e.createText(Zt(t)):e.createTextNode(Zt(t))}function Mr(t,e,n){var r=kr(t[_t].node,t);r&&xr(t,e?0:1,t[Pt],r,n)}function Fr(t,e,n,r,i){var o=e[Bt];r>0&&(o[r-1][St]=t),r<o.length?(t[St]=o[r],o.splice(r,0,t)):(o.push(t),t[St]=null),i>-1&&(t[Ft]=i,t[Et]=n),t[It]&&t[It].insertView(r),t[Ct]|=16}function Lr(t,e,n){var r=t[Bt],i=r[e];return e>0&&(r[e-1][St]=i[St]),r.splice(e,1),n||Mr(i,!1),i[It]&&i[It].removeView(),i[Ft]=-1,i[Et]=null,i[Ct]&=-17,i}function jr(t,e,n){var r=t[Bt][n];Lr(t,n,!!e.detached),Ur(r)}function Vr(t){var e=t[_t].childIndex;return-1===e?null:t[e]}function Ur(t){var e=t[Pt];Ir(e)&&e.destroyNode&&xr(t,2,e,null),function(t){if(-1===t[_t].childIndex)return qr(t);for(var e=Vr(t);e;){var n=null;if(e.length>=Vt?e[_t].childIndex>-1&&(n=Vr(e)):e[Bt].length&&(n=e[Bt][0]),null==n){for(;e&&!e[St]&&e!==t;)qr(e),e=Br(e,t);qr(e||t),n=e&&e[St]}e=n}}(t),t[Ct]|=64}function Br(t,e){var n;return t.length>=Vt&&(n=t[Dt])&&2===n.type?Or(n,t):t[Et]===e?null:t[Et]}function qr(t){if(t.length>=Vt){var e=t;!function(t){var e,n=t[_t];null!=n&&null!=(e=n.destroyHooks)&&ze(t,e)}(e),(i=(r=e)[_t]&&r[_t].pipeDestroyHooks)&&ze(r,i),function(t){var e=t[_t].cleanup;if(null!=e){for(var n=t[Ot],r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){var i=n[e[r+2]],o=te(t[e[r+1]]),a=e[r+3];"boolean"==typeof a?o.removeEventListener(e[r],i,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else"number"==typeof e[r]?(0,n[e[r]])():e[r].call(n[e[r+1]]);t[Ot]=null}}(e);var n=e[Dt];n&&3===n.type&&Ir(e[Pt])&&e[Pt].destroy()}var r,i}function Hr(t,e){if(zr(t,e)){if(le(e))return Gr(e[Pt],ne(t,e));var n=e[Dt],r=t.parent;return null!=r&&4===r.type&&(t=Wr(r)),null==t.parent&&2===n.type?kr(n,e):Dr(t,e)}return null}function zr(t,e){var n,r=t,i=t.parent;return t.parent&&(4===t.parent.type?i=(r=Wr(t)).parent:5===t.parent.type&&(i=(r=Ar(r)).parent)),null===i&&(i=e[Dt]),i&&2===i.type?null!=(n=Or(i,e))&&null!=n[Ht]:null==r.parent||!(3!==r.parent.type||1&r.parent.flags)}function Kr(t,e,n,r){Ir(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Gr(t,e){return Ir(t)?t.parentNode(e):e.parentNode}function Qr(t,e,n){if(void 0===t&&(t=null),null!==t&&zr(e,n)){var r=n[Pt],i=Dr(e,n),o=e.parent||n[Dt];if(2===o.type){var a=Or(o,n),u=a[Bt],s=u.indexOf(n);Kr(r,a[Ht],t,Yr(s,u,a[qt]))}else 4===o.type?Kr(r,Hr(e,n),t,i):5===o.type?Kr(r,i,t,ne(e.parent,n)):Ir(r)?r.appendChild(i,t):i.appendChild(t);return!0}return!1}function Wr(t){for(;null!=t.parent&&4===t.parent.type;)t=t.parent;return t}function Yr(t,e,n){if(t+1<e.length){var r=e[t+1],i=r[Dt];return i.child?ne(i.child,r):n}return n}function Jr(t,e,n){if(null!==e&&zr(t,n)){var r=Dr(t,n),i=n[Pt];return Ir(i)?i.removeChild(r,e):r.removeChild(e),!0}return!1}function Xr(t,e,n,r){var i=ne(t,r);Qr(i,e,n),zn(i,r);var o=Hr(e,n),a=r[t.index];if(0===t.type){a[Ht]=o;for(var u=a[Bt],s=0;s<u.length;s++)Mr(u[s],!0,a[qt])}else{if(4===t.type)for(var l=t.child;l;)Xr(l,e,n,r),l=l.next;se(a)&&(a[Ht]=o,Qr(a[qt],e,n))}}var Zr="ng-template";function $r(t,e,n){return e===t.tagName&&(n||3===t.type||4===t.type||0===t.type&&e===Zr)}function ti(t,e,n){for(var r,i,o,a,u,s=4,l=t.attrs,c=l?l.indexOf(3):-1,h=!1,f=0;f<e.length;f++){var d=e[f];if("number"!=typeof d){if(!h)if(4&s){if(s=2|1&s,""!==d&&!$r(t,d,n)||""===d&&1===e.length){if(ei(s))return!1;h=!0}}else{var p=ni(8&s?"class":d,l);if(-1===p){if(ei(s))return!1;h=!0;continue}var v,g=8&s?d:e[++f];if(""!==g)if(v=c>-1&&p>c?"":l[p+1],8&s&&(o=(r=v).length,u=(a=r.indexOf(i=g))+i.length,-1===a||a>0&&" "!==r[a-1]||u<o&&" "!==r[u])||2&s&&g!==v){if(ei(s))return!1;h=!0}}}else{if(!h&&!ei(s)&&!ei(d))return!1;if(h&&ei(d))continue;h=!1,s=d|1&s}}return ei(s)||h}function ei(t){return 0==(1&t)}function ni(t,e){if(null===e)return-1;for(var n=!1,r=0;r<e.length;){var i=e[r];if(i===t)return r;0===i?r+=4:(3===i&&(n=!0),r+=n?1:2)}return-1}function ri(t,e,n){void 0===n&&(n=!1);for(var r=0;r<e.length;r++)if(ti(t,e[r],n))return!0;return!1}function ii(t,e,n){for(var r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(Er);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++)if(r===n[i]||null===r&&ri(t,e[i],!0))return i+1;return 0}function oi(t,e){return new ai(t,e)}var ai=function(){return function(t,e){this.fn=t,this.value=e}}(),ui=function(){function t(){this._players=[]}return t.prototype.flushPlayers=function(){for(var t=0;t<this._players.length;t++){var e=this._players[t];e.parent||0!==e.state||e.play()}this._players.length=0},t.prototype.queuePlayer=function(t){this._players.push(t)},t}(),si="@";function li(t,e,n,r){return[0,[null,-1,!1,e||null],n||[null],r||[null],[0,0],t||null,null,null,null]}function ci(t,e){for(var n=t,r=e[n],i=e;Array.isArray(r);)i=r,r=r[Tt];if(u=i,Array.isArray(u)&&"number"==typeof u[0]&&Array.isArray(u[2]))return i;var o,a,u,s=re(t-Vt,e).stylingTemplate;return i!==e&&(n=Tt),i[n]=s?(o=r,(a=s.slice())[5]=o,a[0]|=32,a):li(r)}function hi(t){return t[0]===si}function fi(t,e,n,r,i,o){return o=o||n,i?t[i]=r:t.push(r),!!r&&(r.addEventListener(200,function(){var e=t.indexOf(r);e&&(e<t[0]?t[e]=null:t.splice(e,1)),r.destroy()}),(e.playerHandler||(e.playerHandler=new ui)).queuePlayer(r,o),!0)}function di(t){return t[8]}function pi(t){return t[8]=[5,null,null,null,null]}function vi(t){return!!(8&t.flags)}function gi(t){for(var e=li(),n=e[3]=[null],r=e[2]=[null],i=-1,o=0;o<t.length;o++){var a=t[o];if("number"==typeof a)i=a;else if(2===i)r.push(a,t[++o]);else if(1===i)n.push(a,!0);else if(3===i)break}return e}function yi(t,e,n){for(var r=1;r<t.length;){if(t[r]===e){var i=t[r+1];return void(null!=i&&0!=i||(t[r+1]=n))}r+=2}t.push(e,n)}function mi(t,e,n,r){for(var i=1;i<n.length;i+=2){var o=n[i+1];o&&(r?Ci(t,n[i+0],!0,e,null):_i(t,n[i+0],o,e,null))}}function bi(t,e,n,r){for(var i=n;i<r;i+=4)if(qi(t,i)===e)return i;return-1}function wi(t,e,n,r,i){var o=to(t,i||null),a=function(t,e,n,r){var i=t[1][4*e+1],o=t[4];return o[i+2+(r?o[i+0]:0)+n]}(t,o,e,r),u=Bi(t,a),s=Ui(t,a),l=$i(t,a),c=n instanceof ai?n.value:n;if(Xi(s,u,c)&&(!u||(c?o<=l:l===o))){var h=2==(2&s),f=n instanceof ai?new Zi(n,t[5],h?1:2):null,d=f?n.value:n,p=Li(t,a),v=!1,g=f?p:0;if(Ri(t,f,p)){var y=Mi(t,f,p);g=f?y:0,v=!0}if((v||l!==o)&&Fi(t,a,g,o),l!==o){var m=qi(t,a),b=ro(t,o);!function(t,e,n){b&&b(m)?t[e]|=4:t[e]&=-5}(t,a)}Pi(t,a,d);var w=ki(s),_=Bi(t,w);if(!_||Xi(s,_,d)){var C=!1,E=!0;!Yi(d,h)&&Yi(_,h)&&(C=!0,E=!1),Ei(t,w,C),Ei(t,a,E),io(t,o,!0),zi(t,!0)}v&&Ki(t,!0)}}function _i(t,e,n,r,i,o,a){n=i&&n?i(e,n):n,o||a?(o&&o.setValue(e,n),a&&a.setValue(e,n)):n?(n=n.toString(),Ir(r)?r.setStyle(t,e,n,Sr.DashCase):t.style.setProperty(e,n)):Ir(r)?r.removeStyle(t,e,Sr.DashCase):t.style.removeProperty(e)}function Ci(t,e,n,r,i,o){i||o?(i&&i.setValue(e,n),o&&o.setValue(e,n)):n?Ir(r)?r.addClass(t,e):t.classList.add(e):Ir(r)?r.removeClass(t,e):t.classList.remove(e)}function Ei(t,e,n){var r=e>=9?e+0:e;n?t[r]|=1:t[r]&=-2}function Si(t,e){return 1==(1&t[e>=9?e+0:e])}function Ii(t,e){return 2==(2&t[e>=9?e+0:e])}function Ti(t,e){return 4==(4&t[e>=9?e+0:e])}function Di(t,e,n){return 63&t|e<<6|n<<20}function Ai(t,e){var n=Oi(e);return(2&e?t[3]:t[2])[n]}function Oi(t){return t>>6&16383}function ki(t){var e=t>>20&16383;return e>=9?e:-1}function Ni(t){return ki(t[0])}function xi(t,e,n){t[e+1]=n}function Pi(t,e,n){t[e+2]=n}function Ri(t,e,n){var r=t[8];if(e){if(!r||0===n)return!0}else if(!r)return!1;return r[n]!==e}function Mi(t,e,n){var r=t[8]||pi(t);return n>0?r[n]=e:(r.splice(n=r[0],0,e,null),r[0]+=2),n}function Fi(t,e,n,r){var i=function(t,e){return n<<16|t}(r);t[e+3]=i}function Li(t,e){return t[e+3]>>16&65535}function ji(t,e){var n=Li(t,e);if(n){var r=t[8];if(r)return r[n]}return null}function Vi(t,e,n){t[0===e?e:e+0]=n}function Ui(t,e){return t[0===e?e:e+0]}function Bi(t,e){return t[e+2]}function qi(t,e){return t[e+1]}function Hi(t){return 16&t[0]}function zi(t,e){Ei(t,0,e)}function Ki(t,e){e?t[0]|=8:t[0]&=-9}function Gi(t,e,n){for(var r=(n||0)+1;r<t.length;r+=4)if(t[r]==e)return r-1;return-1}function Qi(t,e,n){var r=Bi(t,e),i=qi(t,e),o=Ui(t,e),a=Li(t,e),u=o,s=Ui(t,n),l=ki(u);l>=0&&Vi(t,l,Di(c=Ui(t,l),Oi(c),n));var c,h=ki(s);h>=0&&Vi(t,h,Di(c=Ui(t,h),Oi(c),e)),Pi(t,e,Bi(t,n)),xi(t,e,qi(t,n)),Vi(t,e,Ui(t,n)),Fi(t,e,Li(t,n),0),Pi(t,n,r),xi(t,n,i),Vi(t,n,o),Fi(t,n,a,0)}function Wi(t,e,n,r,i,o,a,u){var s=e<t.length;t.splice(e,0,1|i|(n?2:0),r,o,0),Fi(t,e,u,a),s&&function(t,n){for(var r=e+4;r<t.length;r+=4){var i=ki(Ui(t,r));if(i>0){var o=Oi(Ui(t,i));Vi(t,i,Di((Si(t,i)?1:0)|(Ii(t,i)?2:0)|(Ti(t,i)?4:0),o,r))}}}(t)}function Yi(t,e){return e?!!t:null!==t}function Ji(t,e,n,r){var i,o=r&&r(e)?4:0;return n?(o|=2,i=no(t[3],e)):i=no(t[2],e),Di(o,i=i>0?i+1:0,0)}function Xi(t,e,n){return!(2&t)&&e&&n&&4&t?e.toString()!==n.toString():e!==n}var Zi=function(){function t(t,e,n){this._element=e,this._type=n,this._values={},this._dirty=!1,this._factory=t}return t.prototype.setValue=function(t,e){this._values[t]!==e&&(this._values[t]=e,this._dirty=!0)},t.prototype.buildPlayer=function(t,e){if(this._dirty){var n=this._factory.fn(this._element,this._type,this._values,e,t||null);return this._values={},this._dirty=!1,n}},t}();function $i(t,e){return 65535&t[e+3]}function to(t,e){var n=eo(t[1],e);return n>0?n/4:0}function eo(t,e){for(var n=0;n<t.length;n+=4)if(t[n]===e)return n;return-1}function no(t,e){for(var n=1;n<t.length;n+=2)if(t[n]===e)return n;return-1}function ro(t,e){var n=t[1];return n[4*e+3]||n[3]||null}function io(t,e,n){t[1][4*e+2]=n}function oo(t){var e=t[6];if(null==e){e="";for(var n=t[3],r=1;r<n.length;r+=2)n[r+1]&&(e+=(e.length?" ":"")+n[r]);t[6]=e}return e}var ao=Promise.resolve(null);function uo(t){var e=t[_t];if(e.firstTemplatePass=!1,pn(!1),!un(t)){var n=cn();qe(t,e,n),function(t){for(var e=Vr(t);null!==e;e=e[St])if(e.length<Vt&&-1===e[Ut])for(var n=e,r=0;r<n[Bt].length;r++){var i=n[Bt][r];fo(i,i[_t],i[kt])}}(t),function(t){if(null!=t.contentQueries)for(var e=0;e<t.contentQueries.length;e+=2){var n=t.contentQueries[e];t.data[n].contentQueriesRefresh(n-Vt,t.contentQueries[e+1])}}(e),He(t,e.contentHooks,e.contentCheckHooks,n),function(t,e){if(t.expandoInstructions){var n=e[At]=t.expandoStartIndex;yn(n);for(var r=-1,i=-1,o=0;o<t.expandoInstructions.length;o++){var a=t.expandoInstructions[o];if("number"==typeof a){if(a<=0){i=-a;var u=t.expandoInstructions[++o];r=n+=Wt+u}else n+=a;yn(n)}else null!==a&&(e[At]=n,a(2,te(e[r]),i)),r++}}}(e,t)}!function(t){if(null!=t)for(var e=0;e<t.length;e++)void 0,void 0,16==(16&(n=ie(t[e],$e()))[Ct])&&12&n[Ct]&&(function(t){for(var e=t[_t],n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(n),_a(n,n[kt]));var n}(e.components)}function so(t,e,n,r,i,o,a,u){var s=e.blueprint.slice();return s[Ct]=51|r,s[Et]=s[jt]=t,s[kt]=n,s[xt]=i||t&&t[xt],s[Pt]=o||t&&t[Pt],s[Rt]=a||t&&t[Rt]||null,s[Nt]=u||t&&t[Nt]||null,s}function lo(t,e,n,r,i){var o=$e(),a=o[_t],u=t+Vt;o[u]=n;var s=a.data[u];null==s&&(s=a.data[u]=jo(o,e,u,r,i,null));var l=en(),c=on();return l&&(!c||null!=l.child||null===s.parent&&2!==l.type?c||(l.next=s):l.child=s),null==a.firstChild&&(a.firstChild=s),nn(s),an(!0),s}function co(t,e){return null==e[_t].node&&(e[_t].node=jo(e,2,t,null,null,null)),e[Dt]=e[_t].node}function ho(t){var e=t[_t];e.firstTemplatePass&&(e.expandoStartIndex++,e.blueprint.push(null),e.data.push(null),t.push(null))}function fo(t,e,n){var r,i=on(),o=en();if(an(!0),nn(null),128&t[Ct])ya(he(t));else try{an(!0),nn(null),r=mn(t,t[Dt]),wo(),e.template(go(t),n),t[_t].firstTemplatePass=!1,pn(!1),uo(t)}finally{wn(r),an(i),nn(o)}}function po(t){return void 0===t&&(t=1),bn(t)}function vo(t,e,n){var r=t[xt],i=mn(t,t[Dt]),o=!cn();try{o&&r.begin&&r.begin(),un(t)&&(n&&(wo(),n(1,e)),uo(t),t[Ct]&=-2),n&&n(2,e),uo(t)}finally{o&&r.end&&r.end(),wn(i)}}function go(t){return un(t)?1:2}var yo=null;function mo(){yo="http://www.w3.org/2000/svg"}function bo(){yo="http://www.w3.org/1998/MathML/"}function wo(){yo=null}function _o(t,e,n,r){So(t,e,n,r),xo()}function Co(t,e,n){var r=$e(),i=r[_t],o=r[Pt].createComment("");Qr(o,lo(t,4,o,"ng-container",e||null),r),To(i,r,n),zn(o,r)}function Eo(){var t=en(),e=$e(),n=e[_t];on()?an(!1):nn(t=t.parent);var r=e[It];r&&(e[It]=r.addNode(t)),je(n,t)}function So(t,e,n,r){var i,o,a,u=$e(),s=u[_t],l=Io(e),c=lo(t,3,l,e,n||null);if(n&&(s.firstTemplatePass&&!c.stylingTemplate&&function(t){for(var e=0;e<t.length;e++){var n=t[e];if(1==n||2==n)return!0}return!1}(n)&&(c.stylingTemplate=gi(n)),Oo(l,n)),Qr(l,c,u),To(s,u,r),0===Ee&&zn(l,u),Ee++,s.firstTemplatePass){var h=qa(c);h&&h.hasOwnProperty("class")&&(c.flags|=8)}c.stylingTemplate&&0==(8&c.flags)&&(mi(i=l,a=u[Pt],(o=c.stylingTemplate)[3],!0),mi(i,a,o[2],!1))}function Io(t,e){var n=e||$e()[Pt];return Ir(n)?n.createElement(t,yo):null===yo?n.createElement(t):n.createElementNS(yo,t)}function To(t,e,n,r){if(void 0===r&&(r=ne),Ke){var i=en();dn()&&function(t,e,n,r,i){var o=i?{"":-1}:null;if(n){ta(r,t.data.length,n.length);for(var a=0;a<n.length;a++)(u=n[a]).providersResolver&&u.providersResolver(u);for(Yo(t,r,n.length),a=0;a<n.length;a++){var u,s=t.data.length;ea(t,e,u=n[a],u.factory),$o(t.data.length-1,u,o),Le(s,u.onInit,u.doCheck,t)}}o&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '"+e[i+1]+"' not found!");r.push(e[i],o)}}(r,i,o)}(t,e,function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ri(n,a.selectors,!1)&&(i||(i=[]),On(In(en(),e),e,a.type),ue(a)?(1&n.flags&&vr(n),n.flags=1,i.unshift(a)):i.push(a))}return i}(t,e,i),i,n||null),function(t,e,n){var r=n.directiveStart,i=n.directiveEnd;!dn()&&r<i&&In(n,e);for(var o=r;o<i;o++){var a=t.data[o];ue(a)&&na(e,n,a),Jo(e,Mn(t.data,e,o,n),a,o)}}(t,e,i),function(t,e,n){for(var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=dn(),u=r;u<i;u++){var s=t.data[u],l=e[u];if(s.hostBindings){var c=o.length;Je(s),s.hostBindings(1,l,n.index-Vt),Je(null),c===o.length&&a&&o.push(s.hostBindings)}else a&&o.push(null)}}(t,e,i),function(t,e,n){var r=e.localNames;if(r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],u=-1===a?n(e,t):t[a];t[i++]=u}}(e,i,r)}}function Do(t,e,n,r,i,o){return t.ngPrivateData||(t.ngPrivateData=Ao(-1,t,e,n,r,i,o))}function Ao(t,e,n,r,i,o,a){var u=Vt+n,s=u+r,l=function(t,e){var n=new Array(e).fill(null,0,t).fill(gr,t);return n[Ft]=-1,n[At]=t,n}(u,s);return l[_t]={id:t,blueprint:l,template:e,viewQuery:a,node:null,data:l.slice(),childIndex:-1,bindingStartIndex:u,expandoStartIndex:s,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null}}function Oo(t,e){for(var n=$e()[Pt],r=Ir(n),i=0;i<e.length;){var o=e[i++];if("number"==typeof o){if(0!==o)break;var a=e[i++],u=e[i++],s=e[i++];r?n.setAttribute(t,u,s,a):t.setAttributeNS(a,u,s)}else s=e[i++],o!==Er&&(hi(o)?r&&n.setProperty(t,o,s):r?n.setAttribute(t,o,s):t.setAttribute(o,s))}}function ko(t,e){var n=t.createRenderer(null,null);return"string"==typeof e?Ir(n)?n.selectRootElement(e):n.querySelector(e):e}function No(t,e,n){void 0===n&&(n=!1);var r=$e(),i=en(),o=r[_t],a=o.firstTemplatePass&&(o.cleanup||(o.cleanup=[]));if(3===i.type){var u=ne(i,r),s=r[Pt],l=(g=za(r)).length,c=n;if(Ir(s)){var h=s.listen(u,t,e);g.push(e,h),c=l+1}else{var f=function(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}(e);u.addEventListener(t,f,n),g.push(f)}a&&a.push(t,i.index,l,c)}void 0===i.outputs&&(i.outputs=Uo(i,1));var d,p=i.outputs;if(p&&(d=p[t])){var v=d.length;if(v)for(var g=za(r),y=0;y<v;y+=2){var m=r[d[y]][d[y+1]].subscribe(e),b=g.length;g.push(e,m),a&&a.push(t,i.index,b,-(b+1))}}}function xo(){var t=en();on()?an(!1):nn(t=t.parent);var e=$e(),n=e[It];if(n&&(e[It]=n.addNode(t)),je($e()[_t],t),Ee--,vi(t)){var r=ci(t.index,e);Vo(e,t.inputs.class,oo(r))}}function Po(t,e,n,r){if(n!==gr){var i=$e(),o=i[Pt],a=ee(t,i);if(null==n)Ir(o)?o.removeAttribute(a,e):a.removeAttribute(e);else{var u=null==r?Zt(n):r(n);Ir(o)?o.setAttribute(a,e,u):a.setAttribute(e,u)}}}function Ro(t,e,n,r,i){Lo(t,e,n,r,i)}function Mo(t,e,n,r,i){Lo(t,e,n,r,i,Fo)}function Fo(t,e){return e[t.index][Pt]}function Lo(t,e,n,r,i,o){if(n!==gr){var a,u,s=$e(),l=ee(t,s),c=re(t,s);if(!i&&(a=qa(c))&&(u=a[e]))Vo(s,u,n),ae(c)&&function(e,n){var r=ie(t+Vt,e);4&r[Ct]||(r[Ct]|=8)}(s);else if(3===c.type){var h=o?o(c,s):s[Pt];n=null!=r?r(n):n,Ir(h)?h.setProperty(l,e,n):hi(e)||(l.setProperty?l.setProperty(e,n):l[e]=n)}}}function jo(t,e,n,r,i,o){var a=en(),u=on()?a:a&&a.parent,s=u&&t&&u!==t[Dt]?u:null;return{type:e,index:n,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,flags:0,providerIndexes:0,tagName:r,attrs:i,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:o,next:null,child:null,parent:s,detached:null,stylingTemplate:null,projection:null}}function Vo(t,e,n){for(var r=0;r<e.length;r+=2)t[e[r]][e[r+1]]=n}function Uo(t,e){var n=$e()[_t],r=null,i=t.directiveStart,o=t.directiveEnd;if(o>i)for(var a=0===e,u=n.data,s=i;s<o;s++){var l=u[s],c=a?l.inputs:l.outputs;for(var h in c)if(c.hasOwnProperty(h)){var f=c[h];(r=r||{}).hasOwnProperty(h)?r[h].push(s,f):r[h]=[s,f]}}return r}function Bo(t,e,n,r){var i=en();i.stylingTemplate||(i.stylingTemplate=li()),function(t,e,n,r,i,o){if(!(32&t[0])){var a=function(t,e,n){var r,i=t[1],o=t[4].length,a=eo(i,e);if(-1===a)r=i.length/4,i.push(e,o,!1,n||null);else{if(i[a+1]>=0)return-1;r=a/4,i[a+1]=o,i[a+3]=n||null}return r}(t,e,i);if(-1!==a){var u=t[4],s=u[1],l=u[0],c=4*l,h=9+c,f=h+4*s,d=f+c,p=u.length;u.push(r?r.length:0,n?n.length:0);var v=0,g=[];if(r&&r.length)for(var y=0;y<r.length;y++){var m=r[y];-1==(_=bi(t,m,9,h))&&(_=h+v,v+=4,g.push(m)),u.push(_)}var b=[];if(n&&n.length)for(var w=0;w<n.length;w++){var _,C=n[w];-1==(_=bi(t,C,h,f))?(_=f+v,v+=4,b.push(C)):_+=4*g.length,u.push(_)}var E=2;if(g.length)for(;E<p;){var S=u[E+0],I=u[E+1];if(I)for(var T=E+2+S,D=T;D<T+I;D++)u[D]+=4*g.length;E+=2+(S+I)}for(var A=b.length+g.length,O=9;O<t.length;O+=4){var k=O>=f,N=O>=(k?d:h),x=Ui(t,O),P=Oi(x),R=ki(x);Vi(t,O,Di(x,P,R+=k?N?4*g.length:0:4*A+4*(N?g.length:0)))}for(var M=0;M<4*g.length;M++)t.splice(d,0,null),t.splice(h,0,null),h++,f++,d+=2;for(var F=0;F<4*b.length;F++)t.splice(f,0,null),t.push(null),f++,d++;for(var L=t[3],j=t[2],V=0;V<A;V++){var U=V>=g.length,B=U?V-g.length:V,q=U?b[B]:g[B],H=void 0,z=void 0;U?(H=d+4*(s+B),z=h+4*(s+B)):(H=f+4*(l+B),z=9+4*(l+B));var K=U?L:j,G=no(K,q);-1===G?(G=K.length+1,K.push(q,!U&&null)):G+=1;var Q=Ji(t,q,U,i||null);Vi(t,z,Di(Q,G,H)),xi(t,z,q),Pi(t,z,null),Fi(t,z,0,a),Vi(t,H,Di(Q,G,z)),xi(t,H,q),Pi(t,H,null),Fi(t,H,0,a)}u[1]=s+b.length,u[0]=l+g.length,Vi(t,0,Di(0,0,f)|(o?16:0))}}}(i.stylingTemplate,r||null,t,e,n,vi(i))}function qo(t,e){var n=en();n.stylingTemplate||(n.stylingTemplate=gi(e)),function(t,e,n){var r=t[1];if(-1==eo(r,n)){r.push(n,-1,!1,null);for(var i=null,o=null,a=-1,u=0;u<e.length;u++){var s=e[u];"number"==typeof s?a=s:1==a?yi(i=i||t[3],s,!0):2==a&&yi(o=o||t[2],s,e[++u])}}}(n.stylingTemplate,e,t)}function Ho(t,e){var n=$e(),r=0!=(2&n[Ct]);(function(t,n,r,i,o,a,u){var s=0,l=to(t,e||null);if(function(t){return Si(t,0)}(t)&&function(t,e){return t[1][4*l+2]}(t)){for(var c=8&t[0],h=t[5],f=Ni(t),d=Hi(t),p=!1,v=9;v<t.length;v+=4)if(Si(t,v)){var g=Ui(t,v),y=$i(t,v);if(l!==y){p=!0;continue}var m=qi(t,v),b=Bi(t,v),w=4&g?ro(t,y):null,_=ji(t,v),C=!!(2&g),E=!C||!d,S=b;v<f&&!Yi(S,C)&&(S=Bi(t,ki(g))),C||Yi(S,C)||!E||(S=Ai(t,g)),(!i||S)&&(C?Ci(h,m,!!S,n,null,_):_i(h,m,S,n,w,null,_)),Ei(t,v,!1)}if(c){var I=Array.isArray(r)?he(r):r,T=di(t),D=T[0];for(v=1;v<D;v+=2){var A=T[v],O=v+1,k=T[O];if(A){var N=A.buildPlayer(k,i);void 0!==N&&(null!=N&&fi(T,I,h,N,O)&&s++,k&&k.destroy())}else k&&k.destroy()}Ki(t,!1)}io(t,l,!1),zi(t,p)}return s})(ci(t+Vt,n),n[Pt],n,r)>0&&ga(he(n),2)}function zo(t,e,n,r,i){var o=null;null!==n&&(o=r?Zt(n)+r:n),wi(ci(t+Vt,$e()),e,o,!1,i)}function Ko(t,e,n,r){var i=n instanceof ai?n:!!n;wi(ci(t+Vt,$e()),e,i,!0,r)}function Go(t,e,n,r){if(null!=r)return function(t,e,n,r){throw new Error("unimplemented. Should not be needed by ViewEngine compatibility")}();var i=$e(),o=re(t,i),a=ci(t+Vt,i);if(vi(o)&&e!==gr){var u=oo(a);Vo(i,o.inputs.class,(u.length?u+" ":"")+e)}else!function(t,e,n,r){n=n||null;var i=to(t,null),o=t[5],a=e instanceof ai?new Zi(e,o,1):null,u=n instanceof ai?new Zi(n,o,2):null,s=a?e.value:e,l=u?n.value:n,c=Hi(t)||s===gr||s===t[6],h=l===gr||l===t[7];if(!c||!h){t[6]=s,t[7]=l;var f=ut,d=!1,p=!1,v=a?1:0;Ri(t,a,1)&&(Mi(t,a,1),p=!0);var g=u?3:0;Ri(t,u,3)&&(Mi(t,u,3),p=!0),c||("string"==typeof s?(f=s.split(/\s+/),d=!0):f=s?Object.keys(s):ut);for(var y=s||at,m=l?Object.keys(l):ut,b=l||at,w=m.length,_=!1,C=Ni(t),E=0,S=m.length+f.length;C<t.length&&E<S;){if(!(F=E>=w)&&!h||F&&!c){var I=F?E-w:E,T=F?f[I]:m[I],D=F?!!d||y[T]:b[T],A=F?v:g;if((L=qi(t,C))===T){var O=Bi(t,C),k=Ui(t,C);if(Fi(t,C,A,i),Xi(k,O,D)){Pi(t,C,D),p=p||!!A;var N=Ai(t,k);(null!=O||Xi(k,N,D))&&(Ei(t,C,!0),_=!0)}}else{var x=Gi(t,T,C);if(x>0){var P=Bi(t,x),R=Ui(t,x);Qi(t,C,x),Xi(R,P,D)&&(N=Ai(t,R),Pi(t,C,D),(null!=P||Xi(R,N,D))&&(Ei(t,C,!0),p=p||!!A,_=!0))}else p=p||!!A,Wi(t,C,F,T,Ji(t,T,F,ro(t,i)),D,i,A),_=!0}}C+=4,E++}for(;C<t.length;)(!(F=2==(2&(k=Ui(t,C))))&&!h||F&&!c)&&Yi(O=Bi(t,C),F)&&(Ei(t,C,!0),Pi(t,C,null),Fi(t,C,A=F?v:g,i),_=!0),C+=4;for(var M=ro(t,i);E<S;){var F;if(!(F=E>=w)&&!h||F&&!c){I=F?E-w:E;var L=F?f[I]:m[I],j=(O=F?!!d||y[L]:b[L],k=1|Ji(t,L,F,M),A=F?v:g,t.length);t.push(k,L,O,0),Fi(t,j,A,i),_=!0}E++}_&&(zi(t,!0),io(t,i,!0)),p&&Ki(t,!0)}}(a,e,n)}function Qo(t,e){var n=$e(),r=Rr(e,n[Pt]),i=lo(t,3,r,null,null);an(!1),Qr(r,i,n)}function Wo(t,e){if(e!==gr){var n=$e(),r=ee(t,n),i=n[Pt];Ir(i)?i.setValue(r,Zt(e)):r.textContent=Zt(e)}}function Yo(t,e,n){var r=-(e.index-Vt),i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Jo(t,e,n,r){var i=en();Xo(t,i,e,n),i&&i.attrs&&function(t,e,r,o){var a=i.initialInputs;(void 0===a||t>=a.length)&&(a=function(t,e,n){var r=n.initialInputs||(n.initialInputs=[]);r[t]=null;for(var i=n.attrs,o=0;o<i.length;){var a=i[o];if(3===a)break;if(0!==a){var u=e[a],s=i[o+1];void 0!==u&&(r[t]||(r[t]=[])).push(u,s),o+=2}else o+=4}return r}(t,n.inputs,i));var u=a[t];if(u)for(var s=0;s<u.length;s+=2)e[u[s]]=u[s+1]}(r,e),n.contentQueries&&n.contentQueries(r),ue(n)&&(ie(i.index,t)[kt]=e)}function Xo(t,e,n,r){var i=ne(e,t);zn(n,t),i&&zn(i,t),null!=r.attributes&&3==e.type&&Oo(i,r.attributes)}function Zo(t){var e=$e()[_t];(e.components||(e.components=[])).push(t.index)}function $o(t,e,n){n&&(e.exportAs&&(n[e.exportAs]=t),e.template&&(n[""]=t))}function ta(t,e,n){t.flags=1&t.flags,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ea(t,e,n,r){t.data.push(n);var i=new Jt(r,ue(n),null);t.blueprint.push(i),e.push(i)}function na(t,e,n){var r=ne(e,t),i=Do(n.template,n.consts,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery),o=pa(t,e.index,so(t,i,null,n.onPush?8:4,t[xt],t[xt].createRenderer(r,n)));o[Dt]=e,o[Tt]=t[e.index],t[e.index]=o,dn()&&Zo(e)}function ra(t,e,n,r,i){return[i?-1:0,[],n,null,null,t,r,Hr(e,n)]}function ia(t,e,n,r,i,o,a,u){var s=$e(),l=s[_t],c=aa(t,i||null,o||null);dn()&&(c.tViews=Ao(-1,e,n,r,l.directiveRegistry,l.pipeRegistry,null)),To(l,s,a,u);var h=s[It],f=en();zn(ne(f,s),s),h&&(s[It]=h.addNode(f)),je(l,c),an(!1)}function oa(t){var e=aa(t,null,null);dn()&&(e.tViews=[]),an(!1)}function aa(t,e,n){var r=$e(),i=t+Vt,o=r[Pt].createComment(""),a=lo(t,0,o,e,n),u=r[i]=ra(r[i],a,r,o);Qr(o,a,r),pa(r,t+Vt,u);var s=r[It];return s&&(u[It]=s.container()),a}function ua(t){var e=$e(),n=e[_t];nn($t(n.data,t)),an(!0),e[t+Vt][Ut]=0,qe(e,n,cn())}function sa(){var t=en();on()?an(!1):nn(t=t.parent);for(var e=$e()[t.index],n=e[Ut];n<e[Bt].length;)jr(e,t,n)}function la(t,e,n){var r=$e(),i=en(),o=2===i.type?i.parent:i,a=r[o.index],u=function(t,e,n,r){for(var i=t[Bt],o=n;o<i.length;o++){var a=i[o][_t].id;if(a===r)return i[o];if(!(a<r))break;jr(t,e,o)}return null}(a,o,a[Ut],t);return u?(an(!0),mn(u,u[_t].node)):(u=so(r,function(t,e,n,r){var i=$e()[_t],o=r.tViews;return(t>=o.length||null==o[t])&&(o[t]=Ao(t,null,e,n,i.directiveRegistry,i.pipeRegistry,null)),o[t]}(t,e,n,o),null,4),a[It]&&(u[It]=a[It].createView()),co(t,u),mn(u,u[_t].node)),a&&(un(u)&&Fr(u,a,r,a[Ut],-1),a[Ut]++),un(u)?3:2}function ca(){var t=$e(),e=t[Dt];un(t)&&(uo(t),t[Ct]&=-2),uo(t),wn(t[Et]),nn(e),an(!1)}function ha(t,e){var n=we($e())[Dt];if(!n.projection)for(var r=n.projection=new Array(t?t.length+1:1).fill(null),i=r.slice(),o=n.child;null!==o;){var a=t?ii(o,t,e):0,u=o.next;i[a]?i[a].next=o:(r[a]=o,o.next=null),i[a]=o,o=u}}var fa=[];function da(t,e,n){void 0===e&&(e=0);var r=$e(),i=lo(t,1,null,null,n||null);null===i.projection&&(i.projection=e),an(!1);for(var o=we(r),a=o[Dt].projection[e],u=o[Et],s=-1;a;){if(1===a.type){var l=we(u),c=l[Dt].projection[a.projection];if(c){fa[++s]=a,fa[++s]=u,a=c,u=l[Et];continue}}else a.flags|=2,Xr(a,i,r,u);null===a.next&&u!==o[Et]&&(u=fa[s--],a=fa[s--]),a=a.next}}function pa(t,e,n){var r=t[_t],i=dn();return t[Mt]?t[Mt][St]=n:i&&(r.childIndex=e),t[Mt]=n,n}function va(t){for(;t&&!(128&t[Ct]);)t[Ct]|=8,t=t[Et];t[Ct]|=8,ga(t[kt],1)}function ga(t,e){var n,r=0===t.flags;t.flags|=e,r&&t.clean==ao&&(t.clean=new Promise(function(t){return n=t}),t.scheduler(function(){if(1&t.flags&&(t.flags&=-2,ya(t)),2&t.flags){t.flags&=-3;var e=t.playerHandler;e&&e.flushPlayers()}t.clean=ao,n(null)}))}function ya(t){for(var e=0;e<t.components.length;e++){var n=t.components[e];vo(de(n),n)}}function ma(t){ba(Hn(t),t)}function ba(t,e){var n=t[xt];n.begin&&n.begin(),un(t)&&_a(t,e),_a(t,e),n.end&&n.end()}function wa(t){ya(t[kt])}function _a(t,e){var n=t[_t],r=mn(t,t[Dt]),i=n.template,o=n.viewQuery;try{wo(),function(e,n,r){e&&un(t)&&e(1,r)}(o,0,e),i(go(t),e),uo(t),function(e,n,r){e&&!un(t)&&e(2,r)}(o,0,e)}finally{wn(r)}}function Ca(t){va(Hn(t))}function Ea(t){var e=$e();return br(e,e[At]++,t)?t:gr}function Sa(t){if(dn()){var e=$e(),n=e[_t];!function(t,e,n){var r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===e.hostBindings?r[i-1]=r[i-1]+n:r.push(e.hostBindings,n)}(n,Ye,t),function(t,e,n){for(var r=0;r<n;r++)e.push(gr),t.blueprint.push(gr),t.data.push(null)}(n,e,t)}}function Ia(t){for(var e=!1,n=$e(),r=n[At],i=1;i<t.length;i+=2)br(n,r++,t[i])&&(e=!0);if(n[At]=r,!e)return gr;var o=t[0];for(i=1;i<t.length;i+=2)o+=Zt(t[i])+t[i+1];return o}function Ta(t,e,n){var r=$e(),i=br(r,r[At],e);return r[At]+=1,i?t+Zt(e)+n:gr}function Da(t,e,n,r,i){var o=$e(),a=wr(o,o[At],e,r);return o[At]+=2,a?t+Zt(e)+n+Zt(r)+i:gr}function Aa(t,e,n,r,i,o,a){var u=$e(),s=_r(u,u[At],e,r,o);return u[At]+=3,s?t+Zt(e)+n+Zt(r)+i+Zt(o)+a:gr}function Oa(t,e,n,r,i,o,a,u,s){var l=$e(),c=Cr(l,l[At],e,r,o,u);return l[At]+=4,c?t+Zt(e)+n+Zt(r)+i+Zt(o)+a+Zt(u)+s:gr}function ka(t,e,n,r,i,o,a,u,s,l,c){var h=$e(),f=h[At],d=Cr(h,f,e,r,o,u);return d=br(h,f+4,l)||d,h[At]+=5,d?t+Zt(e)+n+Zt(r)+i+Zt(o)+a+Zt(u)+s+Zt(l)+c:gr}function Na(t,e,n,r,i,o,a,u,s,l,c,h,f){var d=$e(),p=d[At],v=Cr(d,p,e,r,o,u);return v=wr(d,p+4,l,h)||v,d[At]+=6,v?t+Zt(e)+n+Zt(r)+i+Zt(o)+a+Zt(u)+s+Zt(l)+c+Zt(h)+f:gr}function xa(t,e,n,r,i,o,a,u,s,l,c,h,f,d,p){var v=$e(),g=v[At],y=Cr(v,g,e,r,o,u);return y=_r(v,g+4,l,h,d)||y,v[At]+=7,y?t+Zt(e)+n+Zt(r)+i+Zt(o)+a+Zt(u)+s+Zt(l)+c+Zt(h)+f+Zt(d)+p:gr}function Pa(t,e,n,r,i,o,a,u,s,l,c,h,f,d,p,v,g){var y=$e(),m=y[At],b=Cr(y,m,e,r,o,u);return b=Cr(y,m+4,l,h,d,v)||b,y[At]+=8,b?t+Zt(e)+n+Zt(r)+i+Zt(o)+a+Zt(u)+s+Zt(l)+c+Zt(h)+f+Zt(d)+p+Zt(v)+g:gr}function Ra(t,e){var n=$e(),r=n[_t],i=t+Vt;i>=r.data.length&&(r.data[i]=null),n[i]=e}function Ma(t){return $t(sn,t)}function Fa(t){return $e()[Lt][t]}function La(t){return $t($e(),t)}function ja(t,e){return void 0===e&&(e=Oe.Default),t=tt(t),Nn(en(),$e(),t,e)}function Va(t){return kn(en(),t)}function Ua(t,e){var n=$e(),r=n[_t],i=(n[Lt]||(n[Lt]=[])).push(t);if(dn()){var o=r.contentQueries||(r.contentQueries=[]);e!==(r.contentQueries.length?r.contentQueries[r.contentQueries.length-2]:-1)&&o.push(e,i-1)}}var Ba=ao;function qa(t){return t?(void 0===t.inputs&&(t.inputs=Uo(t,0)),t.inputs):null}function Ha(){return $e()}function za(t){return t[Ot]||(t[Ot]=[])}function Ka(t){return t[_t].cleanup||(t[_t].cleanup=[])}function Ga(t,e){var n=Bn(t);if(n){var r=n.native,i=n.lView,o=function(t,e){if(!(e=e||Bn(r)))return null;var n=ci(e.nodeIndex,e.lView);return di(n)||pi(n)}(0,n),a=Zn(i);fi(o,a,r,e,0,t),ga(a,2)}}function Qa(t){var e=Bn(t);if(!e)return[];var n=ci(e.nodeIndex,e.lView),r=n?di(n):null;return r?function(t){for(var e=[],n=t[0],r=2;r<n;r+=2){var i=t[r];i&&e.push(i)}for(r=n;r<t.length;r++)e.push(t[r]);return e}(r):[]}var Wa="ng",Ya=!1;function Ja(){Ya||(Ya=!0,Xa("getComponent",Yn),Xa("getContext",Jn),Xa("getListeners",ar),Xa("getViewComponent",Xn),Xa("getHostElement",rr),Xa("getInjector",tr),Xa("getRootComponents",$n),Xa("getDirectives",er),Xa("getPlayers",Qa),Xa("markDirty",Ca))}function Xa(t,e){if(K){var n=K[Wa];n||(n=K[Wa]={}),n[t]=e}}function Za(t,e){void 0===e&&(e={});var n=e.rendererFactory||Tr,r=e.sanitizer||null,i=yt(t);i.type!=t&&(i.type=t);var o,a=ko(n,e.host||i.selectors[0][0]),u=i.onPush?136:132,s=eu(e.scheduler,e.playerHandler),l=n.createRenderer(a,i),c=so(null,Ao(-1,null,1,0,null,null,null),s,u,n,l,void 0,e.injector||null),h=mn(c,null);try{n.begin&&n.begin(),o=tu($a(a,i,c,n,l,r),i,c,s,e.hostFeatures||null),uo(c),c[Ct]&=-2,uo(c)}finally{wn(h),n.end&&n.end()}return o}function $a(t,e,n,r,i,o){Qe=!1,Ge=null,Ee=0,Ke=!0;var a=n[_t],u=so(n,Do(e.template,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery),null,e.onPush?8:4,r,i,o),s=lo(0,3,t,null,null);return a.firstTemplatePass&&(On(In(s,n),n,e.type),s.flags=1,ta(s,n.length,1),Zo(s)),u[Tt]=n[Vt],u[Dt]=s,n[Vt]=u}function tu(t,e,n,r,i){var o=n[_t],a=function(t,e,n){var r=en();t.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),Yo(t,r,1),ea(t,e,n,n.factory));var i=Mn(t.data,e,e.length-1,r);return Xo(e,r,i,n),i}(o,n,e);if(r.components.push(a),t[kt]=a,i&&i.forEach(function(t){return t(a,e)}),o.firstTemplatePass&&e.hostBindings){var u=en();Je(e),e.hostBindings(1,a,u.index-Vt),Je(null)}return a}function eu(t,e){return{components:[],scheduler:t||me,clean:Ba,playerHandler:e||null,flags:0}}function nu(t,e){var n=de(t)[_t],r=n.data.length-1;Le(r,e.onInit,e.doCheck,n),je(n,{directiveStart:r,directiveEnd:r+1})}function ru(t){return function(t){return ce(t)[kt]}(t).clean}function iu(t){return"function"==typeof t.template}function ou(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=function(){var n,i,o=void 0;if(iu(t))o=e.ngComponentDef||e.ngDirectiveDef;else{if(e.ngComponentDef)throw new Error("Directives cannot inherit Components");o=e.ngDirectiveDef}var a=e.ngBaseDef;if(a||o){var u=t;u.inputs=au(t.inputs),u.declaredInputs=au(t.declaredInputs),u.outputs=au(t.outputs)}if(a&&(f(t.inputs,a.inputs),f(t.declaredInputs,a.declaredInputs),f(t.outputs,a.outputs)),o){var s=t.hostBindings,l=o.hostBindings;if(l&&(t.hostBindings=s?function(t,e,n){l(t,e,n),s(t,e,n)}:l),iu(t)&&iu(o)){var c=t.viewQuery,h=o.viewQuery;h&&(t.viewQuery=c?function(t,e){h(t,e),c(t,e)}:h)}var d=t.contentQueries,p=o.contentQueries;p&&(t.contentQueries=d?function(t){p(t),d(t)}:p);var v=t.contentQueriesRefresh,g=o.contentQueriesRefresh;g&&(t.contentQueriesRefresh=v?function(t,e){g(t,e),v(t,e)}:g),f(t.inputs,o.inputs),f(t.declaredInputs,o.declaredInputs),f(t.outputs,o.outputs),t.afterContentChecked=t.afterContentChecked||o.afterContentChecked,t.afterContentInit=t.afterContentInit||o.afterContentInit,t.afterViewChecked=t.afterViewChecked||o.afterViewChecked,t.afterViewInit=t.afterViewInit||o.afterViewInit,t.doCheck=t.doCheck||o.doCheck,t.onDestroy=t.onDestroy||o.onDestroy,t.onInit=t.onInit||o.onInit;var y=o.features;if(y)try{for(var m=Object(r.__values)(y),b=m.next();!b.done;b=m.next()){var w=b.value;w&&w.ngInherit&&w(t)}}catch(C){n={error:C}}finally{try{b&&!b.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}return"break"}var _=e.prototype;_&&(t.afterContentChecked=t.afterContentChecked||_.afterContentChecked,t.afterContentInit=t.afterContentInit||_.afterContentInit,t.afterViewChecked=t.afterViewChecked||_.afterViewChecked,t.afterViewInit=t.afterViewInit||_.afterViewInit,t.doCheck=t.doCheck||_.doCheck,t.onDestroy=t.onDestroy||_.onDestroy,t.onInit=t.onInit||_.onInit),e=Object.getPrototypeOf(e)};e&&"break"!==n(););}function au(t){return t===at?{}:t===ut?[]:t}var uu="__ngOnChanges_";function su(t){var e=t.declaredInputs,n=t.inputs,r=t.type.prototype,i=function(t){if(e.hasOwnProperty(t)){for(var i=n[t],o=e[t],a=uu+i,u=void 0,s=r;!u&&s&&Object.getPrototypeOf(s)!==Object.getPrototypeOf(Object.prototype);)u=Object.getOwnPropertyDescriptor(s,i),s=Object.getPrototypeOf(s);var l=u&&u.set;Object.defineProperty(r,i,{get:u&&u.get||(l?void 0:function(){return this[a]}),set:function(t){var e=this[uu];e||(e={},Object.defineProperty(this,uu,{value:e,writable:!0}));var n=!this.hasOwnProperty(a),r=e[o];r?r.currentValue=t:e[o]=new fr(this[a],t,n),n?Object.defineProperty(this,a,{value:t,writable:!0}):this[a]=t,l&&l.call(this,t)},configurable:!1})}};for(var o in e)i(o);null!=t.onInit&&(t.onInit=lu(t.onInit)),t.doCheck=lu(t.doCheck)}function lu(t){return function(){var e=this[uu];null!=e&&(this.ngOnChanges(e),this[uu]=null),t&&t.apply(this)}}function cu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}su.ngInherit=!0;var hu="__source",fu=new Object,du=fu,pu=new I("INJECTOR"),vu=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=fu),e===fu)throw new Error("NullInjectorError: No provider for "+X(t)+"!");return e},t}(),gu=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new Du(t,e):new Du(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=fu,t.NULL=new vu,t.ngInjectableDef=_({providedIn:"any",factory:function(){return Re(pu)}}),t.__NG_ELEMENT_ID__=function(){return mu()},t}(),yu=function(){return t=en(),new jn(t,$e());var t},mu=cu,bu=function(t){return t},wu=[],_u=bu,Cu=function(){return Array.prototype.slice.call(arguments)},Eu=h({provide:String,useValue:h}),Su=gu.NULL,Iu=/\n/gm,Tu="\u0275",Du=function(){function t(t,e,n){void 0===e&&(e=Su),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(gu,{token:gu,fn:bu,deps:wu,value:this,useNew:!1}),r.set(pu,{token:pu,fn:bu,deps:wu,value:this,useNew:!1}),function t(e,n){if(n)if((n=tt(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw ku("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ku("Unexpected provider",n);var i=tt(n.provide),o=function(t){var e=function(t){var e=wu,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((s=tt(n[r]))instanceof Array)for(var o=0,a=s;o<a.length;o++){var u=a[o];u instanceof Ie||u==Ie?i|=1:u instanceof De||u==De?i&=-3:u instanceof Te||u==Te?i&=-5:s=u instanceof Se?u.token:tt(u)}e.push({token:s,options:i})}}else if(t.useExisting){var s;e=[{token:s=tt(t.useExisting),options:6}]}else if(!(n||Eu in t))throw ku("'deps' required",t);return e}(t),n=bu,r=wu,i=!1,o=tt(t.provide);if(Eu in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=tt(t.useClass);else{if("function"!=typeof o)throw ku("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==Cu)throw Au(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Cu,value:wu});a.deps.push({token:i=n,options:6})}var u=e.get(i);if(u&&u.fn==Cu)throw Au(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=Oe.Default);var i=this._records.get(t);try{return function t(e,n,i,o,a,u){try{return function(e,n,i,o,a,u){var s,l;if(!n||u&Oe.SkipSelf)u&Oe.Self||(l=o.get(e,a,Oe.Default));else{if((l=n.value)==_u)throw Error(Tu+"Circular dependency");if(l===wu){n.value=_u;var c=n.useNew,h=n.fn,f=n.deps,d=wu;if(f.length){d=[];for(var p=0;p<f.length;p++){var v=f[p],g=v.options,y=2&g?i.get(v.token):void 0;d.push(t(v.token,y,i,y||4&g?o:Su,1&g?null:gu.THROW_IF_NOT_FOUND,Oe.Default))}}n.value=l=c?new((s=h).bind.apply(s,Object(r.__spread)([void 0],d))):h.apply(void 0,d)}}return l}(e,n,i,o,a,u)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(e),n&&n.value==_u&&(n.value=wu),s}}(t,i,this._records,this.parent,e,n)}catch(a){var o=a.ngTempTokenPath;throw t[hu]&&o.unshift(t[hu]),a.message=Ou("\n"+a.message,o,this.source),a.ngTokenPath=o,a.ngTempTokenPath=null,a}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(X(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function Au(t){return ku("Cannot mix multi providers and regular providers",t)}function Ou(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Tu?t.substr(2):t;var r=X(e);if(e instanceof Array)r=e.map(X).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):X(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(Iu,"\n  ")}function ku(t,e){return new Error(Ou(t,e))}var Nu=new I("The presence of this token marks an injector as being the root injector."),xu={},Pu={},Ru=[],Mu=void 0;function Fu(){return void 0===Mu&&(Mu=new vu),Mu}function Lu(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||Fu(),new ju(t,n,e)}var ju=function(){function t(t,e,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;var i=[];qu([t],function(t){return r.processInjectorType(t,[],i)}),e&&qu(e,function(n){return r.processProvider(n,t,e)}),this.records.set(pu,Bu(void 0,this)),this.isRootInjector=this.records.has(Nu),this.injectorDefTypes.forEach(function(t){return r.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=du),void 0===n&&(n=Oe.Default),this.assertNotDestroyed();var r,i=Ne(this);try{if(!(n&Oe.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof I)&&E(t);a&&this.injectableDefInScope(a)&&(o=Bu(Vu(t),xu),this.records.set(t,o))}if(void 0!==o)return this.hydrate(t,o)}return(n&Oe.Self?Fu():this.parent).get(t,e)}finally{Ne(i)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e,n){var r=this;if(t=tt(t)){var i=S(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,u=-1!==n.indexOf(a),s=void 0!==o&&t.providers||Ru;if(void 0!==o&&(i=S(o)),null!=i){if(this.injectorDefTypes.add(a),this.records.set(a,Bu(i.factory,xu)),null!=i.imports&&!u){n.push(a);try{qu(i.imports,function(t){return r.processInjectorType(t,e,n)})}finally{}}var l=i.providers;if(null!=l&&!u){var c=t;qu(l,function(t){return r.processProvider(t,c,l)})}var h=t.ngModule;qu(s,function(t){return r.processProvider(t,h,s)})}}},t.prototype.processProvider=function(t,e,n){var r=zu(t=tt(t))?t:tt(t&&t.provide),i=function(t,e,n){var r=Uu(t,e,n);return Hu(t)?Bu(void 0,t.useValue):Bu(r,xu)}(t,e,n);if(zu(t)||!0!==t.multi){var o=this.records.get(r);if(o&&void 0!==o.multi)throw new Error("Mixed multi-provider for "+X(r))}else{var a=this.records.get(r);if(a){if(void 0===a.multi)throw new Error("Mixed multi-provider for "+r+".")}else(a=Bu(void 0,xu,!0)).factory=function(){return Fe(a.multi)},this.records.set(r,a);r=t,a.multi.push(t)}this.records.set(r,i)},t.prototype.hydrate=function(t,e){if(e.value===Pu)throw new Error("Cannot instantiate cyclic dependency! "+X(t));var n;return e.value===xu&&(e.value=Pu,e.value=e.factory()),"object"==typeof e.value&&e.value&&"object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function Vu(t){var e=E(t);if(null===e){var n=S(t);if(null!==n)return n.factory;if(t instanceof I)throw new Error("Token "+X(t)+" is missing an ngInjectableDef definition.");if(t instanceof Function){var r=t.length;if(r>0){var i=new Array(r).fill("?");throw new Error("Can't resolve all parameters for "+X(t)+": ("+i.join(", ")+").")}return function(){return new t}}throw new Error("unreachable")}return e.factory}function Uu(t,e,n){var i,o=void 0;if(zu(t))return Vu(tt(t));if(Hu(t))o=function(){return tt(t.useValue)};else if((i=t)&&i.useExisting)o=function(){return Re(tt(t.useExisting))};else if(t&&t.useFactory)o=function(){return t.useFactory.apply(t,Object(r.__spread)(Fe(t.deps||[])))};else{var a=tt(t&&(t.useClass||t.provide));if(!a){var u="";throw e&&n&&(u=" - only instances of Provider and Type are allowed, got: ["+n.map(function(e){return e==t?"?"+t+"?":"..."}).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+X(e)+"'"+u)}if(!t.deps)return Vu(a);o=function(){return new(a.bind.apply(a,Object(r.__spread)([void 0],Fe(t.deps))))}}return o}function Bu(t,e,n){return void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function qu(t,e){t.forEach(function(t){return Array.isArray(t)?qu(t,e):e(t)})}function Hu(t){return t&&"object"==typeof t&&Eu in t}function zu(t){return"function"==typeof t}function Ku(t,e,n,r,i){if(t=tt(t),Array.isArray(t))for(var o=0;o<t.length;o++)Ku(t[o],e,n,r,i);else{var a=$e(),u=zu(t)?t:tt(t.provide),s=Uu(t),l=en(),c=65535&l.providerIndexes,h=l.directiveStart,f=l.providerIndexes>>16;if(zu(t)||!t.multi){var d=new Jt(s,i,ja),p=Qu(u,e,i?c:c+f,h);-1==p?(On(In(l,a),a,u),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(d),a.push(d)):(n[p]=d,a[p]=d)}else{var v=Qu(u,e,c+f,h),g=Qu(u,e,c,c+f),y=g>=0&&n[g];i&&!y||!i&&!(v>=0&&n[v])?(On(In(l,a),a,u),d=function(t,e,n,r,i){var o=new Jt(t,n,ja);return o.multi=[],o.index=e,o.componentProviders=0,Gu(o,i,r&&!n),o}(i?Yu:Wu,n.length,i,r,s),!i&&y&&(n[g].providerFactory=d),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(d),a.push(d)):Gu(n[i?g:v],s,!i&&r),!i&&r&&y&&n[g].componentProviders++}}}function Gu(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Qu(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Wu(t,e,n,r){return Ju(this.multi,[])}function Yu(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,u=Mn(e,n,this.providerFactory.index,r);Ju(o,i=u.slice(0,a));for(var s=a;s<u.length;s++)i.push(u[s])}else Ju(o,i=[]);return i}function Ju(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Xu(t,e){return void 0===e&&(e=[]),function(n){n.providersResolver=function(n){return function(t,e,n){var r=$e()[_t];if(r.firstTemplatePass){var i=ue(t);Ku(n,r.data,r.blueprint,i,!0),Ku(e,r.data,r.blueprint,i,!1)}}(n,t,e)}}}var Zu=function(){return function(){}}(),$u=function(){return function(){}}();function ts(t){var e=Error("No component factory found for "+X(t)+". Did you add it to @NgModule.entryComponents?");return e[is]=t,e}var es,ns,rs,is="ngComponent",os=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw ts(t)},t}(),as=function(){function t(){}return t.NULL=new os,t}(),us=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw ts(t);return new ss(e,this._ngModule)},t}(),ss=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.__extends)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}($u),ls=function(){return function(){}}(),cs=function(){return function(){}}(),hs=function(){function t(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=t}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return null==this._lView[Tt]?function t(e,n,r){for(var i=n.child;i;)r.push(ne(i,e)),4===i.type&&t(e,i,r),i=i.next;return r}(this._lView,this._lView[Dt],[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 64==(64&this._lView[Ct])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ur(this._lView)},t.prototype.onDestroy=function(t){var e,n;n=t,za(e=this._lView).push(n),e[_t].firstTemplatePass&&Ka(e).push(e[Ot].length-1,null)},t.prototype.markForCheck=function(){va(this._lView)},t.prototype.detach=function(){this._lView[Ct]&=-17},t.prototype.reattach=function(){this._lView[Ct]|=16},t.prototype.detectChanges=function(){ba(this._lView,this.context)},t.prototype.checkNoChanges=function(){!function(t){hn(!0);try{ma(t)}finally{hn(!1)}}(this.context)},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){this._appRef=null},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype._lookUpContext=function(){return this._context=this._lView[Et][this._componentIndex]},t}(),fs=function(t){function e(e){var n=t.call(this,e,null,-1)||this;return n._view=e,n}return Object(r.__extends)(e,t),e.prototype.detectChanges=function(){wa(this._view)},e.prototype.checkNoChanges=function(){!function(t){hn(!0);try{wa(t)}finally{hn(!1)}}(this._view)},Object.defineProperty(e.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),e}(hs);function ds(t,e,n){return es||(es=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(t)),new es(ne(e,n))}function ps(t,e,n,i){if(ns||(ns=function(t){function e(e,n,r,i,o,a){var u=t.call(this)||this;return u._declarationParentView=e,u.elementRef=n,u._tView=r,u._renderer=i,u._queries=o,u._injectorIndex=a,u}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t,e,n,r,i){var o=function(t,e,n,r,i,o){var a=on(),u=en();an(!0),nn(null);var s=so(n,t,e,4);return s[jt]=n,i&&(s[It]=i.createView()),co(-1,s),t.firstTemplatePass&&(t.node.injectorIndex=o),an(a),nn(u),s}(this._tView,t,this._declarationParentView,0,this._queries,this._injectorIndex);e&&Fr(o,e,r,i,n.index),fo(o,this._tView,t);var a=new hs(o,t,-1);return a._tViewNode=o[Dt],a},e}(t)),0===n.type){var o=i[n.index];return new ns(i,ds(e,n,i),n.tViews,$e()[Pt],o[It],n.injectorIndex)}return null}function vs(t,e,n){if(ae(t)){var r=t.directiveStart,i=ie(t.index,e);return new hs(i,n,r)}if(3===t.type){var o=we(e);return new hs(o,o[kt],-1)}return null}var gs=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return ms(t)},t}(),ys=function(t){return ds(t,en(),$e())},ms=cu,bs=function(){return function(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}}(),ws=function(){return function(){}}(),_s=function(){return function(){}}(),Cs=function(){return function(){}}(),Es=function(){return function(){}}(),Ss=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Is=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Ds()},t}(),Ts=function(){return function(t){var e=$e()[Pt];if(Ir(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}()},Ds=cu,As=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Os=function(){return function(){}}(),ks=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),Ns=new ks("7.2.14"),xs=function(t){function e(e){var n=t.call(this)||this;return n.ngModule=e,n}return Object(r.__extends)(e,t),e.prototype.resolveComponentFactory=function(t){var e=yt(t);return new Ls(e,this.ngModule)},e}(as);function Ps(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Rs=new I("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return eu(Re(Ms))}}),Ms=new I("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return me}}),Fs={},Ls=function(t){function e(e,n){var r=t.call(this)||this;return r.componentDef=e,r.ngModule=n,r.componentType=e.type,r.selector=e.selectors[0][0],r.ngContentSelectors=[],r}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return Ps(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return Ps(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){var i=void 0===n,o=(r=r||this.ngModule)?function(t,e){return{get:function(n,r){var i=t.get(n,Fs);return i!==Fs||r===Fs?i:e.get(n,r)}}}(t,r.injector):t,a=o.get(Es,Tr),u=o.get(Os,null),s=i?Io(this.selector,a.createRenderer(null,this.componentDef)):ko(a,n),l=this.componentDef.onPush?136:132,c=i?eu():o.get(Rs),h=a.createRenderer(s,this.componentDef);n&&s&&(Ir(h)?h.setAttribute(s,"ng-version",Ns.full):s.setAttribute("ng-version",Ns.full));var f,d,p=so(null,Ao(-1,null,1,0,null,null,null),c,l,a,h,u,o),v=mn(p,null);try{a.begin&&a.begin();var g=$a(s,this.componentDef,p,a,h);if(d=re(0,p),e)for(var y=0,m=p[_t],b=d.projection=[],w=0;w<e.length;w++){for(var _=e[w],C=null,E=null,S=0;S<_.length;S++){m.firstTemplatePass&&(m.expandoStartIndex++,m.blueprint.splice(++y+Vt,0,null),m.data.splice(y+Vt,0,null),p.splice(y+Vt,0,null));var I=lo(y,3,_[S],null,null);E?E.next=I:C=I,E=I}b.push(C)}f=tu(g,this.componentDef,p,c,[nu]),pa(p,Vt,g),uo(p)}finally{wn(v),a.end&&a.end()}var T=new js(this.componentType,f,ds(gs,d,p),p,d);return i&&(T.hostView._tViewNode.child=d),T},e}($u),js=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.location=r,a._rootLView=i,a._tNode=o,a.destroyCbs=[],a.instance=n,a.hostView=a.changeDetectorRef=new fs(i),a.hostView._tViewNode=co(-1,i),a.componentType=e,a}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"injector",{get:function(){return new jn(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null,this.hostView.destroy()},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(Zu),Vs=!0,Us=!1;function Bs(){return Us=!0,Vs}function qs(){if(Us)throw new Error("Cannot enable prod mode after platform setup.");Vs=!1}var Hs=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),zs=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Ks=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gs(t){return(t=String(t)).match(zs)||t.match(Ks)?t:(Bs()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Qs(t){return(t=String(t)).split(",").map(function(t){return Gs(t.trim())}).join(", ")}function Ws(t){var e,n,i={};try{for(var o=Object(r.__values)(t.split(",")),a=o.next();!a.done;a=o.next())i[a.value]=!0}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function Ys(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var a=Object(r.__values)(n),u=a.next();!u.done;u=a.next()){var s=u.value;for(var l in s)s.hasOwnProperty(l)&&(o[l]=!0)}}catch(c){t={error:c}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o}var Js,Xs=Ws("area,br,col,hr,img,wbr"),Zs=Ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$s=Ws("rp,rt"),tl=Ys($s,Zs),el=Ys(Xs,Ys(Zs,Ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ys($s,Ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tl),nl=Ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rl=Ws("srcset"),il=Ys(nl,rl,Ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),ol=Ws("script,style,template"),al=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(!el.hasOwnProperty(e))return this.sanitizedSomething=!0,!ol.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(il.hasOwnProperty(a)){var u=i.value;nl[a]&&(u=Gs(u)),rl[a]&&(u=Qs(u)),this.buf.push(" ",o,'="',ll(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();el.hasOwnProperty(e)&&!Xs.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(ll(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),ul=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sl=/([^\#-~ |!])/g;function ll(t){return t.replace(/&/g,"&amp;").replace(ul,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(sl,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cl(t,e){var n=null;try{Js=Js||new Hs(t);var r=e?String(e):"";n=Js.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Js.getInertBodyElement(r)}while(r!==o);var a=new al,u=a.sanitizeChildren(hl(n)||n);return Bs()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),u}finally{if(n)for(var s=hl(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}function hl(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fl={marker:"element"},dl={marker:"comment"},pl="\ufffd",vl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,gl=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,yl=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ml=/\ufffd(\d+):?\d*\ufffd/gi,bl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,wl=/\[(\ufffd.+?\ufffd?)\]/g,_l=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Cl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g;function El(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var u=t.substring(n,a);vl.test(u)?i.push(Sl(u)):u&&i.push(u),n=a+1}}else{if(0==r.length){var s=t.substring(n,a);i.push(s),n=a+1}r.push("{")}}var l=t.substring(n);return""!=l&&i.push(l),i}function Sl(t){for(var e=[],n=[],r=1,i=0,o=El(t=t.replace(vl,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var u=o[a++].trim();1===r&&(u=u.replace(/\s*(?:=)?(\w+)\s*/,"$1")),u.length&&e.push(u);var s=El(o[a++]);s.length&&n.push(s)}return l=e.indexOf("other"),c='Missing key "other" in ICU statement.',l<=-1&&function(t){throw new Error("ASSERTION ERROR: "+t)}(c),{type:r,mainBinding:i,cases:e,values:n};var l,c}function Il(t){for(var e,n,r="",i=0,o=!1;null!==(e=gl.exec(t));)o?e[0]===pl+"/*"+n+pl&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+t.substr(i)}function Tl(t,e,n,r){void 0===r&&(r=null);for(var i=[null,null],o=t.split(ml),a=0,u=0;u<o.length;u++){var s=o[u];if(1&u){var l=parseInt(s,10);i.push(-1-l),a|=kl(l)}else""!==s&&i.push(s)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=a,i[1]=i.length-2,i}function Dl(t,e){var n;void 0===e&&(e=0),e|=kl(t.mainBinding);for(var r=0;r<t.values.length;r++)for(var i=t.values[r],o=0;o<i.length;o++){var a=i[o];if("string"==typeof a)for(;n=ml.exec(a);)e|=kl(parseInt(n[1],10));else e=Dl(a,e)}return e}var Al=[],Ol=-1;function kl(t){return 1<<Math.min(t,31)}var Nl=[];function xl(t,e,n){var r=$e()[_t];Al[++Ol]=t,r.firstTemplatePass&&null===r.data[t+Vt]&&function(t,e,n,r){var i=$e(),o=t.blueprint.length-Vt,a=en(),u=on()?en():a&&a.parent,s=u&&u!==i[Dt]?u.index-Vt:e,l=0;Nl[l]=s;var c=[];e>0&&a!==u&&c.push(a.index<<3|0);for(var h=[],f=[],d=function(t,e){if("number"!=typeof e)return Il(t);var n=t.indexOf(":"+e+pl)+2+e.toString().length,r=t.search(new RegExp(pl+"\\/\\*\\d+:"+e+pl));return Il(t.substring(n,r))}(n,r).split(yl),p=0;p<d.length;p++){var v=d[p];if(1&p)if("/"===v.charAt(0)){if("#"===v.charAt(1)){var g=parseInt(v.substr(2),10);s=Nl[--l],c.push(g<<3|5)}}else g=parseInt(v.substr(1),10),c.push(g<<3|0,s<<17|1),"#"===v.charAt(0)&&(Nl[++l]=s=g);else for(var y=v.split(bl),m=0;m<y.length;m++)if(v=y[m],1&m){ho(i);var b=t.blueprint.length-1-Vt;c.push(dl,"",s<<17|1);var w=Sl(v.substr(1,v.length-2)),_=Dl(w);Gl(f,w,b,b);var C=f.length-1;h.push(kl(w.mainBinding),3,-1-w.mainBinding,b<<2|2,C,_,2,b<<2|3,C)}else if(""!==v){var E=v.match(ml);ho(i),c.push(E?"":v,s<<17|1),E&&be(Tl(v,t.blueprint.length-1-Vt),h)}}t.data[e+Vt]={vars:t.blueprint.length-Vt-o,expandoStartIndex:o,create:c,update:h,icus:f.length?f:null}}(r,t,e,n)}function Pl(t,e,n){var r=$e();n||(n=e),n===e&&t!==e.child?(t.next=e.child,e.child=t):n!==e&&t!==n.next?(t.next=n.next,n.next=t):t.next=null,e!==r[Dt]&&(t.parent=e),Qr(ne(t,r),t,r);var i=r[t.index];return 0!==t.type&&se(i)&&Qr(i[qt],t,r),t}function Rl(t,e){var n={},r=t.replace(wl,function(t,e){if(n[e]||(n[e]=e.split("|")),!n[e].length)throw new Error("i18n postprocess: unmatched placeholder - "+e);return n[e].shift()});if(Object.keys(n).some(function(t){return!!n[t].length}))throw new Error("i18n postprocess: unmatched values - "+JSON.stringify(n));return Object.keys(e).length?r=(r=r.replace(_l,function(t,n,r,i,o,a){return e.hasOwnProperty(r)?""+n+e[r]+a:t})).replace(Cl,function(t,n){if(e.hasOwnProperty(n)){var r=e[n];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - "+t+" with key: "+n);return r.shift()}return t}):r}function Ml(){!function(t){for(var e=$e(),n=Al[Ol--],r=t.data[n+Vt],i=en(),o=Fl(n,r.create,r.expandoStartIndex,e),a=n+1;a<=i.index-Vt;a++)-1===o.indexOf(a)&&Ll(a,e)}($e()[_t])}function Fl(t,e,n,r){for(var i=$e()[Pt],o=null,a=null,u=[],s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)a=o,o=lo(n++,3,Rr(l,i),null,null),an(!1);else if("number"==typeof l)switch(7&l){case 1:var c=l>>>17,h=void 0;a=Pl(o,h=c===t?r[Dt]:re(c,r),a),h.next=null;break;case 0:var f=l>>>3;u.push(f),a=o,(o=re(f,r))&&(nn(o),3===o.type&&an(!0));break;case 5:a=o=re(l>>>3,r),nn(o),an(!1);break;case 4:Po(l>>>3,e[++s],e[++s]);break;default:throw new Error('Unable to determine the type of mutate operation for "'+l+'"')}else switch(l){case dl:var d=e[++s],p=i.createComment(d);a=o,o=lo(n++,5,p,null,null),zn(p,r),o.activeCaseIndex=null,an(!1);break;case fl:var v=e[++s];a=o,o=lo(n++,3,i.createElement(v),v,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'+l+'"')}}return an(!1),u}function Ll(t,e){var n=re(t,e);Jr(n,ee(t,e)||null,e),n.detached=!0;var r=La(t);if(se(r)){var i=r;0!==n.type&&Jr(n,i[qt]||null,e),i[Ht]=null}}function jl(t,e,n){xl(t,e,n),Ml()}function Vl(t,e){var n=$e()[_t];n.firstTemplatePass&&null===n.data[t+Vt]&&function(t,e,n){for(var r=en().index-Vt,i=[],o=0;o<n.length;o+=2)for(var a=n[o],u=n[o+1].split(bl),s=0;s<u.length;s++){var l=u[s];1&s||""!==l&&(l.match(ml)?be(Tl(l,r,a),i):Po(r,a,l))}t.data[e+Vt]=i}(n,t,e)}var Ul=0,Bl=0;function ql(t){t!==gr&&(Ul|=1<<Bl),Bl++}function Hl(t){if(Bl){var e=$e(),n=e[_t].data[t+Vt],r=void 0,i=null;Array.isArray(n)?r=n:(r=n.update,i=n.icus),function t(e,n,r,i,o,a){void 0===a&&(a=!1);for(var u=!1,s=0;s<e.length;s++){var l=e[s],c=e[++s];if(a||l&i)for(var h="",f=s+1;f<=s+c;f++){var d=e[f];if("string"==typeof d)h+=d;else if("number"==typeof d)if(d<0)h+=Zt(o[r-d]);else{var p=d>>>2,v=void 0,g=void 0;switch(3&d){case 1:Po(p,e[++f],h,e[++f]);break;case 0:Wo(p,h);break;case 2:if(v=n[e[++f]],null!==(g=re(p,o)).activeCaseIndex)for(var y=v.remove[g.activeCaseIndex],m=0;m<y.length;m++){var b=y[m];switch(7&b){case 3:Ll(b>>>3,o);break;case 6:var w=re(y[m+1]>>>3,o).activeCaseIndex;null!==w&&be(n[b>>>3].remove[w],y)}}var _=Kl(v,h);g.activeCaseIndex=-1!==_?_:null,Fl(-1,v.create[_],v.expandoStartIndex,o),u=!0;break;case 3:v=n[e[++f]],g=re(p,o),t(v.update[g.activeCaseIndex],n,r,i,o,u)}}}s+=c}}(r,i,e[At]-Bl-1,Ul,e),Ul=0,Bl=0}}var zl=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});function Kl(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,n){switch(function(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),u=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?zl.One:zl.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?zl.One:zl.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?zl.One:zl.Other;case"ar":return 0===n?zl.Zero:1===n?zl.One:2===n?zl.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?zl.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?zl.Many:zl.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?zl.One:zl.Other;case"be":return n%10==1&&n%100!=11?zl.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?zl.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?zl.Many:zl.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?zl.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?zl.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?zl.Few:0!==n&&n%1e6==0?zl.Many:zl.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||a%10==1&&a%100!=11?zl.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?zl.Few:zl.Other;case"cs":case"sk":return 1===i&&0===o?zl.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?zl.Few:0!==o?zl.Many:zl.Other;case"cy":return 0===n?zl.Zero:1===n?zl.One:2===n?zl.Two:3===n?zl.Few:6===n?zl.Many:zl.Other;case"da":return 1===n||0!==u&&(0===i||1===i)?zl.One:zl.Other;case"dsb":case"hsb":return 0===o&&i%100==1||a%100==1?zl.One:0===o&&i%100==2||a%100==2?zl.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?zl.Few:zl.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?zl.One:zl.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&a%10!=4&&a%10!=6&&a%10!=9?zl.One:zl.Other;case"ga":return 1===n?zl.One:2===n?zl.Two:n===Math.floor(n)&&n>=3&&n<=6?zl.Few:n===Math.floor(n)&&n>=7&&n<=10?zl.Many:zl.Other;case"gd":return 1===n||11===n?zl.One:2===n||12===n?zl.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?zl.Few:zl.Other;case"gv":return 0===o&&i%10==1?zl.One:0===o&&i%10==2?zl.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?zl.Many:zl.Other:zl.Few;case"he":return 1===i&&0===o?zl.One:2===i&&0===o?zl.Two:0!==o||n>=0&&n<=10||n%10!=0?zl.Other:zl.Many;case"is":return 0===u&&i%10==1&&i%100!=11||0!==u?zl.One:zl.Other;case"ksh":return 0===n?zl.Zero:1===n?zl.One:zl.Other;case"kw":case"naq":case"se":case"smn":return 1===n?zl.One:2===n?zl.Two:zl.Other;case"lag":return 0===n?zl.Zero:0!==i&&1!==i||0===n?zl.Other:zl.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?zl.Few:0!==a?zl.Many:zl.Other:zl.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?zl.Zero:n%10==1&&n%100!=11||2===o&&a%10==1&&a%100!=11||2!==o&&a%10==1?zl.One:zl.Other;case"mk":return 0===o&&i%10==1||a%10==1?zl.One:zl.Other;case"mt":return 1===n?zl.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?zl.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?zl.Many:zl.Other;case"pl":return 1===i&&0===o?zl.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?zl.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?zl.Many:zl.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?zl.One:zl.Other;case"ro":return 1===i&&0===o?zl.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?zl.Few:zl.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?zl.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?zl.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?zl.Many:zl.Other;case"shi":return 0===i||1===n?zl.One:n===Math.floor(n)&&n>=2&&n<=10?zl.Few:zl.Other;case"si":return 0===n||1===n||0===i&&1===a?zl.One:zl.Other;case"sl":return 0===o&&i%100==1?zl.One:0===o&&i%100==2?zl.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?zl.Few:zl.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?zl.One:zl.Other;default:return zl.Other}}("en-US",e)){case zl.Zero:return"zero";case zl.One:return"one";case zl.Two:return"two";case zl.Few:return"few";case zl.Many:return"many";default:return"other"}}();-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return n}function Gl(t,e,n,i){for(var o=[],a=[],u=[],s=[],l=[],c=0;c<e.values.length;c++){for(var h=e.values[c],f=[],d=0;d<h.length;d++){var p=h[d];if("string"!=typeof p){var v=f.push(p)-1;h[d]="\x3c!--\ufffd"+v+"\ufffd--\x3e"}}var g=Ql(h.join(""),n,f,t,i);o.push(g.create),a.push(g.remove),u.push(g.update),s.push(g.vars),l.push(g.childIcus)}t.push({type:e.type,vars:s,expandoStartIndex:i+1,childIcus:l,cases:e.cases,create:o,remove:a,update:u});var y=$e(),m=Math.max.apply(Math,Object(r.__spread)(s));for(c=0;c<m;c++)ho(y)}function Ql(t,e,n,i,o){var a=new Hs(document).getInertBodyElement(t);if(!a)throw new Error("Unable to generate inert body element");var u={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,i,o,a,u){if(e){for(var s=[];e;){var l=e.nextSibling,c=u+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:var h=e,f=h.tagName.toLowerCase();if(el.hasOwnProperty(f)){n.create.push(fl,f,i<<17|1);for(var d=h.attributes,p=0;p<d.length;p++){var v=d.item(p),g=v.name.toLowerCase();v.value.match(ml)?il.hasOwnProperty(g)&&be(nl[g]?Tl(v.value,c,v.name,Gs):rl[g]?Tl(v.value,c,v.name,Qs):Tl(v.value,c,v.name),n.update):n.create.push(c<<3|4,v.name,v.value)}t(e.firstChild,n,c,o,a,u),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var y=e.textContent||"",m=y.match(ml);n.create.push(m?"":y,i<<17|1),n.remove.push(c<<3|3),m&&be(Tl(y,c),n.update);break;case Node.COMMENT_NODE:var b=Wl.exec(e.textContent||"");if(b){var w=parseInt(b[1],10);n.create.push(dl,"",i<<17|1),s.push([_=o[w],c])}else n.vars--;break;default:n.vars--}e=l}for(p=0;p<s.length;p++){var _,C=s[p][1];Gl(a,_=s[p][0],C,u+n.vars);var E=a.length-1;n.vars+=Math.max.apply(Math,Object(r.__spread)(a[E].vars)),n.childIcus.push(E);var S=Dl(_);n.update.push(kl(_.mainBinding),3,-1-_.mainBinding,C<<2|2,E,S,2,C<<2|3,E),n.remove.push(E<<3|6,C<<3|3)}}}((hl(a)||a).firstChild,u,e,n,i,o),u}var Wl=/\ufffd(\d+)\ufffd/,Yl={provide:as,useClass:xs,deps:[ls]},Jl=function(t){function e(e,n){var r=t.call(this)||this;r._parent=n,r._bootstrapComponents=[],r.injector=r,r.destroyCbs=[];var i=wt(e);return r._bootstrapComponents=i.bootstrap,r._r3Injector=Lu(e,n,[{provide:ls,useValue:r},Yl]),r.instance=r.get(e),r}return Object(r.__extends)(e,t),e.prototype.get=function(t,e,n){return void 0===e&&(e=gu.THROW_IF_NOT_FOUND),void 0===n&&(n=Oe.Default),t===gu||t===ls||t===pu?this:this._r3Injector.get(t,e,n)},Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(as)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(ls),Xl=function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}return Object(r.__extends)(e,t),e.prototype.create=function(t){return new Jl(this.moduleType,t)},e}(cs);function Zl(t,e,n,i){var o,a=t;null!==e&&(void 0!==a.decorators?(o=a.decorators).push.apply(o,Object(r.__spread)(e)):a.decorators=e),null!==n&&(a.ctorParameters=n),null!==i&&(a.propDecorators=void 0!==a.propDecorators?Object(r.__assign)({},a.propDecorators,i):i)}function $l(t,e,n){var r=gn()+t,i=$e();return un()?yr(i,r,n?e.call(n):e()):mr(i,r)}function tc(t,e,n,r){var i=$e(),o=gn()+t;return br(i,o,n)?yr(i,o+1,r?e.call(r,n):e(n)):mr(i,o+1)}function ec(t,e,n,r,i){var o=gn()+t,a=$e();return wr(a,o,n,r)?yr(a,o+2,i?e.call(i,n,r):e(n,r)):mr(a,o+2)}function nc(t,e,n,r,i,o){var a=gn()+t,u=$e();return _r(u,a,n,r,i)?yr(u,a+3,o?e.call(o,n,r,i):e(n,r,i)):mr(u,a+3)}function rc(t,e,n,r,i,o,a){var u=gn()+t,s=$e();return Cr(s,u,n,r,i,o)?yr(s,u+4,a?e.call(a,n,r,i,o):e(n,r,i,o)):mr(s,u+4)}function ic(t,e,n,r,i,o,a,u){var s=gn()+t,l=$e(),c=Cr(l,s,n,r,i,o);return br(l,s+4,a)||c?yr(l,s+5,u?e.call(u,n,r,i,o,a):e(n,r,i,o,a)):mr(l,s+5)}function oc(t,e,n,r,i,o,a,u,s){var l=gn()+t,c=$e(),h=Cr(c,l,n,r,i,o);return wr(c,l+4,a,u)||h?yr(c,l+6,s?e.call(s,n,r,i,o,a,u):e(n,r,i,o,a,u)):mr(c,l+6)}function ac(t,e,n,r,i,o,a,u,s,l){var c=gn()+t,h=$e(),f=Cr(h,c,n,r,i,o);return _r(h,c+4,a,u,s)||f?yr(h,c+7,l?e.call(l,n,r,i,o,a,u,s):e(n,r,i,o,a,u,s)):mr(h,c+7)}function uc(t,e,n,r,i,o,a,u,s,l,c){var h=gn()+t,f=$e(),d=Cr(f,h,n,r,i,o);return Cr(f,h+4,a,u,s,l)||d?yr(f,h+8,c?e.call(c,n,r,i,o,a,u,s,l):e(n,r,i,o,a,u,s,l)):mr(f,h+8)}function sc(t,e,n,r){for(var i=gn()+t,o=!1,a=$e(),u=0;u<n.length;u++)br(a,i++,n[u])&&(o=!0);return o?yr(a,i,e.apply(r,n)):mr(a,i)}function lc(t,e){var n,r=$e()[_t],i=t+Vt;r.firstTemplatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '"+t+"' could not be found!")}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.pipeDestroyHooks||(r.pipeDestroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory(null);return Ra(t,o),o}function cc(t,e,n){var r=La(t);return gc(vc(t)?tc(e,r.transform,n,r):r.transform(n))}function hc(t,e,n,r){var i=La(t);return gc(vc(t)?ec(e,i.transform,n,r,i):i.transform(n,r))}function fc(t,e,n,r,i){var o=La(t);return gc(vc(t)?nc(e,o.transform,n,r,i,o):o.transform(n,r,i))}function dc(t,e,n,r,i,o){var a=La(t);return gc(vc(t)?rc(e,a.transform,n,r,i,o,a):a.transform(n,r,i,o))}function pc(t,e,n){var r=La(t);return gc(vc(t)?sc(e,r.transform,n,r):r.transform.apply(r,n))}function vc(t){return $e()[_t].data[t+Vt].pure}function gc(t){return hr.isWrapped(t)&&(t=hr.unwrap(t),$e()[gn()]=gr),t}var yc=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,a=function(t){return null},u=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(u=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(u=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=t.prototype.subscribe.call(this,o,a,u);return e instanceof i.a&&e.add(s),s},e}(o.a),mc=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return wc(t,gs)},t}(),bc=function(t,e){return ps(t,e,en(),$e())},wc=cu,_c=function(){function t(t,e,n){this.parent=t,this.shallow=e,this.deep=n}return t.prototype.track=function(t,e,n,r){n?this.deep=Pc(this.deep,t,e,null!=r?r:null):this.shallow=Pc(this.shallow,t,e,null!=r?r:null)},t.prototype.clone=function(){return new t(this,null,this.deep)},t.prototype.container=function(){var e=Cc(this.shallow),n=Cc(this.deep);return e||n?new t(this,e,n):null},t.prototype.createView=function(){var e=Ec(this.shallow),n=Ec(this.deep);return e||n?new t(this,e,n):null},t.prototype.insertView=function(t){Sc(t,this.shallow),Sc(t,this.deep)},t.prototype.addNode=function(t){return kc(this.deep,t),oe(t)?(kc(this.shallow,t),t.parent&&oe(t.parent)&&kc(this.parent.shallow,t),this.parent):(function(t){return null===t.parent||oe(t.parent)}(t)&&kc(this.shallow,t),this)},t.prototype.removeView=function(){Ic(this.shallow),Ic(this.deep)},t}();function Cc(t){for(var e=null;t;){var n=[];t.values.push(n),e={next:e,list:t.list,predicate:t.predicate,values:n,containerValues:null},t=t.next}return e}function Ec(t){for(var e=null;t;)e={next:e,list:t.list,predicate:t.predicate,values:[],containerValues:t.values},t=t.next;return e}function Sc(t,e){for(;e;)e.containerValues.splice(t,0,e.values),e=e.next}function Ic(t){for(;t;){var e=t.containerValues,n=e.indexOf(t.values);e.splice(n,1)[0].length&&t.list.setDirty(),t=t.next}}function Tc(t,e){var n=t.localNames;if(n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Dc(t,e,n){var r=t[w];if("function"==typeof r)return r();var i=Rn(e,n,t,!1,!1);return null!==i?Mn(n[_t].data,n,i,e):null}function Ac(t,e,n,r){var i=t[w]();return r?i?Dc(r,e,n):null:i}function Oc(t,e,n,r){return n?Dc(n,t,e):r>-1?Mn(e[_t].data,e,r,t):function(t,e){return 3===t.type||4===t.type?ds(gs,t,e):0===t.type?ps(mc,gs,t,e):null}(t,e)}function kc(t,e){for(var n=$e();t;){var r=t.predicate,i=r.type;if(i){var o=null;i===mc?o=Ac(i,e,n,r.read):null!==(s=Rn(e,n,i,!1,!1))&&(o=Oc(e,n,r.read,s)),null!==o&&Nc(t,o)}else for(var a=r.selector,u=0;u<a.length;u++){var s;null!==(s=Tc(e,a[u]))&&null!==(o=Oc(e,n,r.read,s))&&Nc(t,o)}t=t.next}}function Nc(t,e){t.values.push(e),t.list.setDirty()}function xc(t,e){var n=Array.isArray(t);return{type:n?null:t,selector:n?t:null,read:e}}function Pc(t,e,n,r){return{next:t,list:e,predicate:xc(n,r),values:e._valuesTree,containerValues:null}}var Rc=function(){function t(){this.dirty=!0,this.changes=new yc,this._values=[],this._valuesTree=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var t=this._values;return t.length?t[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var t=this._values;return t.length?t[t.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._values.map(t)},t.prototype.filter=function(t){return this._values.filter(t)},t.prototype.find=function(t){return this._values.find(t)},t.prototype.reduce=function(t,e){return this._values.reduce(t,e)},t.prototype.forEach=function(t){this._values.forEach(t)},t.prototype.some=function(t){return this._values.some(t)},t.prototype.toArray=function(){return this._values.slice(0)},t.prototype[W()]=function(){return this._values[W()]()},t.prototype.toString=function(){return this._values.toString()},t.prototype.reset=function(t){this._values=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];Array.isArray(r)?r.length>0?(t=r.concat(t.slice(n+1)),n=0):n++:(e.push(r),n++)}return e}(t),this.dirty=!1},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}();function Mc(t,e,n,r){var i,o,a,u=new Rc;return(i=_c,o=$e(),a=o[It],Ge&&Ge!==o[Dt]&&!oe(Ge)&&(a&&(a=o[It]=a.clone()),Ge.flags|=4),a||(o[It]=new i(null,null,null))).track(u,e,n,r),function(t,e,n){var r=za(t);r.push(e),t[_t].firstTemplatePass&&Ka(t).push(n,r.length-1)}($e(),u,u.destroy),null!=t&&Ra(t,u),u}function Fc(t){return!!t.dirty&&(t.reset(t._valuesTree),t.notifyOnChanges(),!0)}function Lc(t,e){return ps(mc,gs,t,e)}var jc="__SANITIZER_TRUSTED_BRAND__";function Vc(t,e){return t instanceof String&&t[jc]===e}function Uc(t){return Kc(t,"Html")}function Bc(t){return Kc(t,"Style")}function qc(t){return Kc(t,"Script")}function Hc(t){return Kc(t,"Url")}function zc(t){return Kc(t,"ResourceUrl")}function Kc(t,e){var n=new String(t);return n[jc]=e,n}var Gc=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Qc=/^url\(([^)]+)\)$/;function Wc(t){if(!(t=String(t).trim()))return"";var e=t.match(Qc);return e&&Gs(e[1])===e[1]||t.match(Gc)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Bs()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function Yc(t){var e=eh();return e?e.sanitize(As.HTML,t)||"":Vc(t,"Html")?t.toString():cl(document,Zt(t))}function Jc(t){var e=eh();return e?e.sanitize(As.STYLE,t)||"":Vc(t,"Style")?t.toString():Wc(Zt(t))}function Xc(t){var e=eh();return e?e.sanitize(As.URL,t)||"":Vc(t,"Url")?t.toString():Gs(Zt(t))}function Zc(t){var e=eh();if(e)return e.sanitize(As.RESOURCE_URL,t)||"";if(Vc(t,"ResourceUrl"))return t.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function $c(t){var e=eh();if(e)return e.sanitize(As.SCRIPT,t)||"";if(Vc(t,"Script"))return t.toString();throw new Error("unsafe value used in a script context")}var th=function(t,e){return void 0===e?"background-image"===t||"background"===t||"border-image"===t||"filter"===t||"list-style"===t||"list-style-image"===t:Jc(e)};function eh(){var t=$e();return t&&t[Rt]}var nh={"\u0275defineBase":pt,"\u0275defineComponent":lt,"\u0275defineDirective":vt,defineInjectable:_,defineInjector:C,"\u0275defineNgModule":ft,"\u0275definePipe":gt,"\u0275directiveInject":ja,"\u0275getFactoryOf":Vn,"\u0275getInheritedFactory":Un,inject:Re,"\u0275injectAttribute":Va,"\u0275templateRefExtractor":Lc,"\u0275NgOnChangesFeature":su,"\u0275ProvidersFeature":Xu,"\u0275InheritDefinitionFeature":ou,"\u0275elementAttribute":Po,"\u0275bind":Ea,"\u0275container":oa,"\u0275nextContext":po,"\u0275containerRefreshStart":ua,"\u0275containerRefreshEnd":sa,"\u0275loadQueryList":Fa,"\u0275namespaceHTML":wo,"\u0275namespaceMathML":bo,"\u0275namespaceSVG":mo,"\u0275enableBindings":Xe,"\u0275disableBindings":Ze,"\u0275allocHostVars":Sa,"\u0275elementStart":So,"\u0275elementEnd":xo,"\u0275element":_o,"\u0275elementContainerStart":Co,"\u0275elementContainerEnd":Eo,"\u0275pureFunction0":$l,"\u0275pureFunction1":tc,"\u0275pureFunction2":ec,"\u0275pureFunction3":nc,"\u0275pureFunction4":rc,"\u0275pureFunction5":ic,"\u0275pureFunction6":oc,"\u0275pureFunction7":ac,"\u0275pureFunction8":uc,"\u0275pureFunctionV":sc,"\u0275getCurrentView":Ha,"\u0275restoreView":tn,"\u0275interpolation1":Ta,"\u0275interpolation2":Da,"\u0275interpolation3":Aa,"\u0275interpolation4":Oa,"\u0275interpolation5":ka,"\u0275interpolation6":Na,"\u0275interpolation7":xa,"\u0275interpolation8":Pa,"\u0275interpolationV":Ia,"\u0275elementClassProp":Ko,"\u0275listener":No,"\u0275load":La,"\u0275projection":da,"\u0275elementProperty":Ro,"\u0275componentHostSyntheticProperty":Mo,"\u0275pipeBind1":cc,"\u0275pipeBind2":hc,"\u0275pipeBind3":fc,"\u0275pipeBind4":dc,"\u0275pipeBindV":pc,"\u0275projectionDef":ha,"\u0275pipe":lc,"\u0275query":Mc,"\u0275queryRefresh":Fc,"\u0275registerContentQuery":Ua,"\u0275reference":Ma,"\u0275elementStyling":Bo,"\u0275elementHostAttrs":qo,"\u0275elementStylingMap":Go,"\u0275elementStyleProp":zo,"\u0275elementStylingApply":Ho,"\u0275template":ia,"\u0275text":Qo,"\u0275textBinding":Wo,"\u0275embeddedViewStart":la,"\u0275embeddedViewEnd":ca,"\u0275i18n":jl,"\u0275i18nAttributes":Vl,"\u0275i18nExp":ql,"\u0275i18nStart":xl,"\u0275i18nEnd":Ml,"\u0275i18nApply":Hl,"\u0275i18nPostprocess":Rl,"\u0275sanitizeHtml":Yc,"\u0275sanitizeStyle":Jc,"\u0275defaultStyleSanitizer":th,"\u0275sanitizeResourceUrl":Zc,"\u0275sanitizeScript":$c,"\u0275sanitizeUrl":Xc},rh=function(){return function(){}}(),ih=new Map;function oh(t,e){var n=ih.get(t);ah(t,n&&n.moduleType),ih.set(t,e)}function ah(t,e){if(e)throw new Error("Duplicate module registered for "+t+" - "+X(e)+" vs "+X(e.name))}function uh(t){var e=ih.get(t);if(!e)throw ch(t);return e}function sh(t){var e=ih.get(t);if(!e)throw ch(t);return new Xl(e)}var lh=uh;function ch(t){return new Error("No module with ID "+t+" loaded")}var hh=Function;function fh(t){return"function"==typeof t}var dh=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,ph=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,vh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,gh=function(){function t(t){this._reflect=t||K.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(r.__spread)([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(dh.exec(n)||ph.exec(n)&&!vh.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var i="function"==typeof r?r():r,o=i.map(function(t){return t&&t.type}),a=i.map(function(t){return t&&yh(t.decorators)});return this._zipTypesAndAnnotations(o,a)}var u=t.hasOwnProperty(D)&&t[D],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||u?this._zipTypesAndAnnotations(s,u):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!fh(t))return[];var e=mh(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?yh(t.decorators):t.hasOwnProperty(T)?t[T]:null},t.prototype.annotations=function(t){if(!fh(t))return[];var e=mh(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=yh(r[t])}),i}return t.hasOwnProperty(A)?t[A]:null},t.prototype.propMetadata=function(t){if(!fh(t))return{};var e=mh(t),n={};if(e!==Object){var i=this.propMetadata(e);Object.keys(i).forEach(function(t){n[t]=i[t]})}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,Object(r.__spread)(n[t])),e.push.apply(e,Object(r.__spread)(o[t])),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof hh&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+X(t)},t.prototype.resourceUri=function(t){return"./"+X(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function yh(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,Object(r.__spread)([void 0],n)))}):[]}function mh(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}var bh=null;function wh(){return bh=bh||new gh}function _h(t){return Ch(wh().parameters(t))}function Ch(t){var e=_e();return t.map(function(t){return function(t,e){var n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)){if(0===e.length)throw new Error("Dependency array must have arguments.");for(var i=0;i<e.length;i++){var o=e[i];if(void 0!==o)if(o instanceof Ie||"Optional"===o.__proto__.ngMetadataName)n.optional=!0;else if(o instanceof De||"SkipSelf"===o.__proto__.ngMetadataName)n.skipSelf=!0;else if(o instanceof Te||"Self"===o.__proto__.ngMetadataName)n.self=!0;else if(o instanceof Ae||"Host"===o.__proto__.ngMetadataName)n.host=!0;else if(o instanceof Se)n.token=o.token;else if(o instanceof R){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else r(o)}}else r(e);return n}(e,t)})}var Eh=[],Sh=[],Ih=!1;function Th(t){return Array.isArray(t)?t.every(Th):!!tt(t)}function Dh(t,e){void 0===e&&(e={}),Ah(t,e),function(t,e){Sh.push({moduleType:t,ngModule:e})}(t,e)}function Ah(t,e){var n,r,i=Ph(e.declarations||Eh),o=null;Object.defineProperty(t,m,{configurable:!0,get:function(){return null===o&&(o=_e().compileNgModule(nh,"ng://"+t.name+"/ngModuleDef.js",{type:t,bootstrap:Ph(e.bootstrap||Eh,tt),declarations:i.map(tt),imports:Ph(e.imports||Eh,tt).map(Rh),exports:Ph(e.exports||Eh,tt).map(Rh),emitInline:!0})),o}}),e.id&&(r=t,ah(n=e.id,ih.get(n)),ih.set(n,r));var a=null;Object.defineProperty(t,g,{get:function(){if(null===a){var n={name:t.name,type:t,deps:_h(t),providers:e.providers||Eh,imports:[(e.imports||Eh).map(tt),(e.exports||Eh).map(tt)]};a=_e().compileInjector(nh,"ng://"+t.name+"/ngInjectorDef.js",n)}return a},configurable:!1})}function Oh(){new Map,new Map,Sh.length=0}function kh(t,e){var n=Ph(e.declarations||Eh),r=xh(t);n.forEach(function(e){e.hasOwnProperty(d)?Nh(yt(e),r):e.hasOwnProperty(p)||e.hasOwnProperty(y)||(e.ngSelectorScope=t)})}function Nh(t,e){t.directiveDefs=function(){return Array.from(e.compilation.directives).map(function(t){return mt(t)||yt(t)}).filter(function(t){return!!t})},t.pipeDefs=function(){return Array.from(e.compilation.pipes).map(function(t){return bt(t)})}}function xh(t){if(!Mh(t))throw new Error(t.name+" does not have an ngModuleDef");var e=wt(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;var n={compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return e.declarations.forEach(function(t){bt(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),e.imports.forEach(function(t){var e=t;if(!Mh(e))throw new Error("Importing "+e.name+" which does not have an ngModuleDef");var r=xh(e);r.exported.directives.forEach(function(t){return n.compilation.directives.add(t)}),r.exported.pipes.forEach(function(t){return n.compilation.pipes.add(t)})}),e.exports.forEach(function(t){var e=t;if(Mh(e)){var r=xh(e);r.exported.directives.forEach(function(t){n.compilation.directives.add(t),n.exported.directives.add(t)}),r.exported.pipes.forEach(function(t){n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else bt(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function Ph(t,e){var n=[];return t.forEach(function(t){Array.isArray(t)?n.push.apply(n,Object(r.__spread)(Ph(t,e))):n.push(e?e(t):t)}),n}function Rh(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function Mh(t){return!!wt(t)}function Fh(t,e){var n=null;!function(t){rt(t)&&nt.add(t)}(e),Object.defineProperty(t,d,{get:function(){var i=_e();if(null===n){if(rt(e)){var o=["Component '"+Zt(t)+"' is not resolved:"];throw e.templateUrl&&o.push(" - templateUrl: "+Zt(e.templateUrl)),e.styleUrls&&e.styleUrls.length&&o.push(" - styleUrls: "+JSON.stringify(e.styleUrls)),o.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(o.join("\n"))}var a=Object(r.__assign)({},Vh(t,e),{template:e.template||"",preserveWhitespaces:e.preserveWhitespaces||!1,styles:e.styles||ut,animations:e.animations,viewQueries:Uh(t,wh().propMetadata(t),qh),directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:e.encapsulation||ot.Emulated,interpolation:e.interpolation,viewProviders:e.viewProviders||null});if(n=i.compileComponent(nh,"ng://"+Zt(t)+"/template.html",a),function(){if(!Ih){Ih=!0;try{for(var t=Sh.length-1;t>=0;t--){var e=Sh[t],n=e.moduleType,r=e.ngModule;r.declarations&&r.declarations.every(Th)&&(Sh.splice(t,1),kh(n,r))}}finally{Ih=!1}}}(),void 0!==t.ngSelectorScope){var u=xh(t.ngSelectorScope);Nh(n,u)}}return n},configurable:!1})}function Lh(t,e){var n=null;Object.defineProperty(t,p,{get:function(){if(null===n){var r=Vh(t,e);n=_e().compileDirective(nh,"ng://"+(t&&t.name)+"/ngDirectiveDef.js",r)}return n},configurable:!1})}function jh(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function Vh(t,e){var n=wh().propMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:e.selector,deps:_h(t),host:e.host||at,propMetadata:n,inputs:e.inputs||ut,outputs:e.outputs||ut,queries:Uh(t,n,Bh),lifecycle:{usesOnChanges:void 0!==t.prototype.ngOnChanges},typeSourceSpan:null,usesInheritance:!jh(t),exportAs:e.exportAs||null,providers:e.providers||null}}function Uh(t,e,n){var r=[],i=function(i){e.hasOwnProperty(i)&&e[i].forEach(function(e){if(n(e)){if(!e.selector)throw new Error("Can't construct a query for the property \""+i+'" of "'+Zt(t)+"\" since the query selector wasn't defined.");r.push(function(t,e){return{propertyName:i,predicate:(n=e.selector,"string"==typeof n?n.split(",").map(function(t){return t.trim()}):tt(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null};var n}(0,e))}})};for(var o in e)i(o);return r}function Bh(t){var e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function qh(t){var e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function Hh(t,e){var n=null;Object.defineProperty(t,y,{get:function(){return null===n&&(n=_e().compilePipe(nh,"ng://"+Zt(t)+"/ngPipeDef.js",{type:t,name:t.name,deps:_h(t),pipeName:e.name,pure:void 0===e.pure||e.pure})),n},configurable:!1})}var zh=O("Directive",function(t){return void 0===t&&(t={}),t},void 0,void 0,function(t,e){return nf(t,e)}),Kh=O("Component",function(t){return void 0===t&&(t={}),Object(r.__assign)({changeDetection:U.Default},t)},zh,void 0,function(t,e){return ef(t,e)}),Gh=O("Pipe",function(t){return Object(r.__assign)({pure:!0},t)},void 0,void 0,function(t,e){return rf(t,e)}),Qh=function(t){return function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=e.constructor;o.hasOwnProperty(b)||function(t){var e=t.constructor,n=e.ngBaseDef,r=e.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(f(r.inputs,n.inputs),f(r.outputs,n.outputs),f(r.declaredInputs,n.declaredInputs))}(e),t(o.ngBaseDef)[n]=r[0]}},Wh=x("Input",function(t){return{bindingPropertyName:t}},void 0,Qh(function(t){return t.inputs||{}})),Yh=x("Output",function(t){return{bindingPropertyName:t}},void 0,Qh(function(t){return t.outputs||{}})),Jh=x("HostBinding",function(t){return{hostPropertyName:t}}),Xh=x("HostListener",function(t,e){return{eventName:t,args:e}}),Zh=Fh,$h=Lh,tf=Hh,ef=cu,nf=cu,rf=cu,of=h({provide:String,useValue:h}),af=[];function uf(t,e){if(!e){var n=(l=new gh).parameters(t);return function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],Fe(n))))}}if(of in e){var i=e;return function(){return i.useValue}}if(e.useExisting){var o=e;return function(){return Re(o.useExisting)}}if(e.useFactory){var a=e;return function(){return a.useFactory.apply(a,Object(r.__spread)(Fe(a.deps||af)))}}if(e.useClass){var u=e,s=e.deps;if(!s){var l=new gh;s=l.parameters(t)}return function(){var t;return new((t=u.useClass).bind.apply(t,Object(r.__spread)([void 0],Fe(s))))}}var c=e.deps;return c||(l=new gh,c=l.parameters(t)),function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],Fe(c))))}}var sf={name:"custom-elements"},lf={name:"no-errors-schema"},cf=O("NgModule",function(t){return t},void 0,void 0,function(t,e){return ff(t,e)}),hf=Dh,ff=function(t,e){var n=e&&e.imports||[];e&&e.exports&&(n=Object(r.__spread)(n,[e.exports])),t.ngInjectorDef=C({factory:uf(t,{useClass:t}),providers:e&&e.providers,imports:n})},df=h({provide:String,useValue:h});function pf(t){return void 0!==t.useClass}function vf(t){return df in t}function gf(t){return void 0!==t.useFactory}function yf(t){return void 0!==t.useExisting}var mf=O("Injectable",void 0,void 0,void 0,function(t,e){return wf(t,e)}),bf=function(t,e){var n=null;t.hasOwnProperty(v)||Object.defineProperty(t,v,{get:function(){if(null===n){var r=e||{providedIn:null},i=pf(r)||gf(r)||vf(r)||yf(r),o={name:t.name,type:t,typeArgumentCount:0,providedIn:r.providedIn,ctorDeps:_h(t),userDeps:void 0};if((pf(r)||gf(r))&&void 0!==r.deps&&(o.userDeps=Ch(r.deps)),i)if(pf(r))o.useClass=r.useClass;else if(vf(r))o.useValue=r.useValue;else if(gf(r))o.useFactory=r.useFactory;else{if(!yf(r))throw new Error("Unreachable state.");o.useExisting=r.useExisting}else o.useClass=t;n=_e().compileInjectable(nh,"ng://"+t.name+"/ngInjectableDef.js",o)}return n}})},wf=function(t,e){e&&void 0!==e.providedIn&&!E(t)&&(t.ngInjectableDef=_({providedIn:e.providedIn,factory:uf(t,e)}))},_f="ngDebugContext",Cf="ngOriginalError",Ef="ngErrorLogger";function Sf(t){return t[_f]}function If(t){return t[Cf]}function Tf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.__spread)(e))}var Df=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Ef]||Tf}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Sf(t)?Sf(t):this._findContext(If(t)):null},t.prototype._findOriginalError=function(t){for(var e=If(t);e&&If(e);)e=If(e);return e},t}();function Af(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return X(t.token)}).join(" -> ")+")":""}function Of(t,e,n,r){var i=[e],o=n(i),a=r?function(t,e){var n=o+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[Cf]=e,r}(0,r):Error(o);return a.addKey=kf,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a[Cf]=r,a}function kf(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function Nf(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push(o&&0!=o.length?o.map(X).join(" "):"?")}return Error("Cannot resolve all parameters for '"+X(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+X(t)+"' is decorated with Injectable.")}var xf=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=X(this.token)}return t.get=function(t){return Pf.get(tt(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return Pf.numberOfKeys},enumerable:!0,configurable:!0}),t}(),Pf=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof xf)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new xf(t,xf.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),Rf=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new gh),Mf=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Ff=[],Lf=function(){return function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}(),jf=function(){return function(t,e){this.factory=t,this.dependencies=e}}();function Vf(t){var e,n;if(t.useClass){var r=tt(t.useClass);e=Rf.factory(r),n=qf(r)}else t.useExisting?(e=function(t){return t},n=[Mf.fromKey(xf.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return Hf(t,e,n)})}return qf(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Ff);return new jf(e,n)}function Uf(t){return new Lf(xf.get(t.provide),[Vf(t)],t.multi||!1)}function Bf(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+i+" "+r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var a;a=r.multiProvider?new Lf(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(function t(e,n){return e.forEach(function(e){if(e instanceof hh)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(Uf),new Map);return Array.from(e.values())}function qf(t){var e=Rf.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw Nf(t,e);return e.map(function(n){return Hf(t,n,e)})}function Hf(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return zf(e instanceof Se?e.token:e,i,null);for(var o=null,a=0;a<e.length;++a){var u=e[a];u instanceof hh?r=u:u instanceof Se?r=u.token:u instanceof Ie?i=!0:u instanceof Te||u instanceof De?o=u:u instanceof I&&(r=u)}if(null!=(r=tt(r)))return zf(r,i,o);throw Nf(t,n)}function zf(t,e,n){return new Mf(xf.get(t),e,n)}var Kf=new Object,Gf=function(){function t(){}return t.resolve=function(t){return Bf(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new Qf(t,e)},t}(),Qf=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Kf}return t.prototype.get=function(t,e){return void 0===e&&(e=du),this._getByKey(xf.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=Gf.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Gf.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Of(this,t.key,function(t){return"Cannot instantiate cyclic dependency!"+Af(t)});return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,i,o,a=this,u=e.factory;try{n=e.dependencies.map(function(t){return a._getByReflectiveDependency(t)})}catch(s){throw s.addKey&&s.addKey(this,t.key),s}try{i=u.apply(void 0,Object(r.__spread)(n))}catch(s){throw Of(this,t.key,function(t){var e=X(t[0].token);return o.message+": Error during instantiation of "+e+"!"+Af(t)+"."},o=s)}return i},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:du)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof Te?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Kf&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Kf},t.prototype._throwOrNull=function(t,e){if(e!==du)return e;throw function(t,e){return Of(t,e,function(t){return"No provider for "+X(t[0].token)+"!"+Af(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==Kf?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof De?this.parent:this;i instanceof t;){var o=i,a=o._getObjByKeyId(e.id);if(a!==Kf)return a;i=o.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=xf.get(gu),t}();function Wf(t){return!!t&&"function"==typeof t.then}function Yf(t){return!!t&&"function"==typeof t.subscribe}var Jf=new I("Application Initializer"),Xf=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Wf(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),Zf=new I("AppId");function $f(){return""+ed()+ed()+ed()}var td={provide:Zf,useFactory:$f,deps:[]};function ed(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var nd=new I("Platform Initializer"),rd=new I("Platform ID"),id=new I("appBootstrapListener"),od=new I("Application Packages Root URL"),ad=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),ud=function(){return function(t,e){this.ngModuleFactory=t,this.componentFactories=e}}();function sd(){throw new Error("Runtime compiler is not loaded")}var ld,cd,hd=function(t){return new Xl(t)},fd=sd,dd=function(t){return Promise.resolve(hd(t))},pd=sd,vd=function(t){return new ud(hd(t),[])},gd=sd,yd=function(t){return Promise.resolve(vd(t))},md=sd,bd=function(){function t(){this.compileModuleSync=fd,this.compileModuleAsync=pd,this.compileModuleAndAllComponentsSync=gd,this.compileModuleAndAllComponentsAsync=md}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),wd=new I("compilerOptions"),_d=function(){return function(){}}();function Cd(){var t=K.wtf;return!(!t||!(ld=t.trace)||(cd=ld.events,0))}function Ed(t,e){return void 0===e&&(e=null),cd.createScope(t,e)}function Sd(t,e){return ld.leaveScope(t,e),e}function Id(t,e){return ld.beginTimeRange(t,e)}function Td(t){ld.endTimeRange(t)}var Dd=Cd();function Ad(t,e){return null}var Od=Dd?Ed:function(t,e){return Ad},kd=Dd?Sd:function(t,e){return e},Nd=Dd?Id:function(t,e){return null},xd=Dd?Td:function(t){return null},Pd=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yc(!1),this.onMicrotaskEmpty=new yc(!1),this.onStable=new yc(!1),this.onError=new yc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return Ld(e),t.invokeTask(r,i,o,a)}finally{jd(e)}},onInvoke:function(t,n,r,i,o,a,u){try{return Ld(e),t.invoke(r,i,o,a,u)}finally{jd(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Fd(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Md,Rd,Rd);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Rd(){}var Md={};function Fd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Ld(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jd(t){t._nesting--,Fd(t)}var Vd=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yc,this.onMicrotaskEmpty=new yc,this.onStable=new yc,this.onError=new yc}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Ud=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Pd.assertNotInAngularZone(),Y(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())Y(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Bd=function(){function t(){this._applications=new Map,zd.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),zd.findTestabilityInTree(this,t,e)},Object(r.__decorate)([Object(r.__metadata)("design:paramtypes",[])],t)}();function qd(t){zd=t}var Hd,zd=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}());function Kd(t,e,n){return Promise.resolve(new Xl(n))}var Gd=new I("AllowMultipleToken"),Qd=function(){return function(t,e){this.name=t,this.token=e}}();function Wd(t){if(Hd&&!Hd.destroyed&&!Hd.injector.get(Gd,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hd=t.get($d);var e=t.get(nd,null);return e&&e.forEach(function(t){return t()}),Hd}function Yd(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new I(r);return function(e){void 0===e&&(e=[]);var o=Zd();if(!o||o.injector.get(Gd,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});Wd(gu.create({providers:a,name:r}))}return Jd(i)}}function Jd(t){var e=Zd();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function Xd(){Hd&&!Hd.destroyed&&Hd.destroy()}function Zd(){return Hd&&!Hd.destroyed?Hd:null}var $d=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new Vd:("zone.js"===n?void 0:n)||new Pd({enableLongStackTrace:Bs()}),o=[{provide:Pd,useValue:i}];return i.run(function(){var e=gu.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(Df,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return np(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(Xf)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return Wf(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(u){throw e.runOutsideAngular(function(){return t.handleError(u)}),u}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=tp({},e);return function(t,e,n){return t.get(_d).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(ep);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+X(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function tp(t,e){return Array.isArray(e)?e.reduce(tp,t):Object(r.__assign)({},t,e)}var ep=function(){function t(t,e,n,r,i,o){var h=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Bs(),this._zone.onMicrotaskEmpty.subscribe({next:function(){h._zone.run(function(){h.tick()})}});var f=new a.a(function(t){h._stable=h._zone.isStable&&!h._zone.hasPendingMacrotasks&&!h._zone.hasPendingMicrotasks,h._zone.runOutsideAngular(function(){t.next(h._stable),t.complete()})}),d=new a.a(function(t){var e;h._zone.runOutsideAngular(function(){e=h._zone.onStable.subscribe(function(){Pd.assertNotInAngularZone(),Y(function(){h._stable||h._zone.hasPendingMacrotasks||h._zone.hasPendingMicrotasks||(h._stable=!0,t.next(!0))})})});var n=h._zone.onUnstable.subscribe(function(){Pd.assertInAngularZone(),h._stable&&(h._stable=!1,h._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return Object(u.a)(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof a.a?t[0]:Object(s.a)(n)(Object(l.a)(t,r))}(f,d.pipe(Object(c.a)()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof $u?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof ss?null:this._injector.get(ls),o=n.create(gu.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(Ud,null);return a&&o.injector.get(Bd).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Bs()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,kd(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;np(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(id,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),np(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Od("ApplicationRef#tick()"),t}();function np(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var rp=function(){function t(){this.dirty=!0,this._results=[],this.changes=new yc,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[W()]=function(){return this._results[W()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),ip=function(){return function(){}}(),op={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ap=function(){function t(t,e){this._compiler=t,this._config=e||op}return t.prototype.load=function(t){return this._compiler instanceof bd?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=Object(r.__read)(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),n("crnd")(o).then(function(t){return t[a]}).then(function(t){return up(t,o,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.__read)(t.split("#"),2),i=e[0],o=e[1],a="NgFactory";return void 0===o&&(o="default",a=""),n("crnd")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return up(t,i,o)})},t}();function up(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var sp=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return cp(t,gs)},t}(),lp=function(t,e){return function(t,e,n,i){var o;rs||(rs=function(t){function n(e,n,r){var i=t.call(this)||this;return i._lContainer=e,i._hostTNode=n,i._hostView=r,i._viewRefs=[],i}return Object(r.__extends)(n,t),Object.defineProperty(n.prototype,"element",{get:function(){return ds(e,this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new jn(this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){var t=An(this._hostTNode,this._hostView),e=ye(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.injectorIndex;)i=i.parent;return i}for(var o=ge(t),a=e,u=e[Dt];o>1;)u=(a=a[jt])[Dt],o--;return u}(t,this._hostView,this._hostTNode);return pe(t)&&null!=n?new jn(n,e):new jn(null,this._hostView)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(;this._lContainer[Bt].length;)this.remove(0)},n.prototype.get=function(t){return this._viewRefs[t]||null},Object.defineProperty(n.prototype,"length",{get:function(){return this._lContainer[Bt].length},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(t,e,n){var r=this._adjustIndex(n),i=t.createEmbeddedView(e||{},this._lContainer,this._hostTNode,this._hostView,r);return i.attachToViewContainerRef(this),this._viewRefs.splice(r,0,i),i},n.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;!i&&null==t.ngModule&&o&&(i=o.get(ls,null));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},n.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t._lView,r=this._adjustIndex(e);return Fr(n,this._lContainer,this._hostView,r,this._hostTNode.index),Mr(n,!0,Yr(r,this._lContainer[Bt],this._lContainer[qt])),t.attachToViewContainerRef(this),this._viewRefs.splice(r,0,t),t},n.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this.indexOf(t);return this.detach(n),this.insert(t,this._adjustIndex(e)),t},n.prototype.indexOf=function(t){return this._viewRefs.indexOf(t)},n.prototype.remove=function(t){var e=this._adjustIndex(t,-1);jr(this._lContainer,this._hostTNode,e),this._viewRefs.splice(e,1)},n.prototype.detach=function(t){var e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e,!!this._hostTNode.detached);return null!=this._viewRefs.splice(e,1)[0]?new hs(n,n[kt],n[Ft]):null},n.prototype._adjustIndex=function(t,e){return void 0===e&&(e=0),null==t?this._lContainer[Bt].length+e:t},n}(t));var a=i[n.index];if(se(a))(o=a)[Ut]=-1;else{var u=i[Pt].createComment("");if(le(i)){var s=i[Pt],l=ne(n,i);Kr(s,Gr(s,l),u,function(t,e){return Ir(t)?t.nextSibling(e):e.nextSibling}(s,l))}else Qr(u,n,i);i[n.index]=o=ra(a,n,i,u,!0),pa(i,n.index,o)}return new rs(o,n,i)}(t,e,en(),$e())},cp=cu,hp=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return dp()},t}(),fp=function(){return vs(en(),$e(),null)},dp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},pp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(hp),vp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(pp),gp=function(){return function(t,e){this.name=t,this.callback=e}}(),yp=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof mp&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),mp=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.__spread)([o+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof mp&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof mp&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof mp&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(yp);function bp(t){return t.map(function(t){return t.nativeElement})}var wp=function(){function t(t){this.nativeNode=t}return Object.defineProperty(t.prototype,"parent",{get:function(){var t=this.nativeNode.parentNode;return t?new _p(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return tr(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){var t=this.nativeNode;return t&&Yn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return Jn(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listeners",{get:function(){return ar(this.nativeNode).filter(or)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return void 0===(t=nr(this.nativeNode)).localRefs&&(t.localRefs=function(e,n){var r=e[_t].data[t.nodeIndex];if(r&&r.localNames){for(var i={},o=0;o<r.localNames.length;o+=2){var a=r.localNames[o+1];i[r.localNames[o]]=-1===a?ne(r,e):e[a]}return i}return null}(t.lView)),t.localRefs||{};var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return function(t){var e=nr(t,!1);if(!e)return[];for(var n,r=e.lView[_t],i=r.data[e.nodeIndex],o=[],a=i.directiveEnd,u=65535&i.providerIndexes;u<a;u++){var s=r.data[u];void 0!==(n=s).type&&void 0!==n.template&&void 0!==n.declaredInputs&&(s=s.type),o.push(s)}return o}(this.nativeNode)},enumerable:!0,configurable:!0}),t}(),_p=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.nativeElement.nodeName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return nr(this.nativeNode),{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t={},e=this.nativeElement;if(e)for(var n=e.attributes,r=0;r<n.length;r++){var i=n[r];t[i.name]=i.value}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){var t={},e=this.nativeElement;if(e){var n=ir(e),r=n.lView[n.nodeIndex];if(ci(n.nodeIndex,n.lView)){for(var i=9;i<r.length;i+=4)if(Ii(r,i)){var o=qi(r,i),a=Bi(r,i);"boolean"==typeof a&&(t[o]=a)}}else{var u=e.classList;for(i=0;i<u.length;i++)t[u[i]]=!0}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){var t={},e=this.nativeElement;if(e){var n=ir(e),r=n.lView[n.nodeIndex];if(ci(n.nodeIndex,n.lView)){for(var i=9;i<r.length;i+=4)if(!Ii(r,i)){var o=qi(r,i),a=Bi(r,i);null!==a&&(t[o]=a)}}else{var u=e.style;for(i=0;i<u.length;i++){var s=u.item(i);t[s]=u.getPropertyValue(s)}}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){for(var t=this.nativeNode.childNodes,e=[],n=0;n<t.length;n++)e.push(Sp(t[n]));return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){var t=this.nativeElement;if(!t)return[];for(var e=t.children,n=[],r=0;r<e.length;r++)n.push(Sp(e[r]));return n},enumerable:!0,configurable:!0}),e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return Cp(this,t,e,!0),e},e.prototype.queryAllNodes=function(t){var e=[];return Cp(this,t,e,!1),e},e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name===t&&n.callback(e)})},e}(wp);function Cp(t,e,n,r){t instanceof _p&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof _p&&(r&&!t.nativeElement||Cp(t,e,n,r))})}var Ep=new Map;function Sp(t){return t instanceof Node?t.nodeType==Node.ELEMENT_NODE?new _p(t):new wp(t):null}var Ip=function(t){return Ep.get(t)||null};function Tp(t){Ep.set(t.nativeNode,t)}var Dp=yp,Ap=mp,Op=function(){function t(){}return t.prototype.supports=function(t){return dr(t)},t.prototype.create=function(t){return new Np(t)},t}(),kp=function(t,e){return e},Np=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||kp}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Mp(n,r,i)?e:n,a=Mp(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var s=a-r,l=u-r;if(s!=l){for(var c=0;c<s;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<s&&(i[c]=h+1)}i[o.previousIndex]=l-s}}a!==u&&t(o,a,u)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!dr(t))throw new Error("Error trying to diff '"+X(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var u=0;u<this.length;u++)i=this._trackByFn(u,r=t[u]),null!==o&&J(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,u)),J(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,u),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[W()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&J(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),J(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(J(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(J(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new xp(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Rp),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rp),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),xp=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Pp=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&J(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Rp=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Pp,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Mp(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Fp=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||pr(t)},t.prototype.create=function(){return new Lp},t}(),Lp=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||pr(t)))throw new Error("Error trying to diff '"+X(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new jp(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){J(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),jp=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Vp=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new De,new Ie]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=_({providedIn:"root",factory:function(){return new t([new Op])}}),t}(),Up=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new De,new Ie]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=_({providedIn:"root",factory:function(){return new t([new Fp])}}),t}(),Bp=[new Fp],qp=new Vp([new Op]),Hp=new Up(Bp),zp=Yd(null,"core",[{provide:rd,useValue:"unknown"},{provide:$d,deps:[gu]},{provide:Bd,deps:[]},{provide:ad,deps:[]}]),Kp=new I("LocaleId"),Gp=new I("Translations"),Qp=new I("TranslationsFormat"),Wp=function(t){return t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore",t}({});function Yp(){return qp}function Jp(){return Hp}function Xp(t){return t||"en-US"}var Zp=[{provide:ep,useClass:ep,deps:[Pd,ad,gu,Df,as,Xf]},{provide:Xf,useClass:Xf,deps:[[new Ie,Jf]]},{provide:bd,useClass:bd,deps:[]},td,{provide:Vp,useFactory:Yp,deps:[]},{provide:Up,useFactory:Jp,deps:[]},{provide:Kp,useFactory:Xp,deps:[[new Se(Kp),new Ie,new De]]}],$p=function(){return function(t){}}(),tv=!0,ev=!1;function nv(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function rv(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function iv(t,e){return t.nodes[e]}function ov(t,e){return t.nodes[e]}function av(t,e){return t.nodes[e]}function uv(t,e){return t.nodes[e]}function sv(t,e){return t.nodes[e]}var lv=function(){return function(){}}(),cv={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function hv(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return fv(n,e),n}(i,t)}function fv(t,e){t[_f]=e,t[Ef]=e.logError.bind(e)}function dv(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var pv=function(){},vv=new Map;function gv(t){var e=vv.get(t);return e||(e=X(t)+"_"+vv.size,vv.set(t,e)),e}function yv(t,e,n,r){if(hr.isWrapped(r)){r=hr.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=hr.unwrap(t.oldValues[i]);t.oldValues[i]=new hr(o)}return r}var mv="$$undefined",bv="$$empty";function wv(t){return{id:mv,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var _v=0;function Cv(t,e,n,r){return!(!(2&t.state)&&J(t.oldValues[e.bindingIndex+n],r))}function Ev(t,e,n,r){return!!Cv(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Sv(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!cr(i,r)){var o=e.bindings[n].name;throw hv(cv.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function Iv(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Tv(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Dv(t,e,n,r){try{return Iv(33554432&t.def.nodes[e].flags?ov(t,e).componentView:t),cv.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Av(t){return t.parent?ov(t.parent,t.parentNodeDef.nodeIndex):null}function Ov(t){return t.parent?t.parentNodeDef.parent:null}function kv(t,e){switch(201347067&e.flags){case 1:return ov(t,e.nodeIndex).renderElement;case 2:return iv(t,e.nodeIndex).renderText}}function Nv(t,e){return t?t+":"+e:e}function xv(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Pv(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Rv(t){return 1<<t%32}function Mv(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=Object(r.__read)(t,2),a=o[0],u=o[1];"number"==typeof a?(e[a]=u,n|=Rv(a)):i[a]=u}),{matchedQueries:e,references:i,matchedQueryIds:n}}function Fv(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(o=(n=Object(r.__read)(t,2))[0],i=n[1]):(o=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,hu,{value:e,configurable:!0}),{flags:o,token:i,tokenKey:gv(i)}})}function Lv(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===ot.Native?ov(t,n.renderParent.nodeIndex).renderElement:void 0:e}var jv=new WeakMap;function Vv(t){var e=jv.get(t);return e||((e=t(function(){return pv})).factory=t,jv.set(t,e)),e}function Uv(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(kv(t,t.def.lastRenderRootNode))),Bv(t,e,0,t.def.nodes.length-1,n,r,i)}function Bv(t,e,n,r,i,o,a){for(var u=n;u<=r;u++){var s=t.def.nodes[u];11&s.flags&&Hv(t,s,e,i,o,a),u+=s.childCount}}function qv(t,e,n,r,i,o){for(var a=t;a&&!xv(a);)a=a.parent;for(var u=a.parent,s=Ov(a),l=s.nodeIndex+s.childCount,c=s.nodeIndex+1;c<=l;c++){var h=u.def.nodes[c];h.ngContentIndex===e&&Hv(u,h,n,r,i,o),c+=h.childCount}if(!u.parent){var f=t.root.projectableNodes[e];if(f)for(c=0;c<f.length;c++)zv(t,f[c],n,r,i,o)}}function Hv(t,e,n,r,i,o){if(8&e.flags)qv(t,e.ngContent.index,n,r,i,o);else{var a=kv(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&zv(t,a,n,r,i,o),32&e.bindingFlags&&zv(ov(t,e.nodeIndex).componentView,a,n,r,i,o)):zv(t,a,n,r,i,o),16777216&e.flags)for(var u=ov(t,e.nodeIndex).viewContainer._embeddedViews,s=0;s<u.length;s++)Uv(u[s],n,r,i,o);1&e.flags&&!e.element.name&&Bv(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function zv(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var Kv=/^:([^:]+):(.+)$/;function Gv(t){if(":"===t[0]){var e=t.match(Kv);return[e[1],e[2]]}return["",t]}function Qv(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Wv(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+Jv(e[r+1]);return n+e[2*t]}function Yv(t,e,n,r,i,o,a,u,s,l,c,h,f,d,p,v,g,y,m,b){switch(t){case 1:return e+Jv(n)+r;case 2:return e+Jv(n)+r+Jv(i)+o;case 3:return e+Jv(n)+r+Jv(i)+o+Jv(a)+u;case 4:return e+Jv(n)+r+Jv(i)+o+Jv(a)+u+Jv(s)+l;case 5:return e+Jv(n)+r+Jv(i)+o+Jv(a)+u+Jv(s)+l+Jv(c)+h;case 6:return e+Jv(n)+r+Jv(i)+o+Jv(a)+u+Jv(s)+l+Jv(c)+h+Jv(f)+d;case 7:return e+Jv(n)+r+Jv(i)+o+Jv(a)+u+Jv(s)+l+Jv(c)+h+Jv(f)+d+Jv(p)+v;case 8:return e+Jv(n)+r+Jv(i)+o+Jv(a)+u+Jv(s)+l+Jv(c)+h+Jv(f)+d+Jv(p)+v+Jv(g)+y;case 9:return e+Jv(n)+r+Jv(i)+o+Jv(a)+u+Jv(s)+l+Jv(c)+h+Jv(f)+d+Jv(p)+v+Jv(g)+y+Jv(m)+b;default:throw new Error("Does not support more than 9 expressions")}}function Jv(t){return null!=t?t.toString():""}var Xv=[],Zv={};function $v(t,e,n,r,i,o){t|=1;var a=Mv(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Vv(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||pv},provider:null,text:null,query:null,ngContent:null}}function tg(t,e,n,i,o,a,u,s,l,c,h,f){var d;void 0===u&&(u=[]),c||(c=pv);var p=Mv(n),v=p.matchedQueries,g=p.references,y=p.matchedQueryIds,m=null,b=null;a&&(m=(d=Object(r.__read)(Gv(a),2))[0],b=d[1]),s=s||[];for(var w=new Array(s.length),_=0;_<s.length;_++){var C=Object(r.__read)(s[_],3),E=C[0],S=C[1],I=C[2],T=Object(r.__read)(Gv(S),2),D=T[0],A=T[1],O=void 0,k=void 0;switch(15&E){case 4:k=I;break;case 1:case 8:O=I}w[_]={flags:E,ns:D,name:A,nonMinifiedName:A,securityContext:O,suffix:k}}l=l||[];var N=new Array(l.length);for(_=0;_<l.length;_++){var x=Object(r.__read)(l[_],2);N[_]={type:0,target:x[0],eventName:x[1],propName:null}}var P=(u=u||[]).map(function(t){var e=Object(r.__read)(t,2),n=e[0],i=e[1],o=Object(r.__read)(Gv(n),2);return[o[0],o[1],i]});return f=function(t){if(t&&t.id===mv){var e=null!=t.encapsulation&&t.encapsulation!==ot.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+_v++:bv}return t&&t.id===bv&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:v,matchedQueryIds:y,references:g,ngContentIndex:i,childCount:o,bindings:w,bindingFlags:Qv(w),outputs:N,element:{ns:m,name:b,attrs:P,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||pv},provider:null,text:null,query:null,ngContent:null}}function eg(t,e,n){var i,o=n.element,a=t.root.selectorOrNode,u=t.renderer;if(t.parent||!a){i=o.name?u.createElement(o.name,o.ns):u.createComment("");var s=Lv(t,e,n);s&&u.appendChild(s,i)}else i=u.selectRootElement(a,!!o.componentRendererType&&o.componentRendererType.encapsulation===ot.ShadowDom);if(o.attrs)for(var l=0;l<o.attrs.length;l++){var c=Object(r.__read)(o.attrs[l],3);u.setAttribute(i,c[1],c[2],c[0])}return i}function ng(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=rg(t,n.nodeIndex,Nv(o.target,o.eventName)),u=o.target,s=t;"component"===o.target&&(u=null,s=e);var l=s.renderer.listen(u||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}}function rg(t,e,n){return function(r){return Dv(t,e,n,r)}}function ig(t,e,n,r){if(!Ev(t,e,n,r))return!1;var i=e.bindings[n],o=ov(t,e.nodeIndex),a=o.renderElement,u=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,u=a?t.root.sanitizer.sanitize(a,o):o;u=null!=u?u.toString():null;var s=t.renderer;null!=o?s.setAttribute(n,i,u,r):s.removeAttribute(n,i,r)}(t,i,a,i.ns,u,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,u,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(As.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var u=t.renderer;null!=o?u.setStyle(n,r,o):u.removeStyle(n,r)}(t,i,a,u,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,u,r)}return!0}var og=new Object,ag=gv(gu),ug=gv(pu),sg=gv(ls);function lg(t,e,n,r){return n=tt(n),{index:-1,deps:Fv(r,X(e)),flags:t,token:e,value:n}}function cg(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===Nu&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[gv(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function hg(t,e,n){void 0===n&&(n=gu.THROW_IF_NOT_FOUND);var r,i,o=Ne(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case ag:case ug:case sg:return t}var u,s=t._def.providersByKey[a];if(s){var l=t._providers[s.index];return void 0===l&&(l=t._providers[s.index]=fg(t,s)),l===og?void 0:l}if((u=E(e.token))&&(r=t,null!=(i=u).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var c=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:u.factory,deps:[],index:c,token:e.token},t._providers[c]=og,t._providers[c]=fg(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Ne(o)}}function fg(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(hg(t,n[0]));case 2:return new e(hg(t,n[0]),hg(t,n[1]));case 3:return new e(hg(t,n[0]),hg(t,n[1]),hg(t,n[2]));default:for(var o=new Array(i),a=0;a<i;a++)o[a]=hg(t,n[a]);return new(e.bind.apply(e,Object(r.__spread)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(hg(t,n[0]));case 2:return e(hg(t,n[0]),hg(t,n[1]));case 3:return e(hg(t,n[0]),hg(t,n[1]),hg(t,n[2]));default:for(var o=Array(i),a=0;a<i;a++)o[a]=hg(t,n[a]);return e.apply(void 0,Object(r.__spread)(o))}}(t,e.value,e.deps);break;case 2048:n=hg(t,e.deps[0]);break;case 256:n=e.value}return n===og||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?og:n}function dg(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,yg(n,e),cv.dirtyParentQueries(r),vg(r),r}function pg(t,e,n){var r=e?kv(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Uv(n,2,i,o,void 0)}function vg(t){Uv(t,3,null,null,void 0)}function gg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yg(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var mg=new Object;function bg(t,e,n,r,i,o){return new _g(t,e,n,r,i,o)}function wg(t){return t.viewDefFactory}var _g=function(t){function e(e,n,r,i,o,a){var u=t.call(this)||this;return u.selector=e,u.componentType=n,u._inputs=i,u._outputs=o,u.ngContentSelectors=a,u.viewDefFactory=r,u}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Vv(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=cv.createRootView(t,e||[],n,i,r,mg),u=av(a,o).instance;return n&&a.renderer.setAttribute(ov(a,0).renderElement,"ng-version",Ns.full),new Cg(a,new Tg(a),u)},e}($u),Cg=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new gs(ov(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new kg(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Zu);function Eg(t,e,n){return new Sg(t,e,n)}var Sg=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new gs(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new kg(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Ov(t),t=t.parent;return t?new kg(t,e):new kg(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=dg(this._data,t);cv.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Tg(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof ss||(i=o.get(ls));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return o=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=o.length),(i=a._view).viewContainerParent=this._view,gg(o,r,i),function(t,e){var n=Av(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),cv.dirtyParentQueries(i),pg(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,u=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=u],yg(o,r),null==i&&(i=o.length),gg(o,i,a),cv.dirtyParentQueries(a),vg(a),pg(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=dg(this._data,t);e&&cv.destroyView(e)},t.prototype.detach=function(t){var e=dg(this._data,t);return e?new Tg(e):null},t}();function Ig(t){return new Tg(t)}var Tg=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Uv(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Iv(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{cv.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){cv.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),cv.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,vg(this._view),cv.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Dg(t,e){return new Ag(t,e)}var Ag=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new Tg(cv.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new gs(ov(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(mc);function Og(t,e){return new kg(t,e)}var kg=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=gu.THROW_IF_NOT_FOUND),cv.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:gv(t)},e)},t}();function Ng(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=ov(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return iv(t,n.nodeIndex).renderText;if(20240&n.flags)return av(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function xg(t){return new Pg(t.renderer)}var Pg=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.__read)(Gv(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Object(r.__read)(Gv(e),2),o=i[0],a=i[1];null!=n?this.delegate.setAttribute(t,a,n,o):this.delegate.removeAttribute(t,a,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Rg(t,e,n,r){return new Mg(t,e,n,r)}var Mg=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=fg(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=gu.THROW_IF_NOT_FOUND),void 0===n&&(n=Oe.Default);var r=0;return n&Oe.SkipSelf?r|=1:n&Oe.Self&&(r|=4),hg(this,{token:t,tokenKey:gv(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(as)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+X(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==og){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Fg=gv(_s),Lg=gv(Is),jg=gv(gs),Vg=gv(sp),Ug=gv(mc),Bg=gv(hp),qg=gv(gu),Hg=gv(pu);function zg(t,e,n,i,o,a,u,s){var l=[];if(u)for(var c in u){var h=Object(r.__read)(u[c],2);l[h[0]]={flags:8,name:c,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var f=[];if(s)for(var d in s)f.push({type:1,propName:d,target:null,eventName:s[d]});return Qg(t,e|=16384,n,i,o,o,a,l,f)}function Kg(t,e,n){return Qg(-1,t|=16,null,0,e,e,n)}function Gg(t,e,n,r,i){return Qg(-1,t,e,0,n,r,i)}function Qg(t,e,n,r,i,o,a,u,s){var l=Mv(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;s||(s=[]),u||(u=[]),o=tt(o);var d=Fv(a,X(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:u,bindingFlags:Qv(u),outputs:s,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Wg(t,e){return Zg(t,e)}function Yg(t,e){for(var n=t;n.parent&&!xv(n);)n=n.parent;return $g(n.parent,Ov(n),!0,e.provider.value,e.provider.deps)}function Jg(t,e){var n=$g(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!Yf(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var a=o.subscribe(Xg(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function Xg(t,e,n){return function(r){return Dv(t,e,n,r)}}function Zg(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return $g(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var a=o.length;switch(a){case 0:return i();case 1:return i(ey(t,e,n,o[0]));case 2:return i(ey(t,e,n,o[0]),ey(t,e,n,o[1]));case 3:return i(ey(t,e,n,o[0]),ey(t,e,n,o[1]),ey(t,e,n,o[2]));default:for(var u=Array(a),s=0;s<a;s++)u[s]=ey(t,e,n,o[s]);return i.apply(void 0,Object(r.__spread)(u))}}(t,e.parent,n,i.value,i.deps);case 2048:return ey(t,e.parent,n,i.deps[0]);case 256:return i.value}}function $g(t,e,n,i,o){var a=o.length;switch(a){case 0:return new i;case 1:return new i(ey(t,e,n,o[0]));case 2:return new i(ey(t,e,n,o[0]),ey(t,e,n,o[1]));case 3:return new i(ey(t,e,n,o[0]),ey(t,e,n,o[1]),ey(t,e,n,o[2]));default:for(var u=new Array(a),s=0;s<a;s++)u[s]=ey(t,e,n,o[s]);return new(i.bind.apply(i,Object(r.__spread)([void 0],u)))}}var ty={};function ey(t,e,n,r,i){if(void 0===i&&(i=gu.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===Bg&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var u=t;u;){if(e)switch(a){case Fg:return xg(ny(u,e,n));case Lg:return ny(u,e,n).renderer;case jg:return new gs(ov(u,e.nodeIndex).renderElement);case Vg:return ov(u,e.nodeIndex).viewContainer;case Ug:if(e.element.template)return ov(u,e.nodeIndex).template;break;case Bg:return Ig(ny(u,e,n));case qg:case Hg:return Og(u,e);default:var s=(n?e.element.allProviders:e.element.publicProviders)[a];if(s){var l=av(u,s.nodeIndex);return l||(l={instance:Zg(u,s)},u.nodes[s.nodeIndex]=l),l.instance}}n=xv(u),e=Ov(u),u=u.parent,4&r.flags&&(u=null)}var c=o.root.injector.get(r.token,ty);return c!==ty||i===ty?c:o.root.ngModule.injector.get(r.token,i)}function ny(t,e,n){var r;if(n)r=ov(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!xv(r);)r=r.parent;return r}function ry(t,e,n,r,i,o){if(32768&n.flags){var a=ov(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var u=hr.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new fr(u,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function iy(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&ay(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=oy(t,a,e,r)),a=a.parent}}function oy(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&ay(t,i,o.flags&n,r++),i+=o.childCount}return r}function ay(t,e,n,r){var i=av(t,e);if(i){var o=i.instance;o&&(cv.setCurrentNode(t,e),1048576&n&&rv(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&rv(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function uy(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Rv(e),bindings:r},ngContent:null}}function sy(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Pv(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&sv(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&sv(t,i).setDirty(),i+=o.childCount}}function ly(t,e){var n=sv(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=cy(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=av(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=cy(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,u=!1,s=0;s<a.length;s++){var l=a[s],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,u=!0}r[l.propName]=c}u&&n.notifyOnChanges()}}function cy(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],u=a.matchedQueries[r.id];if(null!=u&&i.push(hy(t,a,u)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var s=ov(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(cy(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=s.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=Av(h);f&&f===s&&cy(h,0,h.def.nodes.length-1,r,i)}var d=s.template._projectedViews;if(d)for(c=0;c<d.length;c++){var p=d[c];cy(p,0,p.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function hy(t,e,n){if(null!=n)switch(n){case 1:return ov(t,e.nodeIndex).renderElement;case 0:return new gs(ov(t,e.nodeIndex).renderElement);case 2:return ov(t,e.nodeIndex).template;case 3:return ov(t,e.nodeIndex).viewContainer;case 4:return av(t,e.nodeIndex).instance}}function fy(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function dy(t,e,n){var r=Lv(t,e,n);r&&qv(t,n.ngContent.index,1,r,null,void 0)}function py(t,e){return yy(128,t,new Array(e+1))}function vy(t,e){return yy(32,t,new Array(e))}function gy(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return yy(64,t,i)}function yy(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Qv(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function my(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function by(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Lv(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function wy(t,e){return(null!=t?t.toString():"")+e.suffix}function _y(t,e,n,r){for(var i=0,o=0,a=0,u=0,s=0,l=null,c=null,h=!1,f=!1,d=null,p=0;p<e.length;p++){var v=e[p];if(v.nodeIndex=p,v.parent=l,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,a|=v.flags,s|=v.matchedQueryIds,v.element){var g=v.element;g.publicProviders=l?l.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,f=!1,v.element.template&&(s|=v.element.template.nodeMatchedQueries)}if(Ey(l,v,e.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var y=0!=(32768&v.flags);0==(8192&v.flags)||y?l.element.publicProviders[gv(v.provider.token)]=v:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[gv(v.provider.token)]=v),y&&(l.element.componentProvider=v)}if(l?(l.childFlags|=v.flags,l.directChildFlags|=v.flags,l.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(l.childMatchedQueries|=v.element.template.nodeMatchedQueries)):u|=v.flags,v.childCount>0)l=v,Cy(v)||(c=v);else for(;l&&p===l.nodeIndex+l.childCount;){var m=l.parent;m&&(m.childFlags|=l.childFlags,m.childMatchedQueries|=l.childMatchedQueries),c=(l=m)&&Cy(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:u,nodeMatchedQueries:s,flags:t,nodes:e,updateDirectives:n||pv,updateRenderer:r||pv,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function Cy(t){return 0!=(1&t.flags)&&null===t.element.name}function Ey(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Sy(t,e,n,r){var i=Dy(t.root,t.renderer,t,e,n);return Ay(i,t.component,r),Oy(i),i}function Iy(t,e,n){var r=Dy(t,t.renderer,null,null,e);return Ay(r,n,n),Oy(r),r}function Ty(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Dy(t.root,i,t,e.element.componentProvider,n)}function Dy(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Ay(t,e,n){t.component=e,t.context=n}function Oy(t){var e;xv(t)&&(e=ov(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];cv.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var u=eg(t,e,o),s=void 0;if(33554432&o.flags){var l=Vv(o.element.componentView);s=cv.createComponentView(t,o,l,u)}ng(t,s,o,u),a={renderElement:u,componentView:s,viewContainer:null,template:o.element.template?Dg(t,o):void 0},16777216&o.flags&&(a.viewContainer=Eg(t,o,a));break;case 2:a=by(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Wg(t,o)});break;case 16:a={instance:Yg(t,o)};break;case 16384:(a=r[i])||(a={instance:Jg(t,o)}),32768&o.flags&&Ay(ov(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new rp;break;case 8:dy(t,e,o),a=void 0}r[i]=a}jy(t,Ly.CreateViewNodes),qy(t,201326592,268435456,0)}function ky(t){Py(t),cv.updateDirectives(t,1),Vy(t,Ly.CheckNoChanges),cv.updateRenderer(t,1),jy(t,Ly.CheckNoChanges),t.state&=-97}function Ny(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,nv(t,0,256),Py(t),cv.updateDirectives(t,0),Vy(t,Ly.CheckAndUpdate),qy(t,67108864,536870912,0);var e=nv(t,256,512);iy(t,2097152|(e?1048576:0)),cv.updateRenderer(t,0),jy(t,Ly.CheckAndUpdate),qy(t,134217728,536870912,0),iy(t,8388608|((e=nv(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,nv(t,768,1024)}function xy(t,e,n,i,o,a,u,s,l,c,h,f,d){return 0===n?function(t,e,n,r,i,o,a,u,s,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,u,s,l,c,h){var f=e.bindings.length,d=!1;return f>0&&ig(t,e,0,n)&&(d=!0),f>1&&ig(t,e,1,r)&&(d=!0),f>2&&ig(t,e,2,i)&&(d=!0),f>3&&ig(t,e,3,o)&&(d=!0),f>4&&ig(t,e,4,a)&&(d=!0),f>5&&ig(t,e,5,u)&&(d=!0),f>6&&ig(t,e,6,s)&&(d=!0),f>7&&ig(t,e,7,l)&&(d=!0),f>8&&ig(t,e,8,c)&&(d=!0),f>9&&ig(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,a,u,s,l,c,h);case 2:return function(t,e,n,r,i,o,a,u,s,l,c,h){var f=!1,d=e.bindings,p=d.length;if(p>0&&Ev(t,e,0,n)&&(f=!0),p>1&&Ev(t,e,1,r)&&(f=!0),p>2&&Ev(t,e,2,i)&&(f=!0),p>3&&Ev(t,e,3,o)&&(f=!0),p>4&&Ev(t,e,4,a)&&(f=!0),p>5&&Ev(t,e,5,u)&&(f=!0),p>6&&Ev(t,e,6,s)&&(f=!0),p>7&&Ev(t,e,7,l)&&(f=!0),p>8&&Ev(t,e,8,c)&&(f=!0),p>9&&Ev(t,e,9,h)&&(f=!0),f){var v=e.text.prefix;p>0&&(v+=wy(n,d[0])),p>1&&(v+=wy(r,d[1])),p>2&&(v+=wy(i,d[2])),p>3&&(v+=wy(o,d[3])),p>4&&(v+=wy(a,d[4])),p>5&&(v+=wy(u,d[5])),p>6&&(v+=wy(s,d[6])),p>7&&(v+=wy(l,d[7])),p>8&&(v+=wy(c,d[8])),p>9&&(v+=wy(h,d[9]));var g=iv(t,e.nodeIndex).renderText;t.renderer.setValue(g,v)}return f}(t,e,n,r,i,o,a,u,s,l,c,h);case 16384:return function(t,e,n,r,i,o,a,u,s,l,c,h){var f=av(t,e.nodeIndex),d=f.instance,p=!1,v=void 0,g=e.bindings.length;return g>0&&Cv(t,e,0,n)&&(p=!0,v=ry(t,f,e,0,n,v)),g>1&&Cv(t,e,1,r)&&(p=!0,v=ry(t,f,e,1,r,v)),g>2&&Cv(t,e,2,i)&&(p=!0,v=ry(t,f,e,2,i,v)),g>3&&Cv(t,e,3,o)&&(p=!0,v=ry(t,f,e,3,o,v)),g>4&&Cv(t,e,4,a)&&(p=!0,v=ry(t,f,e,4,a,v)),g>5&&Cv(t,e,5,u)&&(p=!0,v=ry(t,f,e,5,u,v)),g>6&&Cv(t,e,6,s)&&(p=!0,v=ry(t,f,e,6,s,v)),g>7&&Cv(t,e,7,l)&&(p=!0,v=ry(t,f,e,7,l,v)),g>8&&Cv(t,e,8,c)&&(p=!0,v=ry(t,f,e,8,c,v)),g>9&&Cv(t,e,9,h)&&(p=!0,v=ry(t,f,e,9,h,v)),v&&d.ngOnChanges(v),65536&e.flags&&rv(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,a,u,s,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,u,s,l,c,h){var f=e.bindings,d=!1,p=f.length;if(p>0&&Ev(t,e,0,n)&&(d=!0),p>1&&Ev(t,e,1,r)&&(d=!0),p>2&&Ev(t,e,2,i)&&(d=!0),p>3&&Ev(t,e,3,o)&&(d=!0),p>4&&Ev(t,e,4,a)&&(d=!0),p>5&&Ev(t,e,5,u)&&(d=!0),p>6&&Ev(t,e,6,s)&&(d=!0),p>7&&Ev(t,e,7,l)&&(d=!0),p>8&&Ev(t,e,8,c)&&(d=!0),p>9&&Ev(t,e,9,h)&&(d=!0),d){var v=uv(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(f.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=i),p>3&&(g[3]=o),p>4&&(g[4]=a),p>5&&(g[5]=u),p>6&&(g[6]=s),p>7&&(g[7]=l),p>8&&(g[8]=c),p>9&&(g[9]=h);break;case 64:g={},p>0&&(g[f[0].name]=n),p>1&&(g[f[1].name]=r),p>2&&(g[f[2].name]=i),p>3&&(g[f[3].name]=o),p>4&&(g[f[4].name]=a),p>5&&(g[f[5].name]=u),p>6&&(g[f[6].name]=s),p>7&&(g[f[7].name]=l),p>8&&(g[f[8].name]=c),p>9&&(g[f[9].name]=h);break;case 128:var y=n;switch(p){case 1:g=y.transform(n);break;case 2:g=y.transform(r);break;case 3:g=y.transform(r,i);break;case 4:g=y.transform(r,i,o);break;case 5:g=y.transform(r,i,o,a);break;case 6:g=y.transform(r,i,o,a,u);break;case 7:g=y.transform(r,i,o,a,u,s);break;case 8:g=y.transform(r,i,o,a,u,s,l);break;case 9:g=y.transform(r,i,o,a,u,s,l,c);break;case 10:g=y.transform(r,i,o,a,u,s,l,c,h)}}v.value=g}return d}(t,e,n,r,i,o,a,u,s,l,c,h);default:throw"unreachable"}}(t,e,i,o,a,u,s,l,c,h,f,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)ig(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Ev(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=wy(n[o],r[o]);a=e.text.prefix+a;var u=iv(t,e.nodeIndex).renderText;t.renderer.setValue(u,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=av(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,u=0;u<n.length;u++)Cv(t,e,u,n[u])&&(o=!0,a=ry(t,r,e,u,n[u],a));return a&&i.ngOnChanges(a),65536&e.flags&&rv(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,a=0;a<n.length;a++)Ev(t,e,a,n[a])&&(o=!0);if(o){var u=uv(t,e.nodeIndex),s=void 0;switch(201347067&e.flags){case 32:s=n;break;case 64:for(s={},a=0;a<n.length;a++)s[i[a].name]=n[a];break;case 128:var l=n[0],c=n.slice(1);s=l.transform.apply(l,Object(r.__spread)(c))}u.value=s}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function Py(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=ov(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Tv(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ry(t,e,n,r,i,o,a,u,s,l,c,h,f){return 0===n?function(t,e,n,r,i,o,a,u,s,l,c,h){var f=e.bindings.length;f>0&&Sv(t,e,0,n),f>1&&Sv(t,e,1,r),f>2&&Sv(t,e,2,i),f>3&&Sv(t,e,3,o),f>4&&Sv(t,e,4,a),f>5&&Sv(t,e,5,u),f>6&&Sv(t,e,6,s),f>7&&Sv(t,e,7,l),f>8&&Sv(t,e,8,c),f>9&&Sv(t,e,9,h)}(t,e,r,i,o,a,u,s,l,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Sv(t,e,r,n[r])}(t,e,r),!1}function My(t,e){if(sv(t,e.nodeIndex).dirty)throw hv(cv.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function Fy(t){if(!(128&t.state)){if(Vy(t,Ly.Destroy),jy(t,Ly.Destroy),iy(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Av(t);if(e){var n=e.template._projectedViews;n&&(yg(n,n.indexOf(t)),cv.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(ov(t,n).renderElement):2&r.flags?t.renderer.destroyNode(iv(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&sv(t,n).destroy()}}(t),xv(t)&&t.renderer.destroy(),t.state|=128}}var Ly=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function jy(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Uy(ov(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Vy(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=ov(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Uy(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Uy(t,e){var n=t.state;switch(e){case Ly.CheckNoChanges:0==(128&n)&&(12==(12&n)?ky(t):64&n&&By(t,Ly.CheckNoChangesProjectedViews));break;case Ly.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ky(t):64&n&&By(t,e));break;case Ly.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Ny(t):64&n&&By(t,Ly.CheckAndUpdateProjectedViews));break;case Ly.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Ny(t):64&n&&By(t,e));break;case Ly.Destroy:Fy(t);break;case Ly.CreateViewNodes:Oy(t)}}function By(t,e){Vy(t,e),jy(t,e)}function qy(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(cv.setCurrentNode(t,a.nodeIndex),r){case 0:ly(t,a);break;case 1:My(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var Hy=!1;function zy(){if(!Hy){Hy=!0;var t=Bs()?{setCurrentNode:dm,createRootView:Gy,createEmbeddedView:Wy,createComponentView:Yy,createNgModuleRef:Jy,overrideProvider:tm,overrideComponentView:em,clearOverrides:nm,checkAndUpdateView:am,checkNoChangesView:um,destroyView:sm,createDebugContext:function(t,e){return new _m(t,e)},handleEvent:pm,updateDirectives:vm,updateRenderer:gm}:{setCurrentNode:function(){},createRootView:Ky,createEmbeddedView:Sy,createComponentView:Ty,createNgModuleRef:Rg,overrideProvider:pv,overrideComponentView:pv,clearOverrides:pv,checkAndUpdateView:Ny,checkNoChangesView:ky,destroyView:Fy,createDebugContext:function(t,e){return new _m(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?im:om,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?im:om,t)}};cv.setCurrentNode=t.setCurrentNode,cv.createRootView=t.createRootView,cv.createEmbeddedView=t.createEmbeddedView,cv.createComponentView=t.createComponentView,cv.createNgModuleRef=t.createNgModuleRef,cv.overrideProvider=t.overrideProvider,cv.overrideComponentView=t.overrideComponentView,cv.clearOverrides=t.clearOverrides,cv.checkAndUpdateView=t.checkAndUpdateView,cv.checkNoChangesView=t.checkNoChangesView,cv.destroyView=t.destroyView,cv.resolveDep=ey,cv.createDebugContext=t.createDebugContext,cv.handleEvent=t.handleEvent,cv.updateDirectives=t.updateDirectives,cv.updateRenderer=t.updateRenderer,cv.dirtyParentQueries=sy}}function Ky(t,e,n,r,i,o){var a=i.injector.get(Es);return Iy(Qy(t,i,a,e,n),r,o)}function Gy(t,e,n,r,i,o){var a=i.injector.get(Es),u=Qy(t,i,new Im(a),e,n),s=rm(r);return Em(fm.create,Iy,null,[u,s,o])}function Qy(t,e,n,r,i){var o=e.injector.get(Os),a=e.injector.get(Df),u=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:u,errorHandler:a}}function Wy(t,e,n,r){var i=rm(n);return Em(fm.create,Sy,null,[t,e,i,r])}function Yy(t,e,n,r){return n=$y.get(e.element.componentProvider.provider.token)||rm(n),Em(fm.create,Ty,null,[t,e,n,r])}function Jy(t,e,n,r){return Rg(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Xy.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=Xy.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){Zy.forEach(function(r,i){E(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=Xy.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Fv(i.deps),r.value=i.value)}if(Zy.size>0){var o=new Set(t.modules);Zy.forEach(function(e,r){if(o.has(E(r).providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:Fv(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[gv(r)]=i}})}}(t=t.factory(function(){return pv})),t):t}(r))}var Xy=new Map,Zy=new Map,$y=new Map;function tm(t){var e;Xy.set(t.token,t),"function"==typeof t.token&&(e=E(t.token))&&"function"==typeof e.providedIn&&Zy.set(t.token,t)}function em(t,e){var n=Vv(wg(e)),r=Vv(n.nodes[0].element.componentView);$y.set(t,r)}function nm(){Xy.clear(),Zy.clear(),$y.clear()}function rm(t){if(0===Xy.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Xy.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return pv});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Xy.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Fv(o.deps),i.value=o.value)}}}}function im(t,e,n,r,i,o,a,u,s,l,c,h,f){var d=t.def.nodes[e];return xy(t,d,n,r,i,o,a,u,s,l,c,h,f),224&d.flags?uv(t,e).value:void 0}function om(t,e,n,r,i,o,a,u,s,l,c,h,f){var d=t.def.nodes[e];return Ry(t,d,n,r,i,o,a,u,s,l,c,h,f),224&d.flags?uv(t,e).value:void 0}function am(t){return Em(fm.detectChanges,Ny,null,[t])}function um(t){return Em(fm.checkNoChanges,ky,null,[t])}function sm(t){return Em(fm.destroy,Fy,null,[t])}var lm,cm,hm,fm=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function dm(t,e){cm=t,hm=e}function pm(t,e,n,r){return dm(t,e),Em(fm.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function vm(t,e){if(128&t.state)throw dv(fm[lm]);return dm(t,bm(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?ym(t,a,r,i):mm(t,a,r,i),16384&a.flags&&dm(t,bm(t,n)),224&a.flags?uv(t,a.nodeIndex).value:void 0},t)}function gm(t,e){if(128&t.state)throw dv(fm[lm]);return dm(t,wm(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?ym(t,a,r,i):mm(t,a,r,i),3&a.flags&&dm(t,wm(t,n)),224&a.flags?uv(t,a.nodeIndex).value:void 0},t)}function ym(t,e,n,i){if(xy.apply(void 0,Object(r.__spread)([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var a={},u=0;u<e.bindings.length;u++){var s=e.bindings[u],l=o[u];8&s.flags&&(a[(d=s.nonMinifiedName,"ng-reflect-"+d.replace(/[$@]/g,"_").replace(sr,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))]=lr(l))}var c=e.parent,h=ov(t,c.nodeIndex).renderElement;if(c.element.name)for(var f in a)null!=(l=a[f])?t.renderer.setAttribute(h,f,l):t.renderer.removeAttribute(h,f);else t.renderer.setValue(h,"bindings="+JSON.stringify(a,null,2))}}var d}function mm(t,e,n,i){Ry.apply(void 0,Object(r.__spread)([t,e,n],i))}function bm(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function wm(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var _m=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Ov(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return ov(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Og(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Cm(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Cm(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!xv(t);)t=t.parent;return t.parent?ov(t.parent,Ov(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?kv(this.view,this.nodeDef):kv(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),u=-1;e.factory(function(){var e;return++u===a?(e=t.error).bind.apply(e,Object(r.__spread)([t],i)):pv}),u<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.__spread)(i)))},t}();function Cm(t,e,n){for(var r in e.references)n[r]=hy(t,e,e.references[r])}function Em(t,e,n,r){var i=lm,o=cm,a=hm;try{lm=t;var u=e.apply(n,r);return cm=o,hm=a,lm=i,u}catch(s){if(Sf(s)||!cm)throw s;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),fv(t,e),t}(s,Sm())}}function Sm(){return cm?new _m(cm,hm):null}var Im=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Tm(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Tm=function(){function t(t){this.delegate=t,this.debugContextFactory=Sm,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){Ep.delete(t.nativeNode)}(Ip(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new mp(n,null,r);i.name=t,Tp(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Tp(new yp(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Tp(new yp(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Ip(t),r=Ip(e);n&&r&&n instanceof mp&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Ip(t),i=Ip(e),o=Ip(n);r&&i&&r instanceof mp&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Ip(t),r=Ip(e);n&&r&&n instanceof mp&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=Sm();return r&&Tp(new mp(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var i=Ip(t);i&&i instanceof mp&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Ip(t);r&&r instanceof mp&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Ip(t);n&&n instanceof mp&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Ip(t);n&&n instanceof mp&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=Ip(t);i&&i instanceof mp&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Ip(t);r&&r instanceof mp&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Ip(t);r&&r instanceof mp&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Ip(t);r&&r.listeners.push(new gp(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Dm(t){return zy(),cv.overrideProvider(t)}function Am(t,e){return zy(),cv.overrideComponentView(t,e)}function Om(){return zy(),cv.clearOverrides()}function km(t,e,n){return new Nm(t,e,n)}var Nm=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.__extends)(e,t),e.prototype.create=function(t){zy();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Vv(this._ngModuleDefFactory));return cv.createNgModuleRef(this.moduleType,t||gu.NULL,this._bootstrapComponents,e)},e}(cs)},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},"Dd/+":function(t,e,n){n("q94Q")("unscopables")},"En8+":function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),a=n("pugT"),u=n("L/V9"),s=n("iLxQ"),l=n("DKTb"),c=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,i)}return a}return r.__extends(e,t),e.prototype[u.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(a.a),h=function(t){function e(e,n,r,a){var u,s=t.call(this)||this;s._parentSubscriber=e;var l=s;return Object(i.a)(n)?u=n:n&&(u=n.next,r=n.error,a=n.complete,n!==o.a&&(l=Object.create(n),Object(i.a)(l.unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(s))),s._context=l,s._next=u,s._error=r,s._complete=a,s}return r.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c)},FnXw:function(t,e,n){var r=n("kpns"),i=n("hdqJ"),o=n("aXXJ")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},FoKB:function(t,e,n){n("q94Q")("observable")},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("6blF"),i=n("+tJ4"),o=n("S5XQ"),a=n("u67D"),u=n("JcRv"),s=n("2ePl"),l=n("/WYv"),c=n("McSo"),h=n("En8+"),f=n("xTla"),d=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(u.a)(t);if(Object(s.a)(t))return Object(i.a)(t);if(Object(l.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},GJzV:function(t,e,n){var r=n("JKJi"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},Gp07:function(t,e,n){var r=n("JKJi"),i=n("9Nts");t.exports=function(t,e,n){var o,a,u=String(i(t)),s=r(e),l=u.length;return s<0||s>=l?n?"":void 0:(o=u.charCodeAt(s))<55296||o>56319||s+1===l||(a=u.charCodeAt(s+1))<56320||a>57343?n?u.charAt(s):o:n?u.slice(s,s+2):a-56320+(o-55296<<10)+65536}},GrVo:function(t,e,n){"use strict";var r=n("Q2Kg"),i=n("fw2a"),o=n("iCuu"),a=n("SAp2"),u=n("t5mC"),s=Object.assign;t.exports=!s||n("0HDe")(function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||"abcdefghijklmnopqrst"!=r(s({},e)).join("")})?function(t,e){for(var n=a(t),s=arguments.length,l=1,c=i.f,h=o.f;s>l;)for(var f,d=u(arguments[l++]),p=c?r(d).concat(c(d)):r(d),v=p.length,g=0;v>g;)h.call(d,f=p[g++])&&(n[f]=d[f]);return n}:s},H6ty:function(t,e,n){var r=n("JKJi"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},HefZ:function(t,e,n){n("rZEa"),n("QvOV"),n("44fV"),n("2F3y"),n("qjh4"),n("b2LF"),n("uiB+"),n("q0E7"),n("+v3u"),n("dstF"),n("dYkh"),n("gIEr"),n("luCB"),n("MuAL"),n("uLJa"),n("Dd/+"),n("vb+c"),n("ZPxF"),t.exports=n("4Ea8").Symbol},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),i=n("pugT"),o=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(o.a)(t))}},Ip0R:function(t,e,n){"use strict";n.r(e),n.d(e,"\u0275angular_packages_common_common_e",function(){return Xt}),n.d(e,"\u0275angular_packages_common_common_d",function(){return K}),n.d(e,"\u0275angular_packages_common_common_a",function(){return Ot}),n.d(e,"\u0275angular_packages_common_common_b",function(){return Pt}),n.d(e,"\u0275angular_packages_common_common_g",function(){return _e}),n.d(e,"\u0275angular_packages_common_common_f",function(){return He}),n.d(e,"\u0275registerLocaleData",function(){return g}),n.d(e,"registerLocaleData",function(){return g}),n.d(e,"formatDate",function(){return et}),n.d(e,"formatCurrency",function(){return St}),n.d(e,"formatNumber",function(){return Tt}),n.d(e,"formatPercent",function(){return It}),n.d(e,"NgLocaleLocalization",function(){return xt}),n.d(e,"NgLocalization",function(){return kt}),n.d(e,"Plural",function(){return b}),n.d(e,"NumberFormatStyle",function(){return m}),n.d(e,"FormStyle",function(){return w}),n.d(e,"TranslationWidth",function(){return _}),n.d(e,"FormatWidth",function(){return C}),n.d(e,"NumberSymbol",function(){return E}),n.d(e,"WeekDay",function(){return S}),n.d(e,"getNumberOfCurrencyDigits",function(){return W}),n.d(e,"getCurrencySymbol",function(){return G}),n.d(e,"getLocaleDayPeriods",function(){return T}),n.d(e,"getLocaleDayNames",function(){return D}),n.d(e,"getLocaleMonthNames",function(){return A}),n.d(e,"getLocaleId",function(){return I}),n.d(e,"getLocaleEraNames",function(){return O}),n.d(e,"getLocaleWeekEndRange",function(){return N}),n.d(e,"getLocaleFirstDayOfWeek",function(){return k}),n.d(e,"getLocaleDateFormat",function(){return x}),n.d(e,"getLocaleDateTimeFormat",function(){return R}),n.d(e,"getLocaleExtraDayPeriodRules",function(){return B}),n.d(e,"getLocaleExtraDayPeriods",function(){return q}),n.d(e,"getLocalePluralCase",function(){return V}),n.d(e,"getLocaleTimeFormat",function(){return P}),n.d(e,"getLocaleNumberSymbol",function(){return M}),n.d(e,"getLocaleNumberFormat",function(){return F}),n.d(e,"getLocaleCurrencyName",function(){return j}),n.d(e,"getLocaleCurrencySymbol",function(){return L}),n.d(e,"\u0275parseCookieValue",function(){return Rt}),n.d(e,"CommonModule",function(){return ze}),n.d(e,"DeprecatedI18NPipesModule",function(){return Ke}),n.d(e,"NgClass",function(){return Mt}),n.d(e,"NgForOf",function(){return jt}),n.d(e,"NgForOfContext",function(){return Lt}),n.d(e,"NgIf",function(){return Ut}),n.d(e,"NgIfContext",function(){return Bt}),n.d(e,"NgPlural",function(){return Qt}),n.d(e,"NgPluralCase",function(){return Wt}),n.d(e,"NgStyle",function(){return Yt}),n.d(e,"NgSwitch",function(){return zt}),n.d(e,"NgSwitchCase",function(){return Kt}),n.d(e,"NgSwitchDefault",function(){return Gt}),n.d(e,"NgTemplateOutlet",function(){return Jt}),n.d(e,"NgComponentOutlet",function(){return Ft}),n.d(e,"DOCUMENT",function(){return Ge}),n.d(e,"AsyncPipe",function(){return Ie}),n.d(e,"DatePipe",function(){return ke}),n.d(e,"I18nPluralPipe",function(){return xe}),n.d(e,"I18nSelectPipe",function(){return Pe}),n.d(e,"JsonPipe",function(){return Re}),n.d(e,"LowerCasePipe",function(){return Te}),n.d(e,"CurrencyPipe",function(){return Ve}),n.d(e,"DecimalPipe",function(){return Le}),n.d(e,"PercentPipe",function(){return je}),n.d(e,"SlicePipe",function(){return qe}),n.d(e,"UpperCasePipe",function(){return Oe}),n.d(e,"TitleCasePipe",function(){return Ae}),n.d(e,"KeyValuePipe",function(){return Me}),n.d(e,"DeprecatedDatePipe",function(){return ve}),n.d(e,"DeprecatedCurrencyPipe",function(){return we}),n.d(e,"DeprecatedDecimalPipe",function(){return me}),n.d(e,"DeprecatedPercentPipe",function(){return be}),n.d(e,"\u0275PLATFORM_BROWSER_ID",function(){return Qe}),n.d(e,"\u0275PLATFORM_SERVER_ID",function(){return We}),n.d(e,"\u0275PLATFORM_WORKER_APP_ID",function(){return Ye}),n.d(e,"\u0275PLATFORM_WORKER_UI_ID",function(){return Je}),n.d(e,"isPlatformBrowser",function(){return Xe}),n.d(e,"isPlatformServer",function(){return Ze}),n.d(e,"isPlatformWorkerApp",function(){return $e}),n.d(e,"isPlatformWorkerUi",function(){return tn}),n.d(e,"VERSION",function(){return en}),n.d(e,"ViewportScroller",function(){return nn}),n.d(e,"\u0275NullViewportScroller",function(){return on}),n.d(e,"PlatformLocation",function(){return o}),n.d(e,"LOCATION_INITIALIZED",function(){return a}),n.d(e,"LocationStrategy",function(){return u}),n.d(e,"APP_BASE_HREF",function(){return s}),n.d(e,"HashLocationStrategy",function(){return h}),n.d(e,"PathLocationStrategy",function(){return f}),n.d(e,"Location",function(){return l});var r=n("CcnG"),i=n("mrSG"),o=function(){return function(){}}(),a=new r.InjectionToken("Location Initialized"),u=function(){return function(){}}(),s=new r.InjectionToken("appBaseHref"),l=function(){function t(t){var n=this;this._subject=new r.EventEmitter,this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(c(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,c(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function c(t){return t.replace(/\/index.html$/,"")}var h=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(i.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=l.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(u),f=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(i.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return l.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+l.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(u),d=void 0,p=["en",[["a","p"],["AM","PM"],d],[["AM","PM"],d,d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",d,"{1} 'at' {0}",d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],v={};function g(t,e,n){"string"!=typeof e&&(n=e,e=t[0]),e=e.toLowerCase().replace(/_/g,"-"),v[e]=t,n&&(v[e][19]=n)}var y={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},m=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),b=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),w=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),_=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),C=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),E=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({}),S=function(t){return t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",t}({});function I(t){return K(t)[0]}function T(t,e,n){var r=K(t),i=H([r[1],r[2]],e);return H(i,n)}function D(t,e,n){var r=K(t),i=H([r[3],r[4]],e);return H(i,n)}function A(t,e,n){var r=K(t),i=H([r[5],r[6]],e);return H(i,n)}function O(t,e){return H(K(t)[7],e)}function k(t){return K(t)[8]}function N(t){return K(t)[9]}function x(t,e){return H(K(t)[10],e)}function P(t,e){return H(K(t)[11],e)}function R(t,e){return H(K(t)[12],e)}function M(t,e){var n=K(t),r=n[13][e];if(void 0===r){if(e===E.CurrencyDecimal)return n[13][E.Decimal];if(e===E.CurrencyGroup)return n[13][E.Group]}return r}function F(t,e){return K(t)[14][e]}function L(t){return K(t)[15]||null}function j(t){return K(t)[16]||null}function V(t){return K(t)[18]}function U(t){if(!t[19])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function B(t){var e=K(t);return U(e),(e[19][2]||[]).map(function(t){return"string"==typeof t?z(t):[z(t[0]),z(t[1])]})}function q(t,e,n){var r=K(t);U(r);var i=H([r[19][0],r[19][1]],e)||[];return H(i,n)||[]}function H(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function z(t){var e=Object(i.__read)(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}function K(t){var e=t.toLowerCase().replace(/_/g,"-"),n=v[e];if(n)return n;var r=e.split("-")[0];if(n=v[r])return n;if("en"===r)return p;throw new Error('Missing locale data for the locale "'+t+'".')}function G(t,e,n){void 0===n&&(n="en");var r=function(t){return K(t)[17]}(n)[t]||y[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}var Q=2;function W(t){var e,n=y[t];return n&&(e=n[2]),"number"==typeof e?e:Q}var Y=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,J={},X=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Z=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),$=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),tt=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function et(t,e,n,r){var o=function(t){if(dt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=Object(i.__read)(t.split("-").map(function(t){return+t}),3);return new Date(r[0],r[1]-1,r[2])}if(e=t.match(Y))return ft(e)}var o=new Date(t);if(!dt(o))throw new Error('Unable to convert "'+t+'" into a date');return o}(t);e=function t(e,n){var r=I(e);if(J[r]=J[r]||{},J[r][n])return J[r][n];var i="";switch(n){case"shortDate":i=x(e,C.Short);break;case"mediumDate":i=x(e,C.Medium);break;case"longDate":i=x(e,C.Long);break;case"fullDate":i=x(e,C.Full);break;case"shortTime":i=P(e,C.Short);break;case"mediumTime":i=P(e,C.Medium);break;case"longTime":i=P(e,C.Long);break;case"fullTime":i=P(e,C.Full);break;case"short":var o=t(e,"shortTime"),a=t(e,"shortDate");i=nt(R(e,C.Short),[o,a]);break;case"medium":var u=t(e,"mediumTime"),s=t(e,"mediumDate");i=nt(R(e,C.Medium),[u,s]);break;case"long":var l=t(e,"longTime"),c=t(e,"longDate");i=nt(R(e,C.Long),[l,c]);break;case"full":var h=t(e,"fullTime"),f=t(e,"fullDate");i=nt(R(e,C.Full),[h,f])}return i&&(J[r][n]=i),i}(n,e)||e;for(var a,u=[];e;){if(!(a=X.exec(e))){u.push(e);break}var s=(u=u.concat(a.slice(1))).pop();if(!s)break;e=s}var l=o.getTimezoneOffset();r&&(l=ht(r,l),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(ht(e,r)-r))}(o,r));var c="";return u.forEach(function(t){var e=function(t){if(ct[t])return ct[t];var e;switch(t){case"G":case"GG":case"GGG":e=ot(tt.Eras,_.Abbreviated);break;case"GGGG":e=ot(tt.Eras,_.Wide);break;case"GGGGG":e=ot(tt.Eras,_.Narrow);break;case"y":e=it($.FullYear,1,0,!1,!0);break;case"yy":e=it($.FullYear,2,0,!0,!0);break;case"yyy":e=it($.FullYear,3,0,!1,!0);break;case"yyyy":e=it($.FullYear,4,0,!1,!0);break;case"M":case"L":e=it($.Month,1,1);break;case"MM":case"LL":e=it($.Month,2,1);break;case"MMM":e=ot(tt.Months,_.Abbreviated);break;case"MMMM":e=ot(tt.Months,_.Wide);break;case"MMMMM":e=ot(tt.Months,_.Narrow);break;case"LLL":e=ot(tt.Months,_.Abbreviated,w.Standalone);break;case"LLLL":e=ot(tt.Months,_.Wide,w.Standalone);break;case"LLLLL":e=ot(tt.Months,_.Narrow,w.Standalone);break;case"w":e=lt(1);break;case"ww":e=lt(2);break;case"W":e=lt(1,!0);break;case"d":e=it($.Date,1);break;case"dd":e=it($.Date,2);break;case"E":case"EE":case"EEE":e=ot(tt.Days,_.Abbreviated);break;case"EEEE":e=ot(tt.Days,_.Wide);break;case"EEEEE":e=ot(tt.Days,_.Narrow);break;case"EEEEEE":e=ot(tt.Days,_.Short);break;case"a":case"aa":case"aaa":e=ot(tt.DayPeriods,_.Abbreviated);break;case"aaaa":e=ot(tt.DayPeriods,_.Wide);break;case"aaaaa":e=ot(tt.DayPeriods,_.Narrow);break;case"b":case"bb":case"bbb":e=ot(tt.DayPeriods,_.Abbreviated,w.Standalone,!0);break;case"bbbb":e=ot(tt.DayPeriods,_.Wide,w.Standalone,!0);break;case"bbbbb":e=ot(tt.DayPeriods,_.Narrow,w.Standalone,!0);break;case"B":case"BB":case"BBB":e=ot(tt.DayPeriods,_.Abbreviated,w.Format,!0);break;case"BBBB":e=ot(tt.DayPeriods,_.Wide,w.Format,!0);break;case"BBBBB":e=ot(tt.DayPeriods,_.Narrow,w.Format,!0);break;case"h":e=it($.Hours,1,-12);break;case"hh":e=it($.Hours,2,-12);break;case"H":e=it($.Hours,1);break;case"HH":e=it($.Hours,2);break;case"m":e=it($.Minutes,1);break;case"mm":e=it($.Minutes,2);break;case"s":e=it($.Seconds,1);break;case"ss":e=it($.Seconds,2);break;case"S":e=it($.FractionalSeconds,1);break;case"SS":e=it($.FractionalSeconds,2);break;case"SSS":e=it($.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=at(Z.Short);break;case"ZZZZZ":e=at(Z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=at(Z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=at(Z.Long);break;default:return null}return ct[t]=e,e}(t);c+=e?e(o,n,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function nt(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function rt(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function it(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var u,s=function(t,e){switch(t){case $.FullYear:return e.getFullYear();case $.Month:return e.getMonth();case $.Date:return e.getDate();case $.Hours:return e.getHours();case $.Minutes:return e.getMinutes();case $.Seconds:return e.getSeconds();case $.FractionalSeconds:return e.getMilliseconds();case $.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o);if((n>0||s>-n)&&(s+=n),t===$.Hours)0===s&&-12===n&&(s=12);else if(t===$.FractionalSeconds)return u=e,rt(s,3).substr(0,u);var l=M(a,E.MinusSign);return rt(s,e,l,r,i)}}function ot(t,e,n,r){return void 0===n&&(n=w.Format),void 0===r&&(r=!1),function(i,o){return function(t,e,n,r,i,o){switch(n){case tt.Months:return A(e,i,r)[t.getMonth()];case tt.Days:return D(e,i,r)[t.getDay()];case tt.DayPeriods:var a=t.getHours(),u=t.getMinutes();if(o){var s,l=B(e),c=q(e,i,r);if(l.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;a>=n.hours&&u>=n.minutes&&(a<i||a===i&&u<r.minutes)&&(s=c[e])}else t.hours===a&&t.minutes===u&&(s=c[e])}),s)return s}return T(e,i,r)[a<12?0:1];case tt.Eras:return O(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function at(t){return function(e,n,r){var i=-1*r,o=M(n,E.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Z.Short:return(i>=0?"+":"")+rt(a,2,o)+rt(Math.abs(i%60),2,o);case Z.ShortGMT:return"GMT"+(i>=0?"+":"")+rt(a,1,o);case Z.Long:return"GMT"+(i>=0?"+":"")+rt(a,2,o)+":"+rt(Math.abs(i%60),2,o);case Z.Extended:return 0===r?"Z":(i>=0?"+":"")+rt(a,2,o)+":"+rt(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}var ut=0,st=4;function lt(t,e){return void 0===e&&(e=!1),function(n,r){var i,o,a,u;if(e){var s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();i=1+Math.floor((l+s)/7)}else{var c=(a=n.getFullYear(),u=new Date(a,ut,1).getDay(),new Date(a,0,1+(u<=st?st:st+7)-u)),h=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(st-o.getDay()))).getTime()-c.getTime();i=1+Math.round(h/6048e5)}return rt(i,t,M(r,E.MinusSign))}}var ct={};function ht(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ft(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,u=Number(t[5]||0)-r,s=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,u,s,l),e}function dt(t){return t instanceof Date&&!isNaN(t.valueOf())}var pt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,vt=22,gt=".",yt="0",mt=";",bt=",",wt="#",_t="\xa4",Ct="%";function Et(t,e,n,r,i,o,a){void 0===a&&(a=!1);var u="",s=!1;if(isFinite(t)){var l=function(e){var n,r,i,o,a,u=Math.abs(t)+"",s=0;for((r=u.indexOf(gt))>-1&&(u=u.replace(gt,"")),(i=u.search(/e/i))>0?(r<0&&(r=i),r+=+u.slice(i+1),u=u.substring(0,i)):r<0&&(r=u.length),i=0;u.charAt(i)===yt;i++);if(i===(a=u.length))n=[0],r=1;else{for(a--;u.charAt(a)===yt;)a--;for(r-=i,n=[],o=0;i<=a;i++,o++)n[o]=Number(u.charAt(i))}return r>vt&&(n=n.splice(0,vt-1),s=r-1,r=1),{digits:n,exponent:s,integerLen:r}}();a&&(l=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));var c=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){var d=o.match(pt);if(null===d)throw new Error(o+" is not a valid digit info");var p=d[1],v=d[3],g=d[5];null!=p&&(c=At(p)),null!=v&&(h=At(v)),null!=g?f=At(g):null!=v&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,u=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var s=a;s<r.length;s++)r[s]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var l=1;l<a;l++)r[l]=0}if(u>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=e+t.integerLen,d=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),e>=10?1:0},0);d&&(r.unshift(d),t.integerLen++)}(l,h,f);var y=l.digits,m=l.integerLen,b=l.exponent,w=[];for(s=y.every(function(t){return!t});m<c;m++)y.unshift(0);for(;m<0;m++)y.unshift(0);m>0?w=y.splice(m,y.length):(w=y,y=[0]);var _=[];for(y.length>=e.lgSize&&_.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)_.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&_.unshift(y.join("")),u=_.join(M(n,r)),w.length&&(u+=M(n,i)+w.join("")),b&&(u+=M(n,E.Exponential)+"+"+b)}else u=M(n,E.Infinity);return t<0&&!s?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function St(t,e,n,r,i){var o=Dt(F(e,m.Currency),M(e,E.MinusSign));return o.minFrac=W(r),o.maxFrac=o.minFrac,Et(t,o,e,E.CurrencyGroup,E.CurrencyDecimal,i).replace(_t,n).replace(_t,"")}function It(t,e,n){return Et(t,Dt(F(e,m.Percent),M(e,E.MinusSign)),e,E.Group,E.Decimal,n,!0).replace(new RegExp(Ct,"g"),M(e,E.PercentSign))}function Tt(t,e,n){return Et(t,Dt(F(e,m.Decimal),M(e,E.MinusSign)),e,E.Group,E.Decimal,n)}function Dt(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(mt),i=r[0],o=r[1],a=-1!==i.indexOf(gt)?i.split(gt):[i.substring(0,i.lastIndexOf(yt)+1),i.substring(i.lastIndexOf(yt)+1)],u=a[0],s=a[1]||"";n.posPre=u.substr(0,u.indexOf(wt));for(var l=0;l<s.length;l++){var c=s.charAt(l);c===yt?n.minFrac=n.maxFrac=l+1:c===wt?n.maxFrac=l+1:n.posSuf+=c}var h=u.split(bt);if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(wt);n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function At(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var Ot=new r.InjectionToken("UseV4Plurals"),kt=function(){return function(){}}();function Nt(t,e,n,r){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}var xt=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(i.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):V(e||this.locale)(t)){case b.Zero:return"zero";case b.One:return"one";case b.Two:return"two";case b.Few:return"few";case b.Many:return"many";default:return"other"}},e}(kt);function Pt(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),u=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?b.One:b.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?b.One:b.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?b.One:b.Other;case"ar":return 0===n?b.Zero:1===n?b.One:2===n?b.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?b.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?b.Many:b.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?b.One:b.Other;case"be":return n%10==1&&n%100!=11?b.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?b.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?b.Many:b.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?b.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?b.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?b.Few:0!==n&&n%1e6==0?b.Many:b.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||a%10==1&&a%100!=11?b.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?b.Few:b.Other;case"cs":case"sk":return 1===i&&0===o?b.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?b.Few:0!==o?b.Many:b.Other;case"cy":return 0===n?b.Zero:1===n?b.One:2===n?b.Two:3===n?b.Few:6===n?b.Many:b.Other;case"da":return 1===n||0!==u&&(0===i||1===i)?b.One:b.Other;case"dsb":case"hsb":return 0===o&&i%100==1||a%100==1?b.One:0===o&&i%100==2||a%100==2?b.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?b.Few:b.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?b.One:b.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&a%10!=4&&a%10!=6&&a%10!=9?b.One:b.Other;case"ga":return 1===n?b.One:2===n?b.Two:n===Math.floor(n)&&n>=3&&n<=6?b.Few:n===Math.floor(n)&&n>=7&&n<=10?b.Many:b.Other;case"gd":return 1===n||11===n?b.One:2===n||12===n?b.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?b.Few:b.Other;case"gv":return 0===o&&i%10==1?b.One:0===o&&i%10==2?b.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?b.Many:b.Other:b.Few;case"he":return 1===i&&0===o?b.One:2===i&&0===o?b.Two:0!==o||n>=0&&n<=10||n%10!=0?b.Other:b.Many;case"is":return 0===u&&i%10==1&&i%100!=11||0!==u?b.One:b.Other;case"ksh":return 0===n?b.Zero:1===n?b.One:b.Other;case"kw":case"naq":case"se":case"smn":return 1===n?b.One:2===n?b.Two:b.Other;case"lag":return 0===n?b.Zero:0!==i&&1!==i||0===n?b.Other:b.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?b.Few:0!==a?b.Many:b.Other:b.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?b.Zero:n%10==1&&n%100!=11||2===o&&a%10==1&&a%100!=11||2!==o&&a%10==1?b.One:b.Other;case"mk":return 0===o&&i%10==1||a%10==1?b.One:b.Other;case"mt":return 1===n?b.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?b.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?b.Many:b.Other;case"pl":return 1===i&&0===o?b.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?b.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?b.Many:b.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?b.One:b.Other;case"ro":return 1===i&&0===o?b.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?b.Few:b.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?b.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?b.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?b.Many:b.Other;case"shi":return 0===i||1===n?b.One:n===Math.floor(n)&&n>=2&&n<=10?b.Few:b.Other;case"si":return 0===n||1===n||0===i&&1===a?b.One:b.Other;case"sl":return 0===o&&i%100==1?b.One:0===o&&i%100==2?b.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?b.Few:b.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?b.One:b.Other;default:return b.Other}}function Rt(t,e){var n,r;e=encodeURIComponent(e);try{for(var o=Object(i.__values)(t.split(";")),a=o.next();!a.done;a=o.next()){var u=a.value,s=u.indexOf("="),l=Object(i.__read)(-1==s?[u,""]:[u.slice(0,s),u.slice(s+1)],2),c=l[1];if(l[0].trim()===e)return decodeURIComponent(c)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var Mt=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r["\u0275stringify"])(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),Ft=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var i=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(i,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}(),Lt=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),jt=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Lt(null,e._ngForOf,-1,-1),i),a=new Vt(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new Vt(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),Vt=function(){return function(t,e){this.record=t,this.view=e}}(),Ut=function(){function t(t,e){this._viewContainer=t,this._context=new Bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){qt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){qt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),Bt=function(){return function(){this.$implicit=null,this.ngIf=null}}();function qt(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r["\u0275stringify"])(e)+"'.")}var Ht=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),zt=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},t}(),Kt=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Ht(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}(),Gt=function(){return function(t,e,n){n._addDefault(new Ht(t,e))}}(),Qt=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=Nt(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}(),Wt=function(){return function(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new Ht(n,e))}}(),Yt=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=Object(i.__read)(t.split("."),2),r=n[0],o=n[1];null!=(e=null!=e&&o?""+e+o:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},t}(),Jt=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,r=Object.keys(t.previousValue||{}),o=Object.keys(t.currentValue||{});if(r.length===o.length){try{for(var a=Object(i.__values)(o),u=a.next();!u.done;u=a.next())if(-1===r.indexOf(u.value))return!0}catch(s){e={error:s}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){var e,n;try{for(var r=Object(i.__values)(Object.keys(t)),o=r.next();!o.done;o=r.next()){var a=o.value;this._viewRef.context[a]=this.ngTemplateOutletContext[a]}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t}(),Xt=[Mt,Ft,jt,Ut,Jt,Yt,zt,Kt,Gt,Qt,Wt];function Zt(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(r["\u0275stringify"])(t)+"'")}var $t=function(){function t(){}return t.format=function(t,e,n,r){void 0===r&&(r={});var i=r.currency,o=r.currencyAsSymbol,a=void 0!==o&&o,u={minimumIntegerDigits:r.minimumIntegerDigits,minimumFractionDigits:r.minimumFractionDigits,maximumFractionDigits:r.maximumFractionDigits,style:m[n].toLowerCase()};return n==m.Currency&&(u.currency="string"==typeof i?i:void 0,u.currencyDisplay=a?"symbol":"code"),new Intl.NumberFormat(e,u).format(t)},t}(),te=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,ee={yMMMdjms:fe(he([le("year",1),ce("month",3),le("day",1),le("hour",1),le("minute",1),le("second",1)])),yMdjm:fe(he([le("year",1),le("month",1),le("day",1),le("hour",1),le("minute",1)])),yMMMMEEEEd:fe(he([le("year",1),ce("month",4),ce("weekday",4),le("day",1)])),yMMMMd:fe(he([le("year",1),ce("month",4),le("day",1)])),yMMMd:fe(he([le("year",1),ce("month",3),le("day",1)])),yMd:fe(he([le("year",1),le("month",1),le("day",1)])),jms:fe(he([le("hour",1),le("second",1),le("minute",1)])),jm:fe(he([le("hour",1),le("minute",1)]))},ne={yyyy:fe(le("year",4)),yy:fe(le("year",2)),y:fe(le("year",1)),MMMM:fe(ce("month",4)),MMM:fe(ce("month",3)),MM:fe(le("month",2)),M:fe(le("month",1)),LLLL:fe(ce("month",4)),L:fe(ce("month",1)),dd:fe(le("day",2)),d:fe(le("day",1)),HH:re(oe(fe(se(le("hour",2),!1)))),H:oe(fe(se(le("hour",1),!1))),hh:re(oe(fe(se(le("hour",2),!0)))),h:oe(fe(se(le("hour",1),!0))),jj:fe(le("hour",2)),j:fe(le("hour",1)),mm:re(fe(le("minute",2))),m:fe(le("minute",1)),ss:re(fe(le("second",2))),s:fe(le("second",1)),sss:fe(le("second",3)),EEEE:fe(ce("weekday",4)),EEE:fe(ce("weekday",3)),EE:fe(ce("weekday",2)),E:fe(ce("weekday",1)),a:ie(fe(se(le("hour",1),!0))),Z:ue("short"),z:ue("long"),ww:fe({}),w:fe({}),G:fe(ce("era",1)),GG:fe(ce("era",2)),GGG:fe(ce("era",3)),GGGG:fe(ce("era",4))};function re(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function ie(t){return function(e,n){return t(e,n).split(" ")[1]}}function oe(t){return function(e,n){return t(e,n).split(" ")[0]}}function ae(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function ue(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=ae(t,n,e);return r?r.substring(3):""}}function se(t,e){return t.hour12=e,t}function le(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function ce(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function he(t){return t.reduce(function(t,e){return Object(i.__assign)({},t,e)},{})}function fe(t){return function(e,n){return ae(e,n,t)}}var de=new Map,pe=function(){function t(){}return t.format=function(t,e,n){return function(t,e,n){var r=ee[t];if(r)return r(e,n);var i=t,o=de.get(i);if(!o){o=[];var a=void 0;te.exec(t);for(var u=t;u;)(a=te.exec(u))?u=(o=o.concat(a.slice(1))).pop():(o.push(u),u=null);de.set(i,o)}return o.reduce(function(t,r){var i=ne[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)},t}(),ve=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;var r;if("string"==typeof t&&(t=t.trim()),ge(t))r=t;else if(isNaN(t-parseFloat(t)))if("string"==typeof t&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var o=Object(i.__read)(t.split("-").map(function(t){return parseInt(t,10)}),3);r=new Date(o[0],o[1]-1,o[2])}else r=new Date(t);else r=new Date(parseFloat(t));if(!ge(r)){var a=void 0;if("string"!=typeof t||!(a=t.match(Y)))throw Zt(e,t);r=ft(a)}return pe.format(r,this._locale,e._ALIASES[n]||n)},t._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},t}();function ge(t){return t instanceof Date&&!isNaN(t.valueOf())}function ye(t,e,n,r,i,o,a){if(void 0===o&&(o=null),void 0===a&&(a=!1),null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw Zt(t,n);var u,s,l;if(r!==m.Currency&&(u=1,s=0,l=3),i){var c=i.match(pt);if(null===c)throw new Error(i+" is not a valid digit info for number pipes");null!=c[1]&&(u=At(c[1])),null!=c[3]&&(s=At(c[3])),null!=c[5]&&(l=At(c[5]))}return $t.format(n,e,r,{minimumIntegerDigits:u,minimumFractionDigits:s,maximumFractionDigits:l,currency:o,currencyAsSymbol:a})}var me=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){return ye(e,this._locale,t,m.Decimal,n)},t}(),be=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){return ye(e,this._locale,t,m.Percent,n)},t}(),we=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),ye(e,this._locale,t,m.Currency,i,n,r)},t}(),_e=[me,be,we,ve],Ce=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),Ee=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),Se=new Ce,Ie=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var e;return e=t,t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(t){if(Object(r["\u0275isPromise"])(t))return Ee;if(Object(r["\u0275isObservable"])(t))return Se;throw Zt(e,t)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),Te=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw Zt(e,t);return t.toLowerCase()},t}(),De=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,Ae=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw Zt(e,t);return t.replace(De,function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()})},t}(),Oe=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw Zt(e,t);return t.toUpperCase()},t}(),ke=function(){function t(t){this.locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;try{return et(t,n,i||this.locale,r)}catch(o){throw Zt(e,o.message)}},t}(),Ne=/#/g,xe=function(){function t(t){this._localization=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw Zt(e,n);return n[Nt(t,Object.keys(n),this._localization,r)].replace(Ne,t.toString())},t}(),Pe=function(){function t(){}var e;return e=t,t.prototype.transform=function(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw Zt(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""},t}(),Re=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}(),Me=function(){function t(t){this.differs=t,this.keyValues=[]}return t.prototype.transform=function(t,e){var n=this;if(void 0===e&&(e=Fe),!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var r=this.differ.diff(t);return r&&(this.keyValues=[],r.forEachItem(function(t){n.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues},t}();function Fe(t,e){var n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var Le=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(Ue(t))return null;r=r||this._locale;try{return Tt(Be(t),r,n)}catch(i){throw Zt(e,i.message)}},t}(),je=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(Ue(t))return null;r=r||this._locale;try{return It(Be(t),r,n)}catch(i){throw Zt(e,i.message)}},t}(),Ve=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i,o){if(void 0===r&&(r="symbol"),Ue(t))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var a=n||"USD";"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?G(a,"symbol"===r?"wide":"narrow",o):r);try{return St(Be(t),o,a,n,i)}catch(u){throw Zt(e,u.message)}},t}();function Ue(t){return null==t||""===t||t!=t}function Be(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}var qe=function(){function t(){}var e;return e=t,t.prototype.transform=function(t,n,r){if(null==t)return t;if(!this.supports(t))throw Zt(e,t);return t.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}(),He=[Ie,Oe,Te,Re,qe,Le,je,Ae,Ve,ke,xe,Pe,Me],ze=function(){return function(){}}(),Ke=function(){return function(){}}(),Ge=new r.InjectionToken("DocumentToken"),Qe="browser",We="server",Ye="browserWorkerApp",Je="browserWorkerUi";function Xe(t){return t===Qe}function Ze(t){return t===We}function $e(t){return t===Ye}function tn(t){return t===Je}var en=new r.Version("7.2.14"),nn=function(){function t(){}return t.ngInjectableDef=Object(r.defineInjectable)({providedIn:"root",factory:function(){return new rn(Object(r.inject)(Ge),window,Object(r.inject)(r.ErrorHandler))}}),t}(),rn=function(){function t(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),on=function(){function t(){}return t.prototype.setOffset=function(t){},t.prototype.getScrollPosition=function(){return[0,0]},t.prototype.scrollToPosition=function(t){},t.prototype.scrollToAnchor=function(t){},t.prototype.setHistoryScrollRestoration=function(t){},t}()},IutQ:function(t,e,n){var r=n("t5mC"),i=n("9Nts");t.exports=function(t){return r(i(t))}},JIMt:function(t,e,n){var r=n("kpns"),i=n("ysHE").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},JKJi:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xTla"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},JpPu:function(t,e,n){var r=n("nJQW");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},JzIs:function(t,e,n){var r=n("lb/b"),i=n("TIpl"),o=n("bcPd"),a=n("Q2Kg");t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),u=r.length,s=0;u>s;)i.f(t,n=r[s++],e[n]);return t}},K8G7:function(t,e,n){"use strict";var r=n("IutQ"),i=n("gJLK"),o=n("0i0S"),a=n("LX9C"),u=n("stQs"),s=a.set,l=a.getterFor("Array Iterator");t.exports=u(Array,"Array",function(t,e){s(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},K9Ia:function(t,e,n){"use strict";var r=n("mrSG"),i=n("6blF"),o=n("FFOo"),a=n("pugT"),u=n("8g8A"),s=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),l=n("L/V9");n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var c=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.__extends(e,t),e}(o.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.__extends(e,t),e.prototype[l.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new u.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new u.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new u.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new u.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new u.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new s(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.a),f=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},KaSA:function(t,e,n){t.exports=n("uzDk")},Ksdp:function(t,e,n){var r=n("GrVo");n("pSMy")({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},LX9C:function(t,e,n){var r,i,o,a=n("BloW"),u=n("kpns"),s=n("wBs/"),l=n("57wU"),c=n("qBi7"),h=n("vcTx"),f=n("ysHE").WeakMap;if(a){var d=new f,p=d.get,v=d.has,g=d.set;r=function(t,e){return g.call(d,t,e),e},i=function(t){return p.call(d,t)||{}},o=function(t){return v.call(d,t)}}else{var y=c("state");h[y]=!0,r=function(t,e){return s(t,y,e),e},i=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},McSo:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,"a",function(){return r})},MfhB:function(t,e,n){var r=n("ysHE"),i=n("nX7E"),o=r["__core-js_shared__"]||i("__core-js_shared__",{});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.1",mode:n("U5J1")?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},MuAL:function(t,e,n){n("q94Q")("toPrimitive")},Q2Kg:function(t,e,n){var r=n("2w5C"),i=n("o9j8");t.exports=Object.keys||function(t){return r(t,i)}},QURa:function(t,e,n){n("q94Q")("patternMatch")},QvOV:function(t,e,n){var r=n("YCU0"),i=Object.prototype;r!==i.toString&&n("1f/i")(i,"toString",r,{unsafe:!0})},S1nX:function(t,e,n){"use strict";var r=n("mrSG"),i=n("K9Ia"),o=n("6blF"),a=n("FFOo"),u=n("pugT");function s(){return function(t){return t.lift(new l(t))}}var l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(a.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new u.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed?(this._connection=null,t=u.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return s()(this)},e}(o.a).prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);function p(){return new i.a}function v(){return function(t){return s()((e=p,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",function(){return v})},S4gH:function(t,e,n){var r=n("TIpl").f,i=n("57wU"),o=n("aXXJ")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DKTb"),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},S5sp:function(t,e,n){t.exports=!n("0HDe")(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},SAp2:function(t,e,n){var r=n("9Nts");t.exports=function(t){return Object(r(t))}},SIcJ:function(t,e,n){var r=n("Q2Kg"),i=n("fw2a"),o=n("iCuu");t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,u=n(t),s=o.f,l=0;u.length>l;)s.call(t,a=u[l++])&&e.push(a);return e}},T3Qk:function(t,e,n){n("q0E7"),n("//qW"),n("spD4"),t.exports=n("ahhG").f("iterator")},TIpl:function(t,e,n){var r=n("lb/b"),i=n("a0i3"),o=n("bcPd"),a=n("ehg7"),u=Object.defineProperty;e.f=r?u:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return u(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},U4hp:function(t,e,n){"use strict";var r=n("ehg7"),i=n("TIpl"),o=n("2Hee");t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},U5J1:function(t,e){t.exports=!1},Uv6z:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=u(t),e=s(e);var n=this.map[t];this.map[t]=n?n+","+e:e},c.prototype.delete=function(t){delete this.map[u(t)]},c.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},c.prototype.set=function(t,e){this.map[u(t)]=s(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),l(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),l(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},v.call(g.prototype),v.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];m.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=g,t.Response=m,t.fetch=function(t,n){return new Promise(function(r,i){var o=new g(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL"),r(new m("response"in a?a.response:a.responseText,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function d(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t,e,n,r=h(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=f(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t,e){var n,r,i=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function m(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},WBJg:function(t,e,n){n("pSMy")({target:"String",proto:!0},{repeat:n("nsc/")})},Wcq6:function(t,e,n){"use strict";n("lcbw");var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},XCog:function(t,e,n){var r=n("0Bu/");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(i){}return function(n,i){return r(n,i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},YCU0:function(t,e,n){"use strict";var r=n("ZrEc"),i={};i[n("aXXJ")("toStringTag")]="z",t.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},YxH6:function(t,e,n){"use strict";var r,i,o,a=n("0idE"),u=n("wBs/"),s=n("57wU"),l=n("U5J1"),c=n("aXXJ")("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):h=!0),null==r&&(r={}),l||s(r,c)||u(r,c,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},ZPxF:function(t,e,n){n("S4gH")(n("ysHE").JSON,"JSON",!0)},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("psW0"),i=n("mChF");function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},ZrEc:function(t,e,n){var r=n("hdqJ"),i=n("aXXJ")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},"a+hM":function(t,e,n){var r=n("57wU"),i=n("ySdl"),o=n("pYsU"),a=n("TIpl");t.exports=function(t,e){for(var n=i(e),u=a.f,s=o.f,l=0;l<n.length;l++){var c=n[l];r(t,c)||u(t,c,s(e,c))}}},a0i3:function(t,e,n){t.exports=!n("lb/b")&&!n("0HDe")(function(){return 7!=Object.defineProperty(n("JIMt")("div"),"a",{get:function(){return 7}}).a})},aVep:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlashMessage=function(){function t(e,n,r,i){this.id=t.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,e&&(this.text=e),n&&(this.cssClass=n),r&&(this.closeOnClick=r),i&&(this.showCloseBtn=i)}return t.nextId=0,t}()},aXXJ:function(t,e,n){var r=n("MfhB")("wks"),i=n("ptKZ"),o=n("ysHE").Symbol,a=n("mk1t");t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}},ahhG:function(t,e,n){e.f=n("aXXJ")},b2LF:function(t,e,n){n("q94Q")("hasInstance")},bcPd:function(t,e,n){var r=n("kpns");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},bvlS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("hozL");e.FlashMessagesModule=r.FlashMessagesModule;var i=n("hxUH");e.FlashMessagesService=i.FlashMessagesService},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},d8cw:function(t,e,n){"use strict";var r=n("vQkR")(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n("pSMy")({target:"Array",proto:!0,forced:i},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("gJLK")("find")},dYkh:function(t,e,n){n("q94Q")("search")},dstF:function(t,e,n){n("q94Q")("replace")},ehBJ:function(t,e,n){n("73IE"),t.exports=n("vLVD")("String","startsWith")},ehg7:function(t,e,n){var r=n("kpns");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},fw2a:function(t,e){e.f=Object.getOwnPropertySymbols},g7Su:function(t,e,n){var r=n("0HDe"),i=n("aXXJ")("species");t.exports=function(t){return!r(function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},gIEr:function(t,e,n){n("q94Q")("species")},gJLK:function(t,e,n){var r=n("aXXJ")("unscopables"),i=n("tzov"),o=n("wBs/"),a=Array.prototype;null==a[r]&&o(a,r,i(null)),t.exports=function(t){a[r][t]=!0}},hEy5:function(t,e,n){var r=n("FnXw"),i=n("9Nts");t.exports=function(t,e,n){if(r(e))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(i(t))}},hdqJ:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},hozL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),i=n("Ip0R"),o=n("05FD"),a=n("hxUH");e.FlashMessagesModule=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[a.FlashMessagesService]}},t.decorators=[{type:r.NgModule,args:[{imports:[i.CommonModule],declarations:[o.FlashMessagesComponent],exports:[o.FlashMessagesComponent],providers:[]}]}],t}()},hxUH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG");e.FlashMessagesService=function(){function t(){}return t.decorators=[{type:r.Injectable}],t}()},iCuu:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},k2qa:function(t,e,n){var r=n("hdqJ");t.exports=Array.isArray||function(t){return"Array"==r(t)}},kpns:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"lb/b":function(t,e,n){t.exports=!n("0HDe")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},lcbw:function(t,e,n){"use strict";n.r(e),n("Uv6z"),n("pZxE"),n("9r11"),n("KaSA"),n("z5Af"),n("o/0F"),n("AzFY"),n("y2cN"),n("7xuS")},luCB:function(t,e,n){n("q94Q")("split")},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},mKQw:function(t,e,n){var r=n("0HDe"),i=/#|\.prototype\./,o=function(t,e){var n=u[a(t)];return n==l||n!=s&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=o.data={},s=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},mk1t:function(t,e,n){t.exports=!n("0HDe")(function(){return!String(Symbol())})},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return u}),n.d(e,"__param",function(){return s}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return v}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return m}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return _}),n.d(e,"__importDefault",function(){return C});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function u(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function s(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{s(r.next(t))}catch(e){o(e)}}function u(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||u(t,e)})})}function u(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(s,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function s(t){u("next",t)}function l(t){u("throw",t)}function c(t,e){t(e),o.shift(),o.length&&u(o[0][0],o[0][1])}}function m(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},nJQW:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},nX7E:function(t,e,n){var r=n("ysHE"),i=n("wBs/");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},"nsc/":function(t,e,n){"use strict";var r=n("JKJi"),i=n("9Nts");t.exports="".repeat||function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},"o/0F":function(t,e,n){t.exports=n("ehBJ")},o9j8:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},pSMy:function(t,e,n){var r=n("ysHE"),i=n("pYsU").f,o=n("wBs/"),a=n("1f/i"),u=n("nX7E"),s=n("a+hM"),l=n("mKQw");t.exports=function(t,e){var n,c,h,f,d,p=t.target,v=t.global,g=t.stat;if(n=v?r:g?r[p]||u(p,{}):(r[p]||{}).prototype)for(c in e){if(f=e[c],h=t.noTargetGet?(d=i(n,c))&&d.value:n[c],!l(v?c:p+(g?".":"#")+c,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;s(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),a(n,c,f,t)}}},pYsU:function(t,e,n){var r=n("lb/b"),i=n("iCuu"),o=n("2Hee"),a=n("IutQ"),u=n("ehg7"),s=n("57wU"),l=n("a0i3"),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=a(t),e=u(e,!0),l)try{return c(t,e)}catch(n){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},pZxE:function(t,e,n){"use strict";function r(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}var i=setTimeout;function o(){}function a(t){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function u(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void l(e.promise,i)}s(e.promise,r)}else(1===t._state?s:l)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void f((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(o){l(t,o)}var r,i}function l(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&a._immediateFn(function(){t._handled||a._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)u(t,t._deferreds[e]);t._deferreds=null}function h(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,l(e,t))})}catch(r){if(n)return;n=!0,l(e,r)}}a.prototype.catch=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var n=new this.constructor(o);return u(this,new h(t,e,n)),n},a.prototype.finally=r,a.all=function(t){return new a(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){o(t,e)},n)}r[t]=a,0==--i&&e(r)}catch(s){n(s)}}for(var a=0;a<r.length;a++)o(a,r[a])})},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a(function(e){e(t)})},a.reject=function(t){return new a(function(e,n){n(t)})},a.race=function(t){return new a(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},a._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){i(t,0)},a._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var d=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in d?d.Promise.prototype.finally||(d.Promise.prototype.finally=r):d.Promise=a},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),a=n("rPjj"),u=n("67Y/"),s=n("0/uQ");function l(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(l(function(n,r){return Object(s.a)(t(n,r)).pipe(Object(u.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project,this.concurrent))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},ptKZ:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},pugT:function(t,e,n){"use strict";var r,i=n("isby"),o=n("McSo"),a=n("2Bdj"),u={e:{}};function s(){try{return r.apply(this,arguments)}catch(t){return u.e=t,u}}function l(t){return r=t,s}function c(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);var h=c;n.d(e,"a",function(){return f});var f=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,s=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,p=r?r.length:0;n;)n.remove(this),n=++f<p&&r[f]||null;if(Object(a.a)(s)&&l(s).call(this)===u&&(e=!0,t=t||(u.e instanceof h?d(u.e.errors):[u.e])),Object(i.a)(c))for(f=-1,p=c.length;++f<p;){var v=c[f];if(Object(o.a)(v)&&l(v.unsubscribe).call(v)===u){e=!0,t=t||[];var g=u.e;g instanceof h?t=t.concat(d(g.errors)):t.push(g)}}if(e)throw new h(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function d(t){return t.reduce(function(t,e){return t.concat(e instanceof h?e.errors:e)},[])}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",function(){return i}),n.d(e,"Logger",function(){return u}),n.d(e,"setLogLevel",function(){return s});var r=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),o=i.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function s(t){r.forEach(function(e){e.logLevel=t})}},q0E7:function(t,e,n){n("q94Q")("iterator")},q94Q:function(t,e,n){var r=n("4Ea8"),i=n("57wU"),o=n("ahhG"),a=n("TIpl").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},qBi7:function(t,e,n){var r=n("MfhB")("keys"),i=n("ptKZ");t.exports=function(t){return r[t]||(r[t]=i(t))}},qjh4:function(t,e,n){"use strict";var r=n("lb/b"),i=n("57wU"),o=n("kpns"),a=n("TIpl").f,u=n("a+hM"),s=n("ysHE").Symbol;if(r&&"function"==typeof s&&(!("description"in s.prototype)||void 0!==s().description)){var l={},c=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof c?new s(t):void 0===t?s():s(t);return""===t&&(l[e]=!0),e};u(c,s);var h=c.prototype=s.prototype;h.constructor=c;var f=h.toString,d="Symbol(test)"==String(s("test")),p=/^Symbol\((.*)\)[^)]+$/;a(h,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=f.call(t);if(i(l,t))return"";var n=d?e.slice(7,-1):e.replace(p,"$1");return""===n?void 0:n}}),n("pSMy")({global:!0,forced:!0},{Symbol:c})}},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},rZEa:function(t,e,n){"use strict";var r=n("k2qa"),i=n("kpns"),o=n("SAp2"),a=n("H6ty"),u=n("U4hp"),s=n("rhCS"),l=n("aXXJ")("isConcatSpreadable"),c=!n("0HDe")(function(){var t=[];return t[l]=!1,t.concat()[0]!==t}),h=n("g7Su")("concat"),f=function(t){if(!i(t))return!1;var e=t[l];return void 0!==e?!!e:r(t)},d=!c||!h;n("pSMy")({target:"Array",proto:!0,forced:d},{concat:function(t){var e,n,r,i,l,c=o(this),h=s(c,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(f(l=-1===e?c:arguments[e])){if(d+(i=a(l.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,d++)n in l&&u(h,d,l[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(h,d++,l)}return h.length=d,h}})},rhCS:function(t,e,n){var r=n("kpns"),i=n("k2qa"),o=n("aXXJ")("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},rs5h:function(t,e,n){var r=n("ysHE").document;t.exports=r&&r.documentElement},spD4:function(t,e,n){var r=n("1VRj"),i=n("K8G7"),o=n("ysHE"),a=n("wBs/"),u=n("aXXJ"),s=u("iterator"),l=u("toStringTag"),c=i.values;for(var h in r){var f=o[h],d=f&&f.prototype;if(d){if(d[s]!==c)try{a(d,s,c)}catch(v){d[s]=c}if(d[l]||a(d,l,h),r[h])for(var p in i)if(d[p]!==i[p])try{a(d,p,i[p])}catch(v){d[p]=i[p]}}}},stQs:function(t,e,n){"use strict";var r=n("pSMy"),i=n("A9d8"),o=n("0idE"),a=n("XCog"),u=n("S4gH"),s=n("wBs/"),l=n("1f/i"),c=n("U5J1"),h=n("aXXJ")("iterator"),f=n("0i0S"),d=n("YxH6"),p=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,g=function(){return this};t.exports=function(t,e,n,d,y,m,b){i(n,e,d);var w,_,C,E=function(t){if(t===y&&A)return A;if(!v&&t in T)return T[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",I=!1,T=t.prototype,D=T[h]||T["@@iterator"]||y&&T[y],A=!v&&D||E(y),O="Array"==e&&T.entries||D;if(O&&(w=o(O.call(new t)),p!==Object.prototype&&w.next&&(c||o(w)===p||(a?a(w,p):"function"!=typeof w[h]&&s(w,h,g)),u(w,S,!0,!0),c&&(f[S]=g))),"values"==y&&D&&"values"!==D.name&&(I=!0,A=function(){return D.call(this)}),c&&!b||T[h]===A||s(T,h,A),f[e]=A,y)if(_={values:E("values"),keys:m?A:E("keys"),entries:E("entries")},b)for(C in _)!v&&!I&&C in T||l(T,C,_[C]);else r({target:e,proto:!0,forced:v||I},_);return _}},t5mC:function(t,e,n){var r=n("0HDe"),i=n("hdqJ"),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},tuBy:function(t,e,n){n("WBJg"),t.exports=n("vLVD")("String","repeat")},tzov:function(t,e,n){var r=n("bcPd"),i=n("JzIs"),o=n("o9j8"),a=n("rs5h"),u=n("JIMt"),s=n("qBi7")("IE_PROTO"),l=function(){},c=function(){var t,e=u("iframe"),n=o.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[o[n]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[s]=t):n=c(),void 0===e?n:i(n,e)},n("vcTx")[s]=!0},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("En8+"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},uLJa:function(t,e,n){n("q94Q")("toStringTag")},"uiB+":function(t,e,n){n("q94Q")("isConcatSpreadable")},uzDk:function(t,e,n){n("4mOR"),t.exports=n("vLVD")("Array","findIndex")},vLVD:function(t,e,n){var r=n("ysHE"),i=n("JpPu"),o=Function.call;t.exports=function(t,e,n){return i(o,r[t].prototype[e],n)}},vQkR:function(t,e,n){var r=n("JpPu"),i=n("t5mC"),o=n("SAp2"),a=n("H6ty"),u=n("rhCS");t.exports=function(t,e){var n=1==t,s=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,d=e||u;return function(e,u,p){for(var v,g,y=o(e),m=i(y),b=r(u,p,3),w=a(m.length),_=0,C=n?d(e,w):s?d(e,0):void 0;w>_;_++)if((f||_ in m)&&(g=b(v=m[_],_,y),t))if(n)C[_]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return _;case 2:C.push(v)}else if(c)return!1;return h?-1:l||c?c:C}}},"vb+c":function(t,e,n){n("S4gH")(Math,"Math",!0)},vcTx:function(t,e){t.exports={}},"wBs/":function(t,e,n){var r=n("TIpl"),i=n("2Hee");t.exports=n("lb/b")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("zVF4"),o=((r={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$name}",r["duplicate-app"]="Firebase App named '{$name}' already exists",r["app-deleted"]="Firebase App named '{$name}' already deleted",r["duplicate-service"]="Firebase service named '{$name}' already registered",r["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",r),a=new i.ErrorFactory("app","Firebase",o);function u(t,e){throw a.create(t,e)}var s="[DEFAULT]",l=[],c=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=i.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){l.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){l=l.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=s),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==s?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;i.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(l.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),l=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var h=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},f=!1;try{f="[object process]"===Object.prototype.toString.call(global.process)}catch(p){}f&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');var d=function t(){var e={},n={},r={},o={__esModule:!0,initializeApp:function(t,n){void 0===n&&(n={}),("object"!=typeof n||null===n)&&(n={name:n});var r=n;void 0===r.name&&(r.name=s);var i=r.name;"string"==typeof i&&i||u("bad-app-name",{name:i+""}),h(e,i)&&u("duplicate-app",{name:i});var a=new c(t,r,o);return e[i]=a,f(a,"create"),a},app:a,apps:null,Promise:Promise,SDK_VERSION:"5.10.0",INTERNAL:{registerService:function(t,e,s,h,f){n[t]&&u("duplicate-service",{name:t}),n[t]=e,h&&(r[t]=h,l().forEach(function(t){h("create",t)}));var d=function(e){return void 0===e&&(e=a()),"function"!=typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==s&&i.deepExtend(d,s),o[t]=d,c.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,f?e:[])},d},createFirebaseNamespace:t,extendNamespace:function(t){i.deepExtend(o,t)},createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,removeApp:function(t){f(e[t],"delete"),delete e[t]},factories:n,useAsService:d,Promise:Promise,deepExtend:i.deepExtend}};function a(t){return h(e,t=t||s)||u("no-app",{name:t}),e[t]}function l(){return Object.keys(e).map(function(t){return e[t]})}function f(t,e){Object.keys(n).forEach(function(n){var i=d(0,n);null!==i&&r[i]&&r[i](e,t)})}function d(t,e){return"serverAuth"===e?null:e}return i.patchProperty(o,"default",o),Object.defineProperty(o,"apps",{get:l}),i.patchProperty(a,"App",c),o}();e.default=d,e.firebase=d},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return Qe}),n.d(e,"EventType",function(){return We}),n.d(e,"WebChannel",function(){return Ye}),n.d(e,"XhrIo",function(){return Je}),n.d(e,"createWebChannelTransport",function(){return Ge});var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=i;function u(t){return"string"==typeof t}function s(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function l(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){return"array"==c(t)}function f(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),v=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.re=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function C(){this.i=this.i,this.j=this.j}C.prototype.i=!1,C.prototype.La=function(){!this.i&&(this.i=!0,this.G(),0)&&(this[p]||(this[p]=++v))},C.prototype.G=function(){if(this.j)for(;this.j.length;)this.j.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(u(t))return u(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=u(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function D(t){return/^[\s\xa0]*$/.test(t)}var A,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function k(t,e){return-1!=t.indexOf(e)}function N(t,e){return t<e?-1:t>e?1:0}t:{var x=a.navigator;if(x){var P=x.userAgent;if(P){A=P;break t}}A=""}function R(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function M(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=l;var V,U,B=k(A,"Opera"),q=k(A,"Trident")||k(A,"MSIE"),H=k(A,"Edge"),z=H||q,K=k(A,"Gecko")&&!(k(A.toLowerCase(),"webkit")&&!k(A,"Edge"))&&!(k(A,"Trident")||k(A,"MSIE"))&&!k(A,"Edge"),G=k(A.toLowerCase(),"webkit")&&!k(A,"Edge");function Q(){var t=a.document;return t?t.documentMode:void 0}t:{var W="",Y=(U=A,K?/rv:([^\);]+)(\)|;)/.exec(U):H?/Edge\/([\d\.]+)/.exec(U):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):G?/WebKit\/(\S+)/.exec(U):B?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(Y&&(W=Y?Y[1]:""),q){var J=Q();if(null!=J&&J>parseFloat(W)){V=String(J);break t}}V=W}var X,Z={};function $(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=O(String(V)).split("."),r=O(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",u=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;e=N(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||N(0==a[2].length,0==u[2].length)||N(a[2],u[2]),a=a[3],u=u[3]}while(0==e)}return 0<=e})}var tt=a.document;X=tt&&q?Q()||("CSS1Compat"==tt.compatMode?parseInt(V,10):5):void 0;var et=!q||9<=Number(X),nt=q&&!$("9"),rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(n){}return t}();function it(t,e){this.type=t,this.a=this.target=e,this.b=!1,this.hc=!0}function ot(t,e){it.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.f=null,t&&this.g(t,e)}it.prototype.c=function(){this.hc=!1},_(ot,it);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.g=function(t,e){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=u(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.f=t,t.defaultPrevented&&this.c()},ot.prototype.c=function(){ot.S.c.call(this);var t=this.f;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,nt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ut="closure_listenable_"+(1e6*Math.random()|0),st=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ya=i,this.key=++st,this.ja=this.oa=!1}function ct(t){this.src=t,this.a={},this.b=0}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ja&&o.listener==e&&o.capture==!!n&&o.ya==r)return i}return-1}lt.prototype.a=function(){this.ja=!0,this.ya=this.src=this.proxy=this.listener=null},(r=ct.prototype).add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ht(t,e,r,i);return-1<a?(e=t[a],n||(e.oa=!1)):((e=new lt(e,this.src,o,!!r,i)).oa=n,t.push(e)),e},r.Sc=function(t,e,n,r){if((t=t.toString())in this.a){var i=this.a[t];-1<(e=ht(i,e,n,r))&&(i[e].a(),Array.prototype.splice.call(i,e,1),0==i.length&&(delete this.a[t],this.b--))}},r.fc=function(t){var e=t.type;if(e in this.a){var n,r=this.a[e],i=E(r,t);(n=0<=i)&&Array.prototype.splice.call(r,i,1),n&&(t.a(),0==this.a[e].length&&(delete this.a[e],this.b--))}},r.Tc=function(){var t;for(t in this.a){for(var e=this.a[t],n=0;n<e.length;n++)e[n].a();delete this.a[t],this.b--}},r.Rc=function(t,e,n,r){var i=-1;return(t=this.a[t.toString()])&&(i=ht(t,e,n,r)),-1<i?t[i]:null};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(h(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=_t(r),e&&e[ut]?e.Mb(n,r,d(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(h(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=_t(n),t&&t[ut]?t.Lb(e,n,d(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i;if(a&&!et)return null;var u=bt(t);if(u||(t[ft]=u=new ct(t)),(n=u.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=mt,e=et?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gt(t){if("number"!=typeof t&&t&&!t.ja){var e=t.src;if(e&&e[ut])e.nc(t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bt(e))?(n.fc(t),0==n.b&&(n.src=null,e[ft]=null)):t.a()}}}function yt(t){return t in dt?dt[t]:dt[t]="on"+t}function mt(t,e){return!!t.ja||function(t,e){var n=t.listener,r=t.ya||t.src;return t.oa&&gt(t),n.call(r,e)}(t,et?new ot(e,this):e=new ot(e||s("window.event"),this))}function bt(t){return(t=t[ft])instanceof ct?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(t){return"function"==c(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Ct(){C.call(this),this.c=new ct(this),this.K=this,this.F=null}_(Ct,C),Ct.prototype[ut]=!0,(r=Ct.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(h(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=d(i)?!!i.capture:!!i,r=_t(r),e&&e[ut]?e.Qc(n,r,i,o):e&&(e=bt(e))&&(n=e.Rc(n,r,i,o))&&gt(n)}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.F;if(n)for(e=[];n;n=n.F)e.push(n);n=this.K;var r=t.type||t;if(u(t))t=new it(t,n);else if(t instanceof it)t.target=t.target||n;else{var i=t;L(t=new it(r,n),i)}if(i=!0,e)for(var o=e.length-1;!t.b&&0<=o;o--){var a=t.a=e[o];i=a.ua(r,!0,t)&&i}if(t.b||(i=(a=t.a=n).ua(r,!0,t)&&i,t.b||(i=a.ua(r,!1,t)&&i)),e)for(o=0;!t.b&&o<e.length;o++)i=(a=t.a=e[o]).ua(r,!1,t)&&i;return i},r.G=function(){Ct.S.G.call(this),this.Id(),this.F=null},r.Lb=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Mb=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)},r.Qc=function(t,e,n,r){this.c.Sc(String(t),e,n,r)},r.nc=function(t){this.c.fc(t)},r.Id=function(){this.c&&this.c.Tc()},r.ua=function(t,e,n){if(!(t=this.c.a[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ja&&o.capture==e){var a=o.listener,u=o.ya||o.src;o.oa&&this.nc(o),r=!1!==a.call(u,n)&&r}}return r&&0!=n.hc};var Et=a.JSON.stringify;function St(t,e){this.g=100,this.c=t,this.h=e,this.b=0,this.a=null}function It(){this.b=this.a=null}St.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t},St.prototype.f=function(t){this.h(t),this.b<this.g&&(this.b++,t.next=this.a,this.a=t)};var Tt,Dt=new St(function(){return new At},function(t){t.reset()});function At(){this.next=this.b=this.a=null}function Ot(t){a.setTimeout(function(){throw t},0)}It.prototype.add=function(t,e){var n=this.c();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},It.prototype.f=function(){var t=null;return this.a&&(t=this.a,this.a=this.a.next,this.a||(this.b=null),t.next=null),t},It.prototype.g=function(t){Dt.f(t)},It.prototype.c=function(){return Dt.get()},At.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},At.prototype.reset=function(){this.next=this.b=this.a=null};var kt=!1,Nt=new It;function xt(){for(var t;t=Nt.f();){try{t.a.call(t.b)}catch(e){Ot(e)}Nt.g(t)}kt=!1}function Pt(t,e){Ct.call(this),this.b=t||1,this.a=e||a,this.f=m(this.$d,this),this.g=w()}function Rt(t,e,n){if("function"==c(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Mt(t,e,n){C.call(this),this.f=null!=n?m(t,n):t,this.c=e,this.b=m(this.Cd,this),this.a=[]}function Ft(t){C.call(this),this.b=t,this.a={}}_(Pt,Ct),(r=Pt.prototype).wa=!1,r.P=null,r.$d=function(){if(this.wa){var t=w()-this.g;0<t&&t<.8*this.b?this.P=this.a.setTimeout(this.f,this.b-t):(this.P&&(this.a.clearTimeout(this.P),this.P=null),this.Gc(),this.wa&&(this.Na(),this.start()))}},r.Gc=function(){this.dispatchEvent("tick")},r.start=function(){this.wa=!0,this.P||(this.P=this.a.setTimeout(this.f,this.b),this.g=w())},r.Na=function(){this.wa=!1,this.P&&(this.a.clearTimeout(this.P),this.P=null)},r.G=function(){Pt.S.G.call(this),this.Na(),delete this.a},_(Mt,C),(r=Mt.prototype).Ca=!1,r.ec=0,r.ba=null,r.Hc=function(t){this.a=arguments,this.ba||this.ec?this.Ca=!0:this.yb()},r.Pc=function(){this.ba&&(a.clearTimeout(this.ba),this.ba=null,this.Ca=!1,this.a=[])},r.G=function(){Mt.S.G.call(this),this.Pc()},r.Cd=function(){this.ba=null,this.Ca&&!this.ec&&(this.Ca=!1,this.yb())},r.yb=function(){this.ba=Rt(this.b,this.c),this.f.apply(null,this.a)},_(Ft,C);var Lt=[];function jt(){}(r=Ft.prototype).Jb=function(t,e,n){this.wd(t,e,n)},r.wd=function(t,e,n){h(e)||(e&&(Lt[0]=e.toString()),e=Lt);for(var r=0;r<e.length;r++){var i=pt(t,e[r],n||this.handleEvent,!1,this.b||this);if(!i)break;this.a[i.key]=i}},r.Kb=function(){R(this.a,function(t,e){this.a.hasOwnProperty(e)&&gt(t)},this),this.a={}},r.G=function(){Ft.S.G.call(this),this.Kb()},r.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=new Ct;function Ut(t){it.call(this,"serverreachability",t)}function Bt(t){Vt.dispatchEvent(new Ut(Vt,t))}function qt(t){it.call(this,"statevent",t)}function Ht(t){Vt.dispatchEvent(new qt(Vt,t))}function zt(t){it.call(this,"timingevent",t)}function Kt(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}_(Ut,it),_(qt,it),_(zt,it);var Gt={NO_ERROR:0,ae:1,he:2,ge:3,de:4,fe:5,ie:6,qc:7,TIMEOUT:8,le:9},Qt={ce:"complete",pe:"success",rc:"error",qc:"abort",ne:"ready",oe:"readystatechange",TIMEOUT:"timeout",je:"incrementaldata",me:"progress",ee:"downloadprogress",qe:"uploadprogress"};function Wt(){}function Yt(){}Wt.prototype.a=null,Wt.prototype.c=function(){return this.a||(this.a={})};var Jt,Xt={OPEN:"a",be:"b",rc:"c",ke:"d"};function Zt(){it.call(this,"d")}function $t(){it.call(this,"c")}function te(){}function ee(t,e,n){this.g=t,this.da=e,this.ca=n||1,this.I=new Ft(this),this.L=ne,this.T=new Pt(t=z?125:void 0),this.J=null,this.b=!1,this.i=this.C=this.f=this.F=this.u=this.U=this.h=null,this.j=[],this.a=null,this.A=0,this.c=this.v=null,this.o=-1,this.l=!1,this.K=0,this.B=null,this.s=this.Y=this.H=!1}_(Zt,it),_($t,it),_(te,Wt),te.prototype.b=function(){return new XMLHttpRequest},Jt=new te;var ne=45e3,re={},ie={};function oe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||u(t))S(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.D&&"function"==typeof t.D)n=void 0;else if(f(t)||u(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.D&&"function"==typeof t.D)return t.D();if(u(t))return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.fd(t)}function ue(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=ee.prototype).ha=function(t){this.J=t},r.setTimeout=function(t){this.L=t},r.Xc=function(t){this.K=t},r.Qd=function(t){this.j=t},r.cb=function(t,e){this.F=1,this.f=t.N().za(),this.i=e,this.H=!0,this.ic(null)},r.bb=function(t,e,n){this.F=1,this.f=t.N().za(),this.i=null,this.H=e,this.ic(n)},r.ic=function(t){this.u=w(),this.fa(),this.C=this.f.N(),this.C.Aa("t",this.ca),this.A=0,this.a=this.g.sa(this.g.Da()?t:null),0<this.K&&(this.B=new Mt(m(this.oc,this,this.a),this.K)),this.I.Jb(this.a,"readystatechange",this.Hd),t=this.J?M(this.J):{},this.i?(this.v||(this.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",this.a.xa(this.C,this.v,this.i,t)):(this.v="GET",this.a.xa(this.C,this.v,null,t)),Bt(1)},r.Hd=function(t){t=t.target;var e=this.B;e&&3==t.W()?e.Hc():this.oc(t)},r.oc=function(t){try{t==this.a&&this.Ed()}catch(e){}},r.Ed=function(){var t=this.a.W(),e=this.a.Db(),n=this.a.aa();if(!(3>t||3==t&&!z&&!this.a.va()))if(this.l||4!=t||7==e||Bt(8==e||0>=n?3:2),this.pa(),this.o=n=this.a.aa(),e=this.a.va(),this.b=200==n){if(this.Td()){if(!(n=this.Kc()))return this.b=!1,this.c=3,Ht(12),this.Z(),void this.ta();this.s=!0,this.Wa(n)}this.H?(this.vb(t,e),z&&this.b&&3==t&&this.Yd()):this.Wa(e),4==t&&this.Z(),this.b&&!this.l&&(4==t?this.g.Va(this):(this.b=!1,this.fa()))}else 400==n&&0<e.indexOf("Unknown SID")?(this.c=3,Ht(12)):(this.c=0,Ht(13)),this.Z(),this.ta()},r.Td=function(){return this.Y&&!this.s},r.Kc=function(){if(this.a){var t=this.a.ga("X-HTTP-Initial-Response");if(t&&!D(t))return t}return null},r.Md=function(){this.Y=!0},r.vb=function(t,e){for(var n=!0;!this.l&&this.A<e.length;){var r=this.Lc(e);if(r==ie){4==t&&(this.c=4,Ht(14),n=!1);break}if(r==re){this.c=4,Ht(15),n=!1;break}this.Wa(r)}4==t&&0==e.length&&(this.c=1,Ht(16),n=!1),this.b=this.b&&n,n||(this.Z(),this.ta())},r.Gd=function(){if(this.a){var t=this.a.W(),e=this.a.va();this.A<e.length&&(this.pa(),this.vb(t,e),this.b&&4!=t&&this.fa())}},r.Yd=function(){this.I.Jb(this.T,"tick",this.Gd),this.T.start()},r.Lc=function(t){var e=this.A,n=t.indexOf("\n",e);return-1==n?ie:(e=Number(t.substring(e,n)),isNaN(e)?re:(n+=1)+e>t.length?ie:(t=t.substr(n,e),this.A=n+e,t))},r.Ld=function(t){this.F=2,this.f=t.N().za(),t=!1,a.navigator&&a.navigator.sendBeacon&&(t=a.navigator.sendBeacon(this.f.toString(),"")),!t&&a.Image&&((new Image).src=this.f,t=!0),t||(this.a=this.g.sa(null),this.a.xa(this.f)),this.u=w(),this.fa()},r.cancel=function(){this.l=!0,this.Z()},r.Kd=function(t){t&&this.setTimeout(t),this.h&&(this.pa(),this.fa())},r.fa=function(){this.U=w()+this.L,this.mc(this.L)},r.mc=function(t){if(null!=this.h)throw Error("WatchDog timer not null");this.h=Kt(m(this.Dd,this),t)},r.pa=function(){this.h&&(a.clearTimeout(this.h),this.h=null)},r.Dd=function(){this.h=null;var t=w();0<=t-this.U?this.md():this.mc(this.U-t)},r.md=function(){2!=this.F&&(Bt(3),Ht(17)),this.Z(),this.c=2,this.ta()},r.ta=function(){this.g.Tb()||this.l||this.g.Va(this)},r.Z=function(){this.pa();var t=this.B;t&&"function"==typeof t.La&&t.La(),this.B=null,this.T.Na(),this.I.Kb(),this.a&&(t=this.a,this.a=null,t.abort(),t.La())},r.Wa=function(t){try{this.g.bc(this,t),Bt(4)}catch(e){}},(r=ae.prototype).D=function(){this.Ka();for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.O=function(){return this.Ka(),this.a.concat()},r.Ra=function(t){return ue(this.b,t)},r.hd=function(){return 0==this.c},r.gd=function(){this.b={},this.c=this.a.length=0},r.Qb=function(t){ue(this.b,t)&&(delete this.b[t],this.c--,this.a.length>2*this.c&&this.Ka())},r.Ka=function(){if(this.c!=this.a.length){for(var t=0,e=0;t<this.a.length;){var n=this.a[t];ue(this.b,n)&&(this.a[e++]=n),t++}this.a.length=e}if(this.c!=this.a.length){var r={};for(e=t=0;t<this.a.length;)ue(r,n=this.a[t])||(this.a[e++]=n,r[n]=1),t++;this.a.length=e}},r.get=function(t,e){return ue(this.b,t)?this.b[t]:e},r.set=function(t,e){ue(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.fd=function(t){if(t instanceof ae)for(var e=t.O(),n=0;n<e.length;n++)this.set(e[n],t.get(e[n]));else for(e in t)this.set(e,t[e])},r.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},r.Pb=function(){return new ae(this)};var se=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function le(t,e){var n;this.c=this.i=this.b="",this.h=null,this.j=this.g="",this.f=this.l=!1,t instanceof le?(this.f=void 0!==e?e:t.f,this.ma(t.b),this.$a(t.i),this.ka(t.c),this.la(t.h),this.Ba(t.g),this.Za(t.a.Gb()),this.Ya(t.j)):t&&(n=String(t).match(se))?(this.f=!!e,this.ma(n[1]||"",!0),this.$a(n[2]||"",!0),this.ka(n[3]||"",!0),this.la(n[4]),this.Ba(n[5]||"",!0),this.Za(n[6]||"",!0),this.Ya(n[7]||"",!0)):(this.f=!!e,this.a=new me(null,this.f))}function ce(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function he(t,e,n){return u(t)?(t=encodeURI(t).replace(e,fe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=le.prototype).toString=function(){var t=[],e=this.b;e&&t.push(he(e,de,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(he(e,de,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.Sa()&&"/"!=n.charAt(0)&&t.push("/"),t.push(he(n,"/"==n.charAt(0)?ve:pe,!0))),(n=this.Ic())&&t.push("?",n),(n=this.j)&&t.push("#",he(n,ye)),t.join("")},r.resolve=function(t){var e=this.N(),n=t.qd();n?e.ma(t.b):n=t.rd(),n?e.$a(t.i):n=t.Sa(),n?e.ka(t.c):n=t.od();var r=t.g;if(n)e.la(t.h);else if(n=t.Sb()){if("/"!=r.charAt(0))if(this.Sa()&&!this.Sb())r="/"+r;else{var i=e.g.lastIndexOf("/");-1!=i&&(r=e.g.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(k(i,"./")||k(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var u=i[a++];"."==u?r&&a==i.length&&o.push(""):".."==u?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(u),r=!0)}r=o.join("/")}else r=i}return n?e.Ba(r):n=t.pd(),n?e.Za(t.a.Gb()):n=t.nd(),n&&e.Ya(t.j),e},r.N=function(){return new le(this)},r.ma=function(t,e){this.M(),(this.b=e?ce(t,!0):t)&&(this.b=this.b.replace(/:$/,""))},r.qd=function(){return!!this.b},r.$a=function(t,e){this.M(),this.i=e?ce(t):t},r.rd=function(){return!!this.i},r.ka=function(t,e){this.M(),this.c=e?ce(t,!0):t},r.Sa=function(){return!!this.c},r.la=function(t){if(this.M(),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);this.h=t}else this.h=null},r.od=function(){return null!=this.h},r.Ba=function(t,e){this.M(),this.g=e?ce(t,!0):t},r.Sb=function(){return!!this.g},r.pd=function(){return""!==this.a.toString()},r.Za=function(t,e){this.M(),t instanceof me?(this.a=t,this.a.Oc(this.f)):(e||(t=he(t,ge)),this.a=new me(t,this.f))},r.Ic=function(){return this.a.toString()},r.m=function(t,e){this.M(),this.a.set(t,e)},r.Aa=function(t,e){this.M(),h(e)||(e=[String(e)]),this.a.lc(t,e)},r.Ya=function(t,e){this.M(),this.j=e?ce(t):t},r.nd=function(){return!!this.j},r.za=function(){return this.M(),this.m("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),this},r.M=function(){if(this.l)throw Error("Tried to modify a read-only Uri")};var de=/[#\/\?@]/g,pe=/[#\?:]/g,ve=/[#\?]/g,ge=/[#\?@]/g,ye=/#/g;function me(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function be(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function we(){this.a=this.b=null}function _e(){this.a=new ae}function Ce(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[p]||(t[p]=++v)):e.charAt(0)+t}function Ee(t,e){this.a=t,this.b=e}function Se(t){this.g=t||Ie,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.Ja&&a.Ja.Vb&&a.Ja.Vb()&&a.Ja.Vb().se),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new _e),this.b=null,this.c=[]}(r=me.prototype).V=function(){if(!this.a&&(this.a=new ae,this.b=0,this.c)){var t=this;!function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(this.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})}},r.add=function(t,e){this.V(),this.ia(),t=this.$(t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.Ib=function(t){this.V(),t=this.$(t),this.a.Ra(t)&&(this.ia(),this.b-=this.a.get(t).length,this.a.Qb(t))},r.Hb=function(t){return this.V(),t=this.$(t),this.a.Ra(t)},r.forEach=function(t,e){this.V(),this.a.forEach(function(n,r){S(n,function(n){t.call(e,n,r,this)},this)},this)},r.O=function(){this.V();for(var t=this.a.D(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.D=function(t){this.V();var e=[];if(u(t))this.Hb(t)&&(e=I(e,this.a.get(this.$(t))));else{t=this.a.D();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},r.set=function(t,e){return this.V(),this.ia(),t=this.$(t),this.Hb(t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.D(t)).length?String(t[0]):e},r.lc=function(t,e){this.Ib(t),0<e.length&&(this.ia(),this.a.set(this.$(t),T(e)),this.b+=e.length)},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.D(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},r.ia=function(){this.c=null},r.Gb=function(){var t=new me;return t.c=this.c,this.a&&(t.a=this.a.Pb(),t.b=this.b),t},r.$=function(t){return t=String(t),this.f&&(t=t.toLowerCase()),t},r.Oc=function(t){t&&!this.f&&(this.V(),this.ia(),this.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.Ib(e),this.lc(n,t))},this)),this.f=t},_(function(){},function(){}),(r=be.prototype).R=null,r.Wc=function(t){this.h=t},r.Vc=function(t){this.i=t,t=this.a.Cb(this.i),Ht(3);var e=this.a.H.b;null!=e?(this.f=this.a.Oa(e[0]),this.R=1,this.rb()):(t.Aa("MODE","init"),!this.a.o&&this.a.j&&t.Aa("X-HTTP-Session-Id",this.a.j),this.b=new ee(this,void 0,void 0),this.b.ha(this.h),this.b.bb(t,!1,null),this.R=0)},r.rb=function(){var t=this.a.H.a;if(null!=t)Ht(4),t?(Ht(10),this.a.na(this,!1)):(Ht(11),this.a.na(this,!0));else{this.b=new ee(this,void 0,void 0),this.b.ha(this.h),t=this.a.Bb(this.f,this.i),Ht(4),t.Aa("TYPE","xmlhttp");var e=this.a.j,n=this.a.Fa;e&&n&&t.m(e,n),this.b.bb(t,!1,this.f)}},r.sa=function(t){return this.a.sa(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Tb=function(){return!1},r.bc=function(t,e){if(this.c=t.o,0==this.R)if(this.Uc(t),e){try{var n=this.a.U.a(e)}catch(r){return void this.a.ab(this)}this.f=this.a.Oa(n[0])}else this.a.ab(this);else 1==this.R&&(this.g?Ht(6):"11111"==e?(Ht(5),this.g=!0,this.Ac()&&(this.c=200,this.b.cancel(),Ht(11),this.a.na(this,!0))):(Ht(7),this.g=!1))},r.Va=function(){this.c=this.b.o,this.b.b?0==this.R?(this.R=1,this.rb()):1==this.R&&(this.g?(Ht(11),this.a.na(this,!0)):(Ht(10),this.a.na(this,!1))):(0==this.R?Ht(8):1==this.R&&Ht(9),this.a.ab(this))},r.Uc=function(t){if(!this.a.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");this.l=e||null,this.a.j&&(t=t.ga("X-HTTP-Session-Id"))&&this.a.kc(t)}},r.Da=function(){return this.a.Da()},r.Pa=function(){return this.a.Pa()},r.Ac=function(){return!q||10<=Number(X)},(r=_e.prototype).add=function(t){this.a.set(Ce(t),t)},r.ed=function(t){this.a.Qb(Ce(t))},r.jd=function(){this.a.gd()},r.Rb=function(){return this.a.hd()},r.Ob=function(t){return this.a.Ra(Ce(t))},r.D=function(){return this.a.D()};var Ie=10;function Te(){this.b=this.a=void 0}function De(){this.f=new Te}function Ae(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}(r=Se.prototype).kb=function(t){!this.a&&(k(t,"spdy")||k(t,"quic")||k(t,"h2"))&&(this.f=this.g,this.a=new _e,this.b&&(this.Ha(this.b),this.b=null))},r.Ub=function(){return!!this.b||!!this.a&&this.a.a.c>=this.f},r.Mc=function(){return this.b?1:this.a?this.a.a.c:0},r.Ta=function(t){return this.b?this.b==t:!!this.a&&this.a.Ob(t)},r.Ha=function(t){this.a?this.a.add(t):this.b=t},r.gc=function(t){this.b&&this.b==t?this.b=null:this.a&&this.a.Ob(t)&&this.a.ed(t)},r.cancel=function(){this.c=this.Xb(),this.b?(this.b.cancel(),this.b=null):this.a&&!this.a.Rb()&&(S(this.a.D(),function(t){t.cancel()}),this.a.jd())},r.Xb=function(){if(null!=this.b)return this.c.concat(this.b.j);if(null!=this.a&&!this.a.Rb()){var t=this.c;return S(this.a.D(),function(e){t=t.concat(e.j)}),t}return T(this.c)},r.wc=function(t){this.c=this.c.concat(t)},r.Bc=function(){this.c.length=0},Te.prototype.stringify=function(t){return a.JSON.stringify(t,this.a)},Te.prototype.parse=function(t){return a.JSON.parse(t,this.b)},De.prototype.b=function(t,e,n){var r=n||"";try{oe(t,function(t,n){var i=t;d(t)&&(i=Et(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}},De.prototype.c=function(t,e,n){for(var r=-1;;){var i=["count="+e];-1==r?0<e?i.push("ofs="+(r=t[0].a)):r=0:i.push("ofs="+r);for(var o=!0,a=0;a<e;a++){var u=t[a].a,s=t[a].b;if(0>(u-=r))r=Math.max(0,t[a].a-100),o=!1;else try{this.b(s,i,"req"+u+"_")}catch(l){n&&n(s)}}if(o)return i.join("&")}},De.prototype.a=function(t){return this.f.parse(t)};var Oe=a.JSON.parse;function ke(t){Ct.call(this),this.headers=new ae,this.l=t||null,this.b=!1,this.v=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.o=this.A=!1,this.u=0,this.s=null,this.J=Ne,this.H=this.L=this.I=!1}_(ke,Ct);var Ne="",xe=/^https?$/i,Pe=["POST","PUT"];function Re(t){return"content-type"==t.toLowerCase()}function Me(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}function Fe(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return R(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),u(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return t.m(e,n),t}function Le(t){this.gb=22,this.g=[],this.H=new we,this.da=this.fb=this.C=this.Ea=this.a=this.Fa=this.j=this.ca=this.f=this.J=this.h=null,this.sc=!0,this.zc=this.L=0,this.uc=!!s("internalChannelParams.failFast",t),this.Ga=this.v=this.s=this.l=this.i=this.b=null,this.eb=!0,this.B=this.jb=this.K=-1,this.Y=this.u=this.A=0,this.tc=s("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Fc=s("internalChannelParams.retryDelaySeedMs",t)||1e4,this.pc=s("internalChannelParams.forwardChannelMaxRetries",t)||2,this.ib=s("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.xc=t&&t.te||void 0,this.F=void 0,this.vc=0,this.T=t&&t.supportsCrossDomainXhr||!1,this.I="",this.c=new Se(t&&t.concurrentRequestLimit),this.U=new De,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.hb=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.eb=!1)}function je(){}function Ve(){if(q&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function Ue(t,e){Ct.call(this),this.a=new Le(e),this.g=t,this.o=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.cd(t),t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.tb&&(t?t["X-WebChannel-Client-Profile"]=e.tb:t={"X-WebChannel-Client-Profile":e.tb}),this.a.Pd(t),(t=e&&e.httpHeadersOverwriteParam)&&!D(t)&&this.a.Nd(t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!D(e)&&(this.a.Od(e),null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new He(this)}function Be(t){Zt.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.f=t)?(t=this.f,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function qe(){$t.call(this),this.status=1}function He(t){this.a=t}(r=ke.prototype).Sd=function(t){this.I=t},r.xa=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.Ec(),this.v=this.l?this.l.c():Jt.c(),this.a.onreadystatechange=m(this.ac,this),this.L&&"onprogress"in this.a&&(this.a.onprogress=m(function(t){this.Zb(t,!0)},this),this.a.upload&&(this.a.upload.onprogress=m(this.Zb,this)));try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void this.Ab(o)}t=n||"";var i=this.headers.Pb();r&&oe(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Re,n=t.length,r=u(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:u(t)?t.charAt(e):t[e]}(i.O()),n=a.FormData&&t instanceof a.FormData,!(0<=E(Pe,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.J&&(this.a.responseType=this.J),"withCredentials"in this.a&&this.a.withCredentials!==this.I&&(this.a.withCredentials=this.I);try{this.sb(),0<this.u&&((this.H=function(t){return q&&$(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.u,this.a.ontimeout=m(this.Nb,this)):this.s=Rt(this.Nb,this.u,this)),this.o=!0,this.a.send(t),this.o=!1}catch(o){this.Ab(o)}},r.Ec=function(){return this.l?this.l.b():Jt.b()},r.Nb=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.u+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.Ab=function(t){this.b=!1,this.a&&(this.g=!0,this.a.abort(),this.g=!1),this.f=t,this.h=5,this.xb(),this.qa()},r.xb=function(){this.A||(this.A=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.qa())},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),this.qa(!0)),ke.S.G.call(this)},r.ac=function(){this.i||(this.B||this.o||this.g?this.$b():this.Bd())},r.Bd=function(){this.$b()},r.$b=function(){if(this.b&&void 0!==o&&(!this.v[1]||4!=this.W()||2!=this.aa()))if(this.o&&4==this.W())Rt(this.ac,0,this);else if(this.dispatchEvent("readystatechange"),this.td()){this.b=!1;try{this.vd()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.h=6,this.f=this.Fb()+" ["+this.aa()+"]",this.xb())}finally{this.qa()}}},r.Zb=function(t,e){this.dispatchEvent(Me(t,"progress")),this.dispatchEvent(Me(t,e?"downloadprogress":"uploadprogress"))},r.qa=function(t){if(this.a){this.sb();var e=this.a,n=this.v[0]?l:null;this.v=this.a=null,t||this.dispatchEvent("ready");try{e.onreadystatechange=n}catch(r){}}},r.sb=function(){this.a&&this.H&&(this.a.ontimeout=null),this.s&&(a.clearTimeout(this.s),this.s=null)},r.td=function(){return 4==this.W()},r.vd=function(){var t=this.aa();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}return e||0===t&&!this.ud()},r.ud=function(){var t=String(this.C).match(se)[1]||null;return!t&&a.self&&a.self.location&&(t=(t=a.self.location.protocol).substr(0,t.length-1)),xe.test(t?t.toLowerCase():"")},r.W=function(){return this.a?this.a.readyState:0},r.aa=function(){try{return 2<this.W()?this.a.status:-1}catch(U){return-1}},r.Fb=function(){try{return 2<this.W()?this.a.statusText:""}catch(U){return""}},r.va=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},r.Nc=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Oe(e)}},r.ga=function(t){return this.a?this.a.getResponseHeader(t):null},r.Db=function(){return this.h},r.dd=function(){return u(this.f)?this.f:String(this.f)},(r=Le.prototype).qb=8,r.w=1,r.bd=function(t,e,n){Ht(0),this.Ea=e,this.ca=n||{},this.o&&(this.H.b=[],this.H.a=!1),this.Dc(t)},r.Qa=function(){if(this.lb(),3==this.w){var t=this.L++,e=this.C.N();e.m("SID",this.I),e.m("RID",t),e.m("TYPE","terminate"),this.ea(e),new ee(this,t,void 0).Ld(e)}this.Yb()},r.Dc=function(t){this.v=new be(this),null===this.f&&this.v.Wc(this.h);var e=t;this.f&&this.h&&(e=Fe(t,this.f,this.h)),this.v.Vc(e)},r.Cc=function(){this.C=this.Cb(this.Ea),this.Ma()},r.lb=function(){this.v&&(this.v.abort(),this.v=null),this.a&&(this.a.cancel(),this.a=null),this.l&&(a.clearTimeout(this.l),this.l=null),this.ra(),this.c.cancel(),this.i&&(a.clearTimeout(this.i),this.i=null)},r.cd=function(t){this.h=t},r.Pd=function(t){this.J=t},r.Nd=function(t){this.f=t},r.Od=function(t){this.j=t},r.kc=function(t){this.Fa=t},r.Rd=function(){this.T=!0},r.jc=function(t){this.b=t},r.sd=function(){return!this.Ga},r.Xa=function(t){this.g.push(new Ee(this.zc++,t)),3==this.w&&this.Ma()},r.Jc=function(){return this.uc?0:this.pc},r.Tb=function(){return 0==this.w},r.Ma=function(){this.c.Ub()||this.i||(this.i=Kt(m(this.dc,this),0),this.A=0)},r.xd=function(t){return!(this.c.Mc()>=this.c.f-(this.i?1:0)||(this.i?(this.g=t.j.concat(this.g),0):1==this.w||2==this.w||this.A>=this.Jc()||(this.i=Kt(m(this.dc,this,t),this.Eb(this.A)),this.A++,0)))},r.dc=function(t){this.i=null,this.Xd(t)},r.Xd=function(t){1==this.w?t||(this.Fd(),this.w=2):3==this.w&&(t?this.Wb(t):0==this.g.length||this.c.Ub()||this.Wb())},r.Fd=function(){this.L=Math.floor(1e5*Math.random());var t=this.L++,e=new ee(this,t,void 0),n=this.h;this.J&&(n?L(n=M(n),this.J):n=this.J),null===this.f&&e.ha(n);var r=this.wb(e),i=this.C.N();i.m("RID",t),0<this.gb&&i.m("CVER",this.gb),this.o&&this.j&&i.m("X-HTTP-Session-Id",this.j),this.ea(i),this.f&&n&&Fe(i,this.f,n),this.c.Ha(e),this.hb?(i.m("$req",r),i.m("SID","null"),e.Md(),e.cb(i,null)):e.cb(i,r)},r.Wb=function(t){var e;e=t?t.da:this.L++;var n=this.C.N();n.m("SID",this.I),n.m("RID",e),n.m("AID",this.K),this.ea(n),this.f&&this.h&&Fe(n,this.f,this.h),e=new ee(this,e,this.A+1),null===this.f&&e.ha(this.h),t&&this.Jd(t),t=this.wb(e),e.setTimeout(Math.round(.5*this.ib)+Math.round(.5*this.ib*Math.random())),this.c.Ha(e),e.cb(n,t)},r.ea=function(t){this.b&&oe({},function(e,n){t.m(n,e)})},r.wb=function(t){var e=Math.min(this.g.length,1e3),n=this.b?m(this.b.yc,this.b,this):null;return n=this.U.c(this.g,e,n),t.Qd(this.g.splice(0,e)),n},r.Jd=function(t){this.g=t.j.concat(this.g)},r.zb=function(){if(!this.a&&!this.l){this.Y=1;var t=this.cc;Tt||function(){var t=a.Promise.resolve(void 0);Tt=function(){t.then(xt)}}(),kt||(Tt(),kt=!0),Nt.add(t,this),this.u=0}},r.Ua=function(){return!(this.a||this.l||3<=this.u||(this.Y++,this.l=Kt(m(this.cc,this),this.Eb(this.u)),this.u++,0))},r.cc=function(){this.l=null,this.Vd()},r.Vd=function(){this.a=new ee(this,"rpc",this.Y),null===this.f&&this.a.ha(this.h),this.a.Xc(this.vc);var t=this.fb.N();t.m("RID","rpc"),t.m("SID",this.I),t.m("CI",this.Ga?"0":"1"),t.m("AID",this.K),this.ea(t),t.m("TYPE","xmlhttp"),this.f&&this.h&&Fe(t,this.f,this.h),this.F&&this.a.setTimeout(this.F),this.a.bb(t,!0,this.da)},r.na=function(t,e){var n=t.l;n&&this.c.kb(n),this.Ga=this.eb&&e,this.B=t.c,this.Cc()},r.ab=function(t){this.B=t.c,this.X(2)},r.bc=function(t,e){if(0!=this.w&&(this.a==t||this.c.Ta(t)))if(this.B=t.o,!t.s&&this.c.Ta(t)&&3==this.w){try{var n=this.U.a(e)}catch(r){n=null}h(n)&&3==n.length?this.ld(n,t):this.X(11)}else(t.s||this.a==t)&&this.ra(),D(e)||(n=this.U.a(e),this.Ad(n,t))},r.ld=function(t,e){0==t[0]?this.kd(e):(this.jb=t[1],0<this.jb-this.K&&this.Ud(t[2])&&!this.s&&(this.s=Kt(m(this.yd,this),6e3)))},r.kd=function(t){if(!this.l){if(this.a){if(!(this.a.u+3e3<t.u))return;this.ra(),this.a.cancel(),this.a=null}this.Ua(),Ht(18)}},r.Ud=function(t){return 37500>t&&!this.sd()&&0==this.u},r.Oa=function(t){return this.sc?this.b?this.b.$c(t):t:null},r.yd=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,this.Ua(),Ht(19))},r.ra=function(){null!=this.s&&(a.clearTimeout(this.s),this.s=null)},r.Va=function(t){var e=null;if(this.a==t){this.ra(),this.a=null;var n=2}else{if(!this.c.Ta(t))return;e=t.j,this.c.gc(t),n=1}if(this.B=t.o,0!=this.w)if(t.b)1==n?(n=w()-t.u,Vt.dispatchEvent(new zt(Vt,t.i?t.i.length:0,n,this.A)),this.Ma()):this.zb();else{var r=t.c;if(3==r||0==r&&0<this.B||!(1==n&&this.xd(t)||2==n&&this.Ua()))switch(e&&0<e.length&&this.c.wc(e),r){case 1:this.X(5);break;case 4:this.X(10);break;case 3:this.X(6);break;default:this.X(2)}}},r.Eb=function(t){var e=this.tc+Math.floor(Math.random()*this.Fc);return this.Pa()||(e*=2),e*t},r.ad=function(t){if(this.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");e&&this.c.kb(e),this.j&&(t=t.ga("X-HTTP-Session-Id"))&&(this.kc(t),this.C.m(this.j,t))}},r.Ad=function(t,e){for(var n=this.b&&this.b.Ia?[]:null,r=0;r<t.length;r++){var i=t[r];if(this.K=i[0],i=i[1],2==this.w)if("c"==i[0]){this.I=i[1],this.da=this.Oa(i[2]);var o=i[3];null!=o&&(this.qb=o),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.F=1.5*i),this.ad(e),this.w=3,this.b&&this.b.pb(),this.Wd(e)}else"stop"!=i[0]&&"close"!=i[0]||this.X(7);else 3==this.w&&("stop"==i[0]||"close"==i[0]?(n&&0!=n.length&&(this.b.Ia(this,n),n.length=0),"stop"==i[0]?this.X(7):this.Qa()):"noop"!=i[0]&&(n?n.push(i):this.b&&this.b.ob(i)),this.u=0)}n&&0!=n.length&&this.b.Ia(this,n)},r.Wd=function(t){this.fb=this.Bb(this.da,this.Ea),t.s?(this.c.gc(t),t.Kd(this.F),this.a=t):this.zb()},r.X=function(t){if(2==t){var e=null;this.b&&(e=null);var n=m(this.Zd,this);e||(e=new le("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||e.ma("https"),e.za()),function(t,e){var n=new jt;if(a.Image){var r=new Image;r.onload=b(Ae,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(Ae,n,r,"TestLoadImage: error",!1,e),r.onabort=b(Ae,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(Ae,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(e.toString(),n)}else Ht(2);this.zd(t)},r.Zd=function(t){Ht(t?2:1)},r.zd=function(t){this.w=0,this.b&&this.b.nb(t),this.Yb(),this.lb()},r.Yb=function(){this.w=0,this.B=-1,this.b&&(0==this.c.Xb().length&&0==this.g.length||(this.c.Bc(),T(this.g),this.g.length=0),this.b.mb())},r.Cb=function(t){return this.ub(null,t)},r.Bb=function(t,e){return this.ub(this.Da()?t:null,e)},r.ub=function(t,e){var n=function(t){return t instanceof le?t.N():new le(t,void 0)}(e);if(""!=n.c)t&&n.ka(t+"."+n.c),n.la(n.h);else{var r=a.location;n=function(t,e,n,r){var i=new le(null,void 0);return t&&i.ma(t),e&&i.ka(e),n&&i.la(n),r&&i.Ba(r),i}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return this.ca&&R(this.ca,function(t,e){n.m(e,t)}),e=this.Fa,(t=this.j)&&e&&n.m(t,e),n.m("VER",this.qb),this.ea(n),n},r.sa=function(t){if(t&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ke(this.xc)).Sd(this.T),t},r.Pa=function(){return!!this.b&&!0},r.Da=function(){return this.T},(r=je.prototype).Ia=null,r.pb=function(){},r.ob=function(){},r.nb=function(){},r.mb=function(){},r.yc=function(){},r.$c=function(t){return t},Ve.prototype.a=function(t,e){return new Ue(t,e)},_(Ue,Ct),(r=Ue.prototype).addEventListener=function(t,e,n,r){Ue.S.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){Ue.S.removeEventListener.call(this,t,e,n,r)},r.Yc=function(){this.a.jc(this.f),this.l&&this.a.Rd(),this.a.bd(this.o,this.g,this.b||void 0)},r.close=function(){this.a.Qa()},r.Zc=function(t){if(u(t)){var e={};e.__data__=t,this.a.Xa(e)}else this.h?((e={}).__data__=Et(t),this.a.Xa(e)):this.a.Xa(t)},r.G=function(){this.a.jc(null),delete this.f,this.a.Qa(),delete this.a,Ue.S.G.call(this)},_(Be,Zt),_(qe,$t),_(He,je),He.prototype.pb=function(){this.a.dispatchEvent("a")},He.prototype.ob=function(t){this.a.dispatchEvent(new Be(t))},He.prototype.nb=function(t){this.a.dispatchEvent(new qe(t))},He.prototype.mb=function(){this.a.dispatchEvent("b")};var ze=b(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Ve);Ve.prototype.createWebChannel=Ve.prototype.a,Ue.prototype.send=Ue.prototype.Zc,Ue.prototype.open=Ue.prototype.Yc,Ue.prototype.close=Ue.prototype.close,Gt.NO_ERROR=0,Gt.TIMEOUT=8,Gt.HTTP_ERROR=6,Qt.COMPLETE="complete",Yt.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",Ct.prototype.listen=Ct.prototype.Lb,ke.prototype.listenOnce=ke.prototype.Mb,ke.prototype.getLastError=ke.prototype.dd,ke.prototype.getLastErrorCode=ke.prototype.Db,ke.prototype.getStatus=ke.prototype.aa,ke.prototype.getStatusText=ke.prototype.Fb,ke.prototype.getResponseJson=ke.prototype.Nc,ke.prototype.getResponseText=ke.prototype.va,ke.prototype.send=ke.prototype.xa;var Ke={createWebChannelTransport:ze,ErrorCode:Gt,EventType:Qt,WebChannel:Yt,XhrIo:ke},Ge=Ke.createWebChannelTransport,Qe=Ke.ErrorCode,We=Ke.EventType,Ye=Ke.WebChannel,Je=Ke.XhrIo;e.default=Ke},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},y2cN:function(t,e,n){t.exports=n("HefZ"),n("9UdO"),n("FoKB"),n("QURa")},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("+umK");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},yC6l:function(t,e,n){n("Ksdp"),t.exports=n("4Ea8").Object.assign},ySdl:function(t,e,n){var r=n("3Gxb"),i=n("fw2a"),o=n("bcPd"),a=n("ysHE").Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},ysHE:function(t,e){t.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},z5Af:function(t,e,n){t.exports=n("yC6l")},z5ME:function(t,e,n){var r=n("aXXJ")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("CcnG"),i={},o=function(){return function(){}}(),a=function(){return function(){this.title="control-clientes"}}(),u=n("mrSG"),s=n("Ip0R"),l=n("nkY7"),c=n("IUTb"),h=n("6blF"),f=new h.a(function(t){return t.complete()});function d(t){return t?function(t){return new h.a(function(e){return t.schedule(function(){return e.complete()})})}(t):f}function p(t){var e=new h.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(l.a)(n)?t.pop():n=void 0,t.length){case 0:return d(n);case 1:return n?Object(c.a)(t,n):p(t[0]);default:return Object(c.a)(t,n)}}var g=n("0/uQ"),y=n("K9Ia"),m=n("8g8A"),b=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return u.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new m.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(y.a);function w(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}w.prototype=Object.create(Error.prototype);var _=w,C=n("isby"),E=n("MGBS"),S=n("zotm"),I={},T=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new D(t,this.resultSelector))},t}(),D=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return u.__extends(e,t),e.prototype._next=function(t){this.values.push(I),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(S.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===I?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(E.a);function A(t){return new h.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(g.a)(n):d()).subscribe(e)})}var O=n("67Y/"),k=n("Zn8D");function N(){return Object(k.a)(1)}var x=n("FFOo");function P(t,e){return function(n){return n.lift(new R(t,e))}}var R=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new M(t,this.predicate,this.thisArg))},t}(),M=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return u.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(x.a);function F(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}F.prototype=Object.create(Error.prototype);var L=F;function j(t){return function(e){return 0===t?d():e.lift(new V(t))}}var V=function(){function t(t){if(this.total=t,this.total<0)throw new L}return t.prototype.call=function(t,e){return e.subscribe(new U(t,this.total))},t}(),U=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return u.__extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(x.a),B=n("+umK"),q=n("2Bdj");function H(t,e,n){return function(r){return r.lift(new z(t,e,n))}}var z=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new K(t,this.nextOrObserver,this.error,this.complete))},t}(),K=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=B.a,o._tapError=B.a,o._tapComplete=B.a,o._tapError=r||B.a,o._tapComplete=i||B.a,Object(q.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||B.a,o._tapError=n.error||B.a,o._tapComplete=n.complete||B.a),o}return u.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(x.a),G=function(t){return void 0===t&&(t=Q),H({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function Q(){return new _}function W(t){return void 0===t&&(t=null),function(e){return e.lift(new Y(t))}}var Y=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new J(t,this.defaultValue))},t}(),J=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return u.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(x.a),X=n("mChF");function Z(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?P(function(e,n){return t(e,n,r)}):X.a,j(1),n?W(e):G(function(){return new _}))}}var $=n("rPjj");function tt(t){return function(e){var n=new et(t),r=e.lift(n);return n.caught=r}}var et=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new nt(t,this.selector,this.caught))},t}(),nt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return u.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new $.a(this,void 0,void 0);this.add(r),Object(S.a)(this,n,void 0,void 0,r)}},e}(E.a);function rt(t){return function(e){return 0===t?d():e.lift(new it(t))}}var it=function(){function t(t){if(this.total=t,this.total<0)throw new L}return t.prototype.call=function(t,e){return e.subscribe(new ot(t,this.total))},t}(),ot=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return u.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(x.a);function at(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?P(function(e,n){return t(e,n,r)}):X.a,rt(1),n?W(e):G(function(){return new _}))}}var ut=n("psW0"),st=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new lt(t,this.predicate,this.thisArg,this.source))},t}(),lt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return u.__extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(x.a);function ct(t,e){return"function"==typeof e?function(n){return n.pipe(ct(function(n,r){return Object(g.a)(t(n,r)).pipe(Object(O.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new ht(t))}}var ht=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ft(t,this.project))},t}(),ft=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return u.__extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new $.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(S.a)(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(E.a);function dt(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new pt(t,e,n))}}var pt=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new vt(t,this.accumulator,this.seed,this.hasSeed))},t}(),vt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return u.__extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(x.a);function gt(t,e){return Object(ut.a)(t,e,1)}var yt=n("y3By"),mt=n("pugT"),bt=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new wt(t,this.callback))},t}(),wt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new mt.a(n)),r}return u.__extends(e,t),e}(x.a),_t=null;function Ct(){return _t}var Et,St={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},It={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};r["\u0275global"].Node&&(Et=r["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var Dt,At=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,_t||(_t=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,Object(u.__spread)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return St},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return Et.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Tt.hasOwnProperty(e)&&(e=Tt[e]))}return It[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=Ot||(Ot=document.querySelector("base"))?Ot.getAttribute("href"):null;return null==n?null:(e=n,Dt||(Dt=document.createElement("a")),Dt.setAttribute("href",e),"/"===Dt.pathname.charAt(0)?Dt.pathname:"/"+Dt.pathname)},e.prototype.resetBaseElement=function(){Ot=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(s["\u0275parseCookieValue"])(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(u.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),Ot=null,kt=s.DOCUMENT;function Nt(){return!!window.history.pushState}var xt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(u.__extends)(e,t),e.prototype._init=function(){this.location=Ct().getLocation(),this._history=Ct().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return Ct().getBaseHref(this._doc)},e.prototype.onPopState=function(t){Ct().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){Ct().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){Nt()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){Nt()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(u.__decorate)([Object(u.__param)(0,Object(r.Inject)(kt)),Object(u.__metadata)("design:paramtypes",[Object])],e)}(s.PlatformLocation),Pt=new r.InjectionToken("TRANSITION_ID"),Rt=[{provide:r.APP_INITIALIZER,useFactory:function(t,e,n){return function(){n.get(r.ApplicationInitStatus).donePromise.then(function(){var n=Ct();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Pt,kt,r.Injector],multi:!0}],Mt=function(){function t(){}return t.init=function(){Object(r.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){r["\u0275global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r["\u0275global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},r["\u0275global"].getAllAngularRootElements=function(){return t.getAllRootElements()},r["\u0275global"].frameworkStabilizers||(r["\u0275global"].frameworkStabilizers=[]),r["\u0275global"].frameworkStabilizers.push(function(t){var e=r["\u0275global"].getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Ct().isShadowRoot(e)?this.findTestabilityInTree(t,Ct().getHost(e),!0):this.findTestabilityInTree(t,Ct().parentElement(e),!0):null},t}();function Ft(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r["\u0275global"].ng=r["\u0275global"].ng||{})[t]=e)}var Lt={ApplicationRef:r.ApplicationRef,NgZone:r.NgZone};function jt(t){return Object(r.getDebugNode)(t)}var Vt=new r.InjectionToken("EventManagerPlugins"),Ut=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),Bt=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=Ct().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),qt=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),Ht=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(u.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return Ct().remove(t)})},e}(qt),zt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Kt=/%COMP%/g,Gt="_nghost-%COMP%",Qt="_ngcontent-%COMP%";function Wt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Wt(t,i,n):(i=i.replace(Kt,t),n.push(i))}return n}function Yt(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Jt=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Xt(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new ee(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.ViewEncapsulation.Native:case r.ViewEncapsulation.ShadowDom:return new ne(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=Wt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Xt=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(zt[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=zt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=zt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&r.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,i&r.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&r.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){$t(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return $t(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Yt(n)):this.eventManager.addEventListener(t,e,Yt(n))},t}(),Zt="@".charCodeAt(0);function $t(t,e){if(t.charCodeAt(0)===Zt)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var te,ee=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.component=r;var a=Wt(i+"-"+r.id,r.styles,[]);return n.addStyles(a),o.contentAttr=Qt.replace(Kt,i+"-"+r.id),o.hostAttr=Gt.replace(Kt,i+"-"+r.id),o}return Object(u.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(Xt),ne=function(t){function e(e,n,i,o){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===r.ViewEncapsulation.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var u=Wt(o.id,o.styles,[]),s=0;s<u.length;s++){var l=document.createElement("style");l.textContent=u[s],a.shadowRoot.appendChild(l)}return a}return Object(u.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Xt),re="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},ie=re("addEventListener"),oe=re("removeEventListener"),ae={},ue="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[re("BLACK_LISTED_EVENTS")]&&(te={});var se=function(t){return!!te&&te.hasOwnProperty(t)},le=function(t){var e=ae[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[ue];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},ce=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.ngZone=n,r&&Object(s.isPlatformServer)(r)||i.patchEvent(),i}return Object(u.__extends)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ue]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var i=this,o=n;if(!t[ie]||r.NgZone.isInAngularZone()&&!se(e))t.addEventListener(e,o,!1);else{var a=ae[e];a||(a=ae[e]=re("ANGULAR"+e+"FALSE"));var u=t[a],s=u&&u.length>0;u||(u=t[a]=[]);var l=se(e)?Zone.root:Zone.current;if(0===u.length)u.push({zone:l,handler:o});else{for(var c=!1,h=0;h<u.length;h++)if(u[h].handler===o){c=!0;break}c||u.push({zone:l,handler:o})}s||t[ie](e,le,!1)}return function(){return i.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[oe];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=ae[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,u=0;u<o.length;u++)if(o[u].handler===n){a=!0,o.splice(u,1);break}a?0===o.length&&r.apply(t,[e,le,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(Bt),he={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},fe=new r.InjectionToken("HammerGestureConfig"),de=new r.InjectionToken("HammerLoader"),pe=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),ve=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._config=n,o.console=r,o.loader=i,o}return Object(u.__extends)(e,t),e.prototype.supports=function(t){return!(!he.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(Bt),ge=["alt","control","meta","shift"],ye={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},me=function(t){function e(e){return t.call(this,e)||this}var n;return Object(u.__extends)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Ct().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(ge.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=Ct().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ge.forEach(function(r){r!=n&&(0,ye[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(Bt),be=function(){return function(){}}(),we=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(u.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case r.SecurityContext.NONE:return e;case r.SecurityContext.HTML:return e instanceof Ce?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(r["\u0275_sanitizeHtml"])(this._doc,String(e)));case r.SecurityContext.STYLE:return e instanceof Ee?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(r["\u0275_sanitizeStyle"])(e));case r.SecurityContext.SCRIPT:if(e instanceof Se)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.SecurityContext.URL:return e instanceof Te||e instanceof Ie?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(r["\u0275_sanitizeUrl"])(String(e)));case r.SecurityContext.RESOURCE_URL:if(e instanceof Te)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof _e)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Ce(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Ee(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Se(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Ie(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Te(t)},e}(be),_e=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(_e),Ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(_e),Se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(_e),Ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(_e),Te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(_e),De=[{provide:r.PLATFORM_ID,useValue:s["\u0275PLATFORM_BROWSER_ID"]},{provide:r.PLATFORM_INITIALIZER,useValue:function(){At.makeCurrent(),Mt.init()},multi:!0},{provide:s.PlatformLocation,useClass:xt,deps:[kt]},{provide:kt,useFactory:function(){return document},deps:[]}],Ae=Object(r.createPlatformFactory)(r.platformCore,"browser",De);function Oe(){return new r.ErrorHandler}var ke=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:r.APP_ID,useValue:t.appId},{provide:Pt,useExisting:r.APP_ID},Rt]}},t}();"undefined"!=typeof window&&window;var Ne=function(){return function(t,e){this.id=t,this.url=e}}(),xe=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return Object(u.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Ne),Pe=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(u.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Ne),Re=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(u.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Ne),Me=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(u.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Ne),Fe=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(u.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ne),Le=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(u.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ne),je=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(u.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Ne),Ve=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(u.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ne),Ue=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(u.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ne),Be=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),qe=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),He=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),ze=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Ke=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Ge=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Qe=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),We=function(){return function(){}}(),Ye="primary",Je=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Xe(t){return new Je(t)}var Ze="ngNavigationCancelingError";function $e(t){var e=Error("NavigationCancelingError: "+t);return e[Ze]=!0,e}function tn(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],u=t[o];if(a.startsWith(":"))i[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var en=function(){return function(t,e){this.routes=t,this.module=e}}();function nn(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];rn(r,on(e,r))}}function rn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Ye)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&nn(t.children,e)}function on(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function an(t){var e=t.children&&t.children.map(an),n=e?Object(u.__assign)({},t,{children:e}):Object(u.__assign)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ye&&(n.component=We),n}function un(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function sn(t){return Array.prototype.concat.apply([],t)}function ln(t){return t.length>0?t[t.length-1]:null}function cn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function hn(t){return Object(r["\u0275isObservable"])(t)?t:Object(r["\u0275isPromise"])(t)?Object(g.a)(Promise.resolve(t)):v(t)}function fn(t,e,n){return n?function(t,e){return un(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!gn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!gn(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!gn(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),u=i.slice(n.segments.length);return!!gn(n.segments,a)&&!!n.children[Ye]&&e(n.children[Ye],r,u)}(e,n,n.segments)}(t.root,e.root)}var dn=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Xe(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return wn.serialize(this)},t}(),pn=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,cn(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return _n(this)},t}(),vn=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Xe(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Dn(this)},t}();function gn(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function yn(t,e){var n=[];return cn(t.children,function(t,r){r===Ye&&(n=n.concat(e(t,r)))}),cn(t.children,function(t,r){r!==Ye&&(n=n.concat(e(t,r)))}),n}var mn=function(){return function(){}}(),bn=function(){function t(){}return t.prototype.parse=function(t){var e=new xn(t);return new dn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return _n(e);if(n){var r=e.children[Ye]?t(e.children[Ye],!1):"",i=[];return cn(e.children,function(e,n){n!==Ye&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=yn(e,function(n,r){return r===Ye?[t(e.children[Ye],!1)]:[r+":"+t(n,!1)]});return _n(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return En(t)+"="+En(e)}).join("&"):En(t)+"="+En(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),wn=new bn;function _n(t){return t.segments.map(function(t){return Dn(t)}).join("/")}function Cn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function En(t){return Cn(t).replace(/%3B/gi,";")}function Sn(t){return Cn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function In(t){return decodeURIComponent(t)}function Tn(t){return In(t.replace(/\+/g,"%20"))}function Dn(t){return""+Sn(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+Sn(t)+"="+Sn(e[t])}).join(""));var e}var An=/^[^\/()?;=#]+/;function On(t){var e=t.match(An);return e?e[0]:""}var kn=/^[^=?&#]+/,Nn=/^[^?&#]+/,xn=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Ye]=new pn(t,e)),n},t.prototype.parseSegment=function(){var t=On(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new vn(In(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=On(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=On(this.remaining);r&&this.capture(n=r)}t[In(e)]=In(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(kn))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(Nn);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=Tn(n),a=Tn(r);if(t.hasOwnProperty(o)){var u=t[o];Array.isArray(u)||(t[o]=u=[u]),u.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=On(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ye);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Ye]:new pn([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Pn=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Rn(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Rn(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Mn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return Mn(t,this._root).map(function(t){return t.value})},t}();function Rn(t,e){var n,r;if(t===e.value)return e;try{for(var i=Object(u.__values)(e.children),o=i.next();!o.done;o=i.next()){var a=Rn(t,o.value);if(a)return a}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}function Mn(t,e){var n,r;if(t===e.value)return[e];try{for(var i=Object(u.__values)(e.children),o=i.next();!o.done;o=i.next()){var a=Mn(t,o.value);if(a.length)return a.unshift(e),a}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[]}var Fn=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function Ln(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var jn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,zn(r,e),r}return Object(u.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Pn);function Vn(t,e){var n=function(t,e){var n=new qn([],{},{},"",{},Ye,e,null,t.root,-1,{});return new Hn("",new Fn(n,[]))}(t,e),r=new b([new vn("",{})]),i=new b({}),o=new b({}),a=new b({}),u=new b(""),s=new Un(r,i,a,u,o,Ye,e,n.root);return s.snapshot=n.root,new jn(new Fn(s,[]),n)}var Un=function(){function t(t,e,n,r,i,o,a,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=u}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(O.a)(function(t){return Xe(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(O.a)(function(t){return Xe(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Bn(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object(u.__assign)({},t.params,e.params),data:Object(u.__assign)({},t.data,e.data),resolve:Object(u.__assign)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var qn=function(){function t(t,e,n,r,i,o,a,u,s,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=s,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Xe(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Xe(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),Hn=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,zn(r,n),r}return Object(u.__extends)(e,t),e.prototype.toString=function(){return Kn(this._root)},e}(Pn);function zn(t,e){e.value._routerState=t,e.children.forEach(function(e){return zn(t,e)})}function Kn(t){var e=t.children.length>0?" { "+t.children.map(Kn).join(", ")+" } ":"";return""+t.value+e}function Gn(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,un(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),un(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!un(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),un(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Qn(t,e){var n,r;return un(t.params,e.params)&&gn(n=t.url,r=e.url)&&n.every(function(t,e){return un(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||Qn(t.parent,e.parent))}function Wn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Yn(t,e,n,r,i){var o={};return r&&cn(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new dn(n.root===t?e:function t(e,n,r){var i={};return cn(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new pn(e.segments,i)}(n.root,t,e),o,i)}var Jn=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Wn(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==ln(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Xn=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function Zn(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Ye]:""+t}function $n(t,e,n){if(t||(t=new pn([],{})),0===t.segments.length&&t.hasChildren())return tr(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],u=Zn(n[r]),s=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&s&&"object"==typeof s&&void 0===s.outlets){if(!ir(u,s,a))return o;r+=2}else{if(!ir(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new pn(t.segments.slice(0,r.pathIndex),{});return o.children[Ye]=new pn(t.segments.slice(r.pathIndex),t.children),tr(o,0,i)}return r.match&&0===i.length?new pn(t.segments,{}):r.match&&!t.hasChildren()?er(t,e,n):r.match?tr(t,0,i):er(t,e,n)}function tr(t,e,n){if(0===n.length)return new pn(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[Ye]=t,e):void 0===t[0].outlets?((n={})[Ye]=t,n):t[0].outlets}(n),i={};return cn(r,function(n,r){null!==n&&(i[r]=$n(t.children[r],e,n))}),cn(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new pn(t.segments,i)}function er(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=nr(n[i].outlets);return new pn(r,o)}if(0===i&&Wn(n[0]))r.push(new vn(t.segments[e].path,n[0])),i++;else{var a=Zn(n[i]),u=i<n.length-1?n[i+1]:null;a&&u&&Wn(u)?(r.push(new vn(a,rr(u))),i+=2):(r.push(new vn(a,{})),i++)}}return new pn(r,{})}function nr(t){var e={};return cn(t,function(t,n){null!==t&&(e[n]=er(new pn([],{}),0,t))}),e}function rr(t){var e={};return cn(t,function(t,n){return e[n]=""+t}),e}function ir(t,e,n){return t==n.path&&un(e,n.parameters)}var or=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Gn(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=Ln(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),cn(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Ln(t),o=t.value.component?r.children:e;cn(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=Ln(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Ge(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ze(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(Gn(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ar(a.route)}else{var u=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),s=u?u.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=s,o.outlet&&o.outlet.activateWith(r,s),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function ar(t){Gn(t.value),t.children.forEach(ar)}function ur(t){return"function"==typeof t}function sr(t){return t instanceof dn}var lr=function(){return function(t){this.segmentGroup=t||null}}(),cr=function(){return function(t){this.urlTree=t}}();function hr(t){return new h.a(function(e){return e.error(new lr(t))})}function fr(t){return new h.a(function(e){return e.error(new cr(t))})}function dr(t){return new h.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var pr=function(){function t(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.NgModuleRef)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ye).pipe(Object(O.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(tt(function(e){if(e instanceof cr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof lr)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ye).pipe(Object(O.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(tt(function(t){if(t instanceof lr)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new pn([],((r={})[Ye]=t,r)):t;return new dn(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(O.a)(function(t){return new pn([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return v({});var o=[],a=[],u={};return cn(n,function(n,i){var s,l,c=(s=i,l=n,r.expandSegmentGroup(t,e,l,s)).pipe(Object(O.a)(function(t){return u[i]=t}));i===Ye?o.push(c):a.push(c)}),v.apply(null,o.concat(a)).pipe(N(),Z(),Object(O.a)(function(){return u}))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,o){var a=this;return v.apply(void 0,Object(u.__spread)(n)).pipe(Object(O.a)(function(u){return a.expandSegmentAgainstRoute(t,e,n,u,r,i,o).pipe(tt(function(t){if(t instanceof lr)return v(null);throw t}))}),N(),at(function(t){return!!t}),tt(function(t,n){if(t instanceof _||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return v(new pn([],{}));throw new lr(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return mr(r)!==o?hr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):hr(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?fr(o):this.lineralizeSegments(n,o).pipe(Object(ut.a)(function(n){var o=new pn(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,u=vr(e,r,i),s=u.consumedSegments,l=u.lastChild,c=u.positionalParamSegments;if(!u.matched)return hr(e);var h=this.applyRedirectCommands(s,r.redirectTo,c);return r.redirectTo.startsWith("/")?fr(h):this.lineralizeSegments(r,h).pipe(Object(ut.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(O.a)(function(t){return n._loadedConfig=t,new pn(r,{})})):v(new pn(r,{}));var o=vr(e,n,r),a=o.consumedSegments,s=o.lastChild;if(!o.matched)return hr(e);var l=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(ut.a)(function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return yr(t,e,n)&&mr(n)!==Ye})}(t,n)?{segmentGroup:gr(new pn(e,function(t,e){var n,r,i={};i[Ye]=e;try{for(var o=Object(u.__values)(t),a=o.next();!a.done;a=o.next()){var s=a.value;""===s.path&&mr(s)!==Ye&&(i[mr(s)]=new pn([],{}))}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}(r,new pn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return yr(t,e,n)})}(t,n)?{segmentGroup:gr(new pn(t.segments,function(t,e,n,r){var i,o,a={};try{for(var s=Object(u.__values)(n),l=s.next();!l.done;l=s.next()){var c=l.value;yr(t,e,c)&&!r[mr(c)]&&(a[mr(c)]=new pn([],{}))}}catch(h){i={error:h}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return Object(u.__assign)({},r,a)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,l,r),s=o.segmentGroup,c=o.slicedSegments;return 0===c.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(Object(O.a)(function(t){return new pn(a,t)})):0===r.length&&0===c.length?v(new pn(a,{})):i.expandSegment(n,s,r,c,Ye,!0).pipe(Object(O.a)(function(t){return new pn(a.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?v(new en(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?v(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(g.a)(i).pipe(Object(O.a)(function(r){var i,o=t.get(r);if(function(t){return t&&ur(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!ur(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return hn(i)})).pipe(N(),(r=function(t){return!0===t},function(t){return t.lift(new st(r,void 0,t))})):v(!0)}(t.injector,e,n).pipe(Object(ut.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(O.a)(function(t){return e._loadedConfig=t,t})):function(t){return new h.a(function(e){return e.error($e("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):v(new en([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return v(n);if(r.numberOfChildren>1||!r.children[Ye])return dr(t.redirectTo);r=r.children[Ye]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new dn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return cn(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return cn(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new pn(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,i=0;try{for(var o=Object(u.__values)(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.path===t.path)return e.splice(i),s;i++}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t},t}();function vr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||tn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function gr(t){if(1===t.numberOfChildren&&t.children[Ye]){var e=t.children[Ye];return new pn(t.segments.concat(e.segments),e.children)}return t}function yr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function mr(t){return t.outlet||Ye}var br=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),wr=function(){return function(t,e){this.component=t,this.route=e}}();function _r(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Cr(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=Ln(e);return t.children.forEach(function(t){!function(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=t.value,a=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var s=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!gn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!gn(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!Qn(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);s?i.canActivateChecks.push(new br(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Cr(t,e,o.component?u?u.children:null:n,r,i),s&&i.canDeactivateChecks.push(new wr(u&&u.outlet&&u.outlet.component||null,a))}else a&&Er(e,u,i),i.canActivateChecks.push(new br(r)),Cr(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),cn(o,function(t,e){return Er(t,n.getContext(e),i)}),i}function Er(t,e,n){var r=Ln(t),i=t.value;cn(r,function(t,r){Er(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new wr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Sr=Symbol("INITIAL_VALUE");function Ir(){return ct(function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(l.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(C.a)(t[0])&&(t=t[0]),Object(c.a)(t,r).lift(new T(n))}).apply(void 0,Object(u.__spread)(t.map(function(t){return t.pipe(rt(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(l.a)(n)?t.pop():n=null;var r=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&Object(l.a)(t[1])?Object(g.a)(t[0]):N()(v.apply(void 0,t))}(1!==r||n?r>0?Object(c.a)(t,n):d(n):p(t[0]),e)}}(Sr))}))).pipe(dt(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Sr)return t;if(r===Sr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||sr(r))return r}return t},t)},Sr),P(function(t){return t!==Sr}),Object(O.a)(function(t){return sr(t)?t:!0===t}),rt(1))})}function Tr(t,e){return null!==t&&e&&e(new Ke(t)),v(!0)}function Dr(t,e){return null!==t&&e&&e(new He(t)),v(!0)}function Ar(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?v(r.map(function(r){return A(function(){var i,o=_r(r,e,n);if(function(t){return t&&ur(t.canActivate)}(o))i=hn(o.canActivate(e,t));else{if(!ur(o))throw new Error("Invalid CanActivate guard");i=hn(o(e,t))}return i.pipe(at())})})).pipe(Ir()):v(!0)}function Or(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return A(function(){return v(e.guards.map(function(i){var o,a=_r(i,e.node,n);if(function(t){return t&&ur(t.canActivateChild)}(a))o=hn(a.canActivateChild(r,t));else{if(!ur(a))throw new Error("Invalid CanActivateChild guard");o=hn(a(r,t))}return o.pipe(at())})).pipe(Ir())})});return v(i).pipe(Ir())}var kr=function(){return function(){}}(),Nr=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=Rr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ye),n=new qn([],Object.freeze({}),Object.freeze(Object(u.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ye,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Fn(n,e),i=new Hn(this.url,r);return this.inheritParamsAndData(i._root),v(i)}catch(o){return new h.a(function(t){return t.error(o)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Bn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=yn(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===Ye?-1:e.value.outlet===Ye?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,r){var i,o;try{for(var a=Object(u.__values)(t),s=a.next();!s.done;s=a.next()){var l=s.value;try{return this.processSegmentAgainstRoute(l,e,n,r)}catch(c){if(!(c instanceof kr))throw c}}}catch(h){i={error:h}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new kr},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new kr;if((t.outlet||Ye)!==r)throw new kr;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?ln(n).parameters:{};i=new qn(n,s,Object.freeze(Object(u.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,Lr(t),r,t.component,t,xr(e),Pr(e)+n.length,jr(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new kr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||tn)(n,t,e);if(!r)throw new kr;var i={};cn(r.posParams,function(t,e){i[e]=t.path});var o=r.consumed.length>0?Object(u.__assign)({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=l.consumedSegments,a=n.slice(l.lastChild),i=new qn(o,l.parameters,Object.freeze(Object(u.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,Lr(t),r,t.component,t,xr(e),Pr(e)+o.length,jr(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=Rr(e,o,a,c,this.relativeLinkResolution),f=h.segmentGroup,d=h.slicedSegments;if(0===d.length&&f.hasChildren()){var p=this.processChildren(c,f);return[new Fn(i,p)]}if(0===c.length&&0===d.length)return[new Fn(i,[])];var v=this.processSegment(c,f,d,Ye);return[new Fn(i,v)]},t}();function xr(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Pr(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Rr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return r.some(function(n){return Mr(t,e,n)&&Fr(n)!==Ye})}(t,n)){var o=new pn(e,function(t,e,n,r){var i,o,a={};a[Ye]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var s=Object(u.__values)(n),l=s.next();!l.done;l=s.next()){var c=l.value;if(""===c.path&&Fr(c)!==Ye){var h=new pn([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,a[Fr(c)]=h}}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}(t,e,r,new pn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return Mr(t,e,n)})}(t,n)){var a=new pn(t.segments,function(t,e,n,r,i,o){var a,s,l={};try{for(var c=Object(u.__values)(r),h=c.next();!h.done;h=c.next()){var f=h.value;if(Mr(t,n,f)&&!i[Fr(f)]){var d=new pn([],{});d._sourceSegment=t,d._segmentIndexShift="legacy"===o?t.segments.length:e.length,l[Fr(f)]=d}}}catch(p){a={error:p}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return Object(u.__assign)({},i,l)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new pn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Mr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Fr(t){return t.outlet||Ye}function Lr(t){return t.data||{}}function jr(t){return t.resolve||{}}function Vr(t,e,n,r){var i=_r(t,e,r);return hn(i.resolve?i.resolve(e,n):i(e,n))}function Ur(t){return function(e){return e.pipe(ct(function(e){var n=t(e);return n?Object(g.a)(n).pipe(Object(O.a)(function(){return e})):Object(g.a)([e])}))}}var Br=function(){return function(){}}(),qr=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Hr=new r.InjectionToken("ROUTES"),zr=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(O.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new en(sn(i.injector.get(Hr)).map(an),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(g.a)(this.loader.load(t)):hn(t()).pipe(Object(ut.a)(function(t){return t instanceof r.NgModuleFactory?v(t):Object(g.a)(e.compiler.compileModuleAsync(t))}))},t}(),Kr=function(){return function(){}}(),Gr=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Qr(t){throw t}function Wr(t,e,n){return e.parse("/")}function Yr(t,e){return v(null)}var Jr=function(){function t(t,e,n,i,o,a,u,s){var l=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new y.a,this.errorHandler=Qr,this.malformedUriErrorHandler=Wr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yr,afterPreactivation:Yr},this.urlHandlingStrategy=new Gr,this.routeReuseStrategy=new qr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.NgModuleRef),this.console=o.get(r["\u0275Console"]);var c=o.get(r.NgZone);this.isNgZoneEnabled=c instanceof r.NgZone,this.resetConfig(s),this.currentUrlTree=new dn(new pn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zr(a,u,function(t){return l.triggerEvent(new Be(t))},function(t){return l.triggerEvent(new qe(t))}),this.routerState=Vn(this.currentUrlTree,this.rootComponentType),this.transitions=new b({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(P(function(t){return 0!==t.id}),Object(O.a)(function(t){return Object(u.__assign)({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),ct(function(t){var r,i,o,a,s=!1,l=!1;return v(t).pipe(H(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object(u.__assign)({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),ct(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return v(t).pipe(ct(function(t){var r=e.transitions.getValue();return n.next(new xe(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?f:[t]}),ct(function(t){return Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(ct(function(t){return function(e,n,r,i,o){return new pr(e,n,r,t.extractedUrl,o).apply()}(r,i,o,0,a).pipe(Object(O.a)(function(e){return Object(u.__assign)({},t,{urlAfterRedirects:e})}))}))}),H(function(t){e.currentNavigation=Object(u.__assign)({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return function(r){return r.pipe(Object(ut.a)(function(r){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new Nr(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(O.a)(function(t){return Object(u.__assign)({},r,{targetSnapshot:t})}));var a}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),H(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),e.browserUrlTree=t.urlAfterRedirects)}),H(function(t){var r=new Fe(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var l=t.extractedUrl,c=t.source,h=t.restoredState,d=t.extras,p=new xe(t.id,e.serializeUrl(l),c,h);n.next(p);var g=Vn(l,e.rootComponentType).snapshot;return v(Object(u.__assign)({},t,{targetSnapshot:g,urlAfterRedirects:l,extras:Object(u.__assign)({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,t.resolve(null),f}),Ur(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),H(function(t){var n=new Le(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(O.a)(function(t){return Object(u.__assign)({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,Cr(o,r?r._root:null,i,[o.value]))});var n,r,i,o}),function(t,e){return function(n){return n.pipe(Object(ut.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?v(Object(u.__assign)({},n,{guardsResult:!0})):function(t,e,n,r){return Object(g.a)(t).pipe(Object(ut.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?v(o.map(function(o){var a,u=_r(o,e,i);if(function(t){return t&&ur(t.canDeactivate)}(u))a=hn(u.canDeactivate(t,e,n,r));else{if(!ur(u))throw new Error("Invalid CanDeactivate guard");a=hn(u(t,e,n,r))}return a.pipe(at())})).pipe(Ir()):v(!0)}(t.component,t.route,n,e,r)}),at(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Object(ut.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(g.a)(e).pipe(gt(function(e){return Object(g.a)([Dr(e.route.parent,r),Tr(e.route,r),Or(t,e.path,n),Ar(t,e.route,n)]).pipe(N(),at(function(t){return!0!==t},!0))}),at(function(t){return!0!==t},!0))}(r,a,t,e):v(n)}),Object(O.a)(function(t){return Object(u.__assign)({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),H(function(t){if(sr(t.guardsResult)){var n=$e('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}}),H(function(t){var n=new je(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),P(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Re(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),Ur(function(t){if(t.guards.canActivateChecks.length)return v(t).pipe(H(function(t){var n=new Ve(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(ut.a)(function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(g.a)(i).pipe(gt(function(t){return function(t,n,r,i){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return v({});if(1===i.length){var o=i[0];return Vr(t[o],e,n,r).pipe(Object(O.a)(function(t){var e;return(e={})[o]=t,e}))}var a={};return Object(g.a)(i).pipe(Object(ut.a)(function(i){return Vr(t[i],e,n,r).pipe(Object(O.a)(function(t){return a[i]=t,t}))})).pipe(Z(),Object(O.a)(function(){return a}))}(t._resolve,t,e,i).pipe(Object(O.a)(function(e){return t._resolvedData=e,t.data=Object(u.__assign)({},t.data,Bn(t,r).resolve),null}))}(t.route,0,n,r)}),function(t,e){return arguments.length>=2?function(e){return Object(yt.a)(dt(t,void 0),j(1),W(void 0))(e)}:function(e){return Object(yt.a)(dt(function(e,n,r){return t(e)}),j(1))(e)}}(function(t,e){return t}),Object(O.a)(function(e){return t})):v(t)}))}),H(function(t){var n=new Ue(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,r}),Ur(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(O.a)(function(t){var n,r,i,o=(i=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(l=r.value)._futureSnapshot=n.value;var i=function(e,n,r){return n.children.map(function(n){var i,o;try{for(var a=Object(u.__values)(r.children),s=a.next();!s.done;s=a.next()){var l=s.value;if(e.shouldReuseRoute(l.value.snapshot,n.value))return t(e,n,l)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return t(e,n)})}(e,n,r);return new Fn(l,i)}var o=e.retrieve(n.value);if(o){var a=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,a),a}var s,l=new Un(new b((s=n.value).url),new b(s.params),new b(s.queryParams),new b(s.fragment),new b(s.data),s.outlet,s.component,s);return i=n.children.map(function(n){return t(e,n)}),new Fn(l,i)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new jn(i,n));return Object(u.__assign)({},t,{targetRouterState:o})}),H(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(O.a)(function(t){return new or(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),H({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!l){e.resetUrlToCurrentUrlTree();var r=new Re(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new bt(r))}),tt(function(r){if(l=!0,(u=r)&&u[Ze]){var i=sr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Re(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Me(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(s){t.reject(s)}}var u;return f}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){return this.transitions.value},t.prototype.setTransition=function(t){this.transitions.next(Object(u.__assign)({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){nn(t),this.config=t.map(an),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,l=e.preserveFragment;Object(r.isDevMode)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,h=l?this.currentUrlTree.fragment:o,f=null;if(s)switch(s){case"merge":f=Object(u.__assign)({},this.currentUrlTree.queryParams,i);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}else f=a?this.currentUrlTree.queryParams:i||null;return null!==f&&(f=this.removeEmptyProps(f)),function(t,e,n,r,i){if(0===n.length)return Yn(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Jn(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return cn(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),Object(u.__spread)(t,[{outlets:o}])}if(r.segmentPath)return Object(u.__spread)(t,[r.segmentPath])}return"string"!=typeof r?Object(u.__spread)(t,[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(u.__spread)(t,[r])},[]);return new Jn(n,e,r)}(n);if(o.toRoot())return Yn(e.root,new pn([],{}),e,r,i);var a=function(t,n,r){if(t.isAbsolute)return new Xn(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Xn(r.snapshot._urlSegment,!0,0);var i=Wn(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,u=r.snapshot._lastPathIndex+i,s=t.numberOfDoubleDots;s>u;){if(s-=u,!(a=a.parent))throw new Error("Invalid number of '../'");u=a.segments.length}return new Xn(a,!1,u-s)}()}(o,0,t),s=a.processChildren?tr(a.segmentGroup,a.index,o.commands):$n(a.segmentGroup,a.index,o.commands);return Yn(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,f,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(r.isDevMode)()&&this.isNgZoneEnabled&&!r.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=sr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(sr(t))return fn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return fn(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Pe(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,u=new Promise(function(t,e){o=t,a=e}),s=++this.navigationId;return this.setTransition({id:s,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object(u.__assign)({},r,{navigationId:n})):this.location.go(i,"",Object(u.__assign)({},r,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),Xr=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Pe&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(r.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Zr(this.skipLocationChange),replaceUrl:Zr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Zr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Zr(this.preserveFragment)})},enumerable:!0,configurable:!0}),Object(u.__decorate)([Object(r.HostBinding)("attr.target"),Object(r.Input)(),Object(u.__metadata)("design:type",String)],t.prototype,"target",void 0),t}();function Zr(t){return""===t||!!t}var $r=function(){function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof Pe&&i.update()})}return t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}(),ti=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ei,this.attachRef=null}}(),ei=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new ti,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),ni=function(){function t(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,this.name=i||Ye,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ri(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),ri=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Un?this.route:t===ei?this.childContexts:this.parent.get(t,e)},t}(),ii=function(){return function(){}}(),oi=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(tt(function(){return v(null)}))},t}(),ai=function(){function t(){}return t.prototype.preload=function(t,e){return v(null)},t}(),ui=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new zr(e,n,function(e){return t.triggerEvent(new Be(e))},function(e){return t.triggerEvent(new qe(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(P(function(t){return t instanceof Pe}),gt(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(r.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,i=[];try{for(var o=Object(u.__values)(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var l=s._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return Object(g.a)(i).pipe(Object(k.a)(),Object(O.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(ut.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),si=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof xe?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pe&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Qe&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new Qe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),li=new r.InjectionToken("ROUTER_CONFIGURATION"),ci=new r.InjectionToken("ROUTER_FORROOT_GUARD"),hi=[s.Location,{provide:mn,useClass:bn},{provide:Jr,useFactory:mi,deps:[r.ApplicationRef,mn,ei,s.Location,r.Injector,r.NgModuleFactoryLoader,r.Compiler,Hr,li,[Kr,new r.Optional],[Br,new r.Optional]]},ei,{provide:Un,useFactory:bi,deps:[Jr]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},ui,ai,oi,{provide:li,useValue:{enableTracing:!1}}];function fi(){return new r.NgProbeToken("Router",Jr)}var di=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[hi,yi(t),{provide:ci,useFactory:gi,deps:[[Jr,new r.Optional,new r.SkipSelf]]},{provide:li,useValue:n||{}},{provide:s.LocationStrategy,useFactory:vi,deps:[s.PlatformLocation,[new r.Inject(s.APP_BASE_HREF),new r.Optional],li]},{provide:si,useFactory:pi,deps:[Jr,s.ViewportScroller,li]},{provide:ii,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ai},{provide:r.NgProbeToken,multi:!0,useFactory:fi},[wi,{provide:r.APP_INITIALIZER,multi:!0,useFactory:_i,deps:[wi]},{provide:Ei,useFactory:Ci,deps:[wi]},{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Ei}]]}},t.forChild=function(t){return{ngModule:e,providers:[yi(t)]}},t}();function pi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new si(t,e,n)}function vi(t,e,n){return void 0===n&&(n={}),n.useHash?new s.HashLocationStrategy(t,e):new s.PathLocationStrategy(t,e)}function gi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function yi(t){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:Hr,multi:!0,useValue:t}]}function mi(t,e,n,r,i,o,a,u,s,l,c){void 0===s&&(s={});var h=new Jr(null,e,n,r,i,o,a,sn(u));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),s.errorHandler&&(h.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(h.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var f=Ct();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return s.onSameUrlNavigation&&(h.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(h.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(h.relativeLinkResolution=s.relativeLinkResolution),h}function bi(t){return t.routerState.root}var wi=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new y.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(s.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Jr),i=t.injector.get(li);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?v(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(li),n=this.injector.get(ui),i=this.injector.get(si),o=this.injector.get(Jr),a=this.injector.get(r.ApplicationRef);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function _i(t){return t.appInitializer.bind(t)}function Ci(t){return t.bootstrapListener.bind(t)}var Ei=new r.InjectionToken("Router Initializer"),Si=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Ii(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,ni,[ei,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,1,0)},null)}function Ti(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Ii,Si)),r["\u0275did"](1,49152,null,0,We,[],null,null)],null,null)}var Di=r["\u0275ccf"]("ng-component",We,Ti,{},{},[]),Ai=n("05FD"),Oi=n("hxUH"),ki=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Ni(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"div",[["id","grayOutDiv"]],null,null,null,null,null))],null,null)}function xi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","alert"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.close(t.parent.context.$implicit)&&r),r},null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\xd7"]))],null,null)}function Pi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,5,"div",[],[[4,"cursor",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.alertClicked(t.context.$implicit)&&r),r},null,null)),r["\u0275did"](1,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](2,{"alert-dismissible":0}),(t()(),r["\u0275and"](16777216,null,null,1,null,xi)),r["\u0275did"](4,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](5,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],function(t,e){var n=r["\u0275inlineInterpolate"](1,"alert flash-message ",e.context.$implicit.cssClass,""),i=t(e,2,0,e.context.$implicit.showCloseBtn);t(e,1,0,n,i),t(e,4,0,e.context.$implicit.showCloseBtn)},function(t,e){t(e,0,0,e.context.$implicit.closeOnClick?"pointer":"inherit"),t(e,5,0,e.context.$implicit.text)})}function Ri(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,4,"div",[["class","flash-messages"],["id","flashMessages"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Ni)),r["\u0275did"](2,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Pi)),r["\u0275did"](4,278528,null,0,s.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,2,0,n._grayOut&&n.messages.length),t(e,4,0,n.messages)},null)}var Mi=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],u=Object(S.a)(r,a,null,o);u&&r.add(u)}return r}return u.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(E.a),Fi=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),Li=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(Fi);function ji(t){return null==t||0===t.length}var Vi=new r.InjectionToken("NgValidators"),Ui=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Bi=function(){function t(){}return t.min=function(t){return function(e){if(ji(e.value)||ji(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(ji(e.value)||ji(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return ji(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return ji(t.value)?null:Ui.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(ji(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(ji(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(qi);return 0==e.length?null:function(t){return zi(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(qi);return 0==e.length?null:function(t){return function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Object(C.a)(n[0])&&(n=n[0]),0===n.length?f:e?t(n).pipe(Object(O.a)(function(t){return e.apply(void 0,t)})):new h.a(function(t){return new Mi(t,n)})}(function(t,n){return e.map(function(e){return e(t)})}(t).map(Hi)).pipe(Object(O.a)(zi))}},t}();function qi(t){return null!=t}function Hi(t){var e=Object(r["\u0275isPromise"])(t)?Object(g.a)(t):t;if(!Object(r["\u0275isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function zi(t){var e=t.reduce(function(t,e){return null!=e?Object(u.__assign)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var Ki=new r.InjectionToken("NgValueAccessor"),Gi=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Qi=new r.InjectionToken("CompositionEventMode"),Wi=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Ct()?Ct().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function Yi(t){return t.validate?function(e){return t.validate(e)}:t}function Ji(t){return t.validate?function(e){return t.validate(e)}:t}var Xi=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function Zi(){throw new Error("unimplemented")}var $i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(u.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return Zi()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Zi()},enumerable:!0,configurable:!0}),e}(Fi),to=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),eo=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get($i),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),no='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',ro='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function io(t,e){return Object(u.__spread)(e.path,[t])}function oo(t,e){t||uo(e,"Cannot find control with"),e.valueAccessor||uo(e,"No value accessor for form control with"),t.validator=Bi.compose([t.validator,e.validator]),t.asyncValidator=Bi.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ao(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ao(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function ao(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uo(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function so(t){return null!=t?Bi.compose(t.map(Yi)):null}function lo(t){return null!=t?Bi.composeAsync(t.map(Ji)):null}var co=[Gi,function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Xi,function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(u.__values)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o),t))return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),u=e._getOptionValue(a.value);r.push(u)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(u=e._getOptionValue(a.value),r.push(u));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(u.__values)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o)._value,t))return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),eo],ho=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return io(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return so(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return lo(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(Li),fo=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),po=function(t){function e(e){return t.call(this,e)||this}return Object(u.__extends)(e,t),e}(fo),vo=function(t){function e(e){return t.call(this,e)||this}return Object(u.__extends)(e,t),e}(fo);function go(t){var e=mo(t)?t.validators:t;return Array.isArray(e)?so(e):e||null}function yo(t,e){var n=mo(e)?e.asyncValidators:t;return Array.isArray(n)?lo(n):n||null}function mo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var bo=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=go(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=yo(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(u.__assign)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(u.__assign)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=Hi(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof _o?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Co&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new r.EventEmitter,this.statusChanges=new r.EventEmitter},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){mo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),wo=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,go(n),yo(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(u.__extends)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(bo),_o=function(t){function e(e,n,r){var i=t.call(this,go(n),yo(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(u.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof wo?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(u.__values)(Object.keys(this.controls)),r=n.next();!r.done;r=n.next())if(this.controls[r.value].enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(bo),Co=function(t){function e(e,n,r){var i=t.call(this,go(n),yo(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(u.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof wo?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(u.__values)(this.controls),r=n.next();!r.done;r=n.next())if(r.value.enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(bo),Eo=Promise.resolve(null),So=function(t){function e(e,n){var i=t.call(this)||this;return i.submitted=!1,i._directives=[],i.ngSubmit=new r.EventEmitter,i.form=new _o({},so(e),lo(n)),i}return Object(u.__extends)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Eo.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),oo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Eo.then(function(){var n,r,i=e._findContainer(t.path);i&&i.removeControl(t.name),(r=(n=e._directives).indexOf(t))>-1&&n.splice(r,1)})},e.prototype.addFormGroup=function(t){var e=this;Eo.then(function(){var n=e._findContainer(t.path),r=new _o({});(function(t,e){null==t&&uo(e,"Cannot find control with"),t.validator=Bi.compose([t.validator,e.validator]),t.asyncValidator=Bi.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Eo.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Eo.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(Li),Io=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+no+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+ro)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+no+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+ro)},t.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},t}(),To=new r.InjectionToken("NgFormSelectorWarning"),Do=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}var n;return Object(u.__extends)(e,t),n=e,e.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof So||Io.modelGroupParentException()},e}(ho),Ao=Promise.resolve(null),Oo=function(t){function e(e,n,i,o){var a=t.call(this)||this;return a.control=new wo,a._registered=!1,a.update=new r.EventEmitter,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=i||[],a.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||uo(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===Wi?n=e:(o=e,co.some(function(t){return o.constructor===t})?(r&&uo(t,"More than one built-in value accessor matches form control with"),r=e):(i&&uo(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(uo(t,"No valid value accessor for form control with"),null)}(a,o),a}return Object(u.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r["\u0275looseIdentical"])(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?io(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return so(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return lo(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){oo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Do)&&this._parent instanceof ho?Io.formGroupNameException():this._parent instanceof Do||this._parent instanceof So||Io.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Io.missingNameException()},e.prototype._updateValue=function(t){var e=this;Ao.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Ao.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}($i),ko=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?Bi.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),No=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=Bi.minLength(parseInt(this.minlength,10))},t}(),xo=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=Bi.pattern(this.pattern)},t}(),Po=function(){return function(){}}(),Ro=function(){return function(){}}(),Mo=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:To,useValue:t.warnOnDeprecatedNgFormSelector}]}},t}(),Fo=n("S1nX");function Lo(t){return function(t){return new h.a(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(Object(Fo.a)())}function jo(t){return Lo(t).pipe(Object(O.a)(function(t){return{payload:t,type:"query"}}))}function Vo(t){return jo(t).pipe(Object(O.a)(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}var Uo=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return u.__extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return u.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return u.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(mt.a))),Bo=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),qo=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u.__extends(e,t),e}(function(t){function e(n,r){void 0===r&&(r=Bo.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return u.__extends(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Bo)))(Uo),Ho=(new r.InjectionToken("angularfire2.realtimeDatabaseURL"),function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return qo.schedule.apply(qo,t)})},t.prototype.keepUnstableUntilFirst=function(t){return Object(s.isPlatformServer)(this.platformId)?new h.a(function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(function(t){"scheduled"===r.state&&r.invoke(),e.next(t)},function(t){"scheduled"===r.state&&r.invoke(),e.error(t)},function(){"scheduled"===r.state&&r.invoke(),e.complete()})}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new h.a(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}()),zo=function(t){return function(e){return new h.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}},Ko=n("Wcq6"),Go=n.n(Ko),Qo=new r.InjectionToken("angularfire2.app.options"),Wo=new r.InjectionToken("angularfire2.app.nameOrConfig"),Yo=function(){return function(){}}();function Jo(t,e){var n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",Go.a.apps.filter(function(t){return t&&t.name===n.name})[0]||Go.a.initializeApp(t,n)}new r.Optional;var Xo=function(){function t(){}var e;return e=t,t.initializeApp=function(t,n){return{ngModule:e,providers:[{provide:Qo,useValue:t},{provide:Wo,useValue:n}]}},t}(),Zo=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Vo(this.query))).pipe(Object(O.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),P(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Vo(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(dt(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=function(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(t),n=function(t,e){return jo(t).pipe(Object(O.a)(function(t){return t.payload.docChanges()}),dt(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":null!=t[e.oldIndex]&&t[e.oldIndex].doc.id!=e.doc.id||(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.id==e.doc.id&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]),Object(O.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=jo(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(Object(O.a)(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.get=function(t){return Object(g.a)(this.query.get(t)).pipe(zo(this.afs.scheduler.zone))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new $o(this.ref.doc(t),this.afs)},t}(),$o=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=ia(this.ref.collection(t),e);return new Zo(n.ref,n.query,this.afs)},t.prototype.snapshotChanges=function(){var t=Lo(this.ref).pipe(Object(O.a)(function(t){return{payload:t,type:"value"}})),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(Object(O.a)(function(t){return t.payload.data()}))},t.prototype.get=function(t){return Object(g.a)(this.ref.get(t)).pipe(zo(this.afs.scheduler.zone))},t}(),ta=new r.InjectionToken("angularfire2.enableFirestorePersistence"),ea=new r.InjectionToken("angularfire2.firestore.persistenceSettings"),na=new r.InjectionToken("angularfire2.firestore.settings"),ra=parseFloat(Ko.SDK_VERSION)<5.8?{timestampsInSnapshots:!0}:{};function ia(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var oa=function(){function t(t,e,n,r,i,o,a){var u=this;this.scheduler=new Ho(o,i),this.firestore=o.runOutsideAngular(function(){var n=Jo(t,e).firestore();return n.settings(r||ra),n}),this.persistenceEnabled$=n&&Object(s.isPlatformBrowser)(i)?o.runOutsideAngular(function(){try{return Object(g.a)(u.firestore.enablePersistence(a||void 0).then(function(){return!0},function(){return!1}))}catch(t){return v(!1)}}):v(!1)}return t.prototype.collection=function(t,e){var n=ia("string"==typeof t?this.firestore.collection(t):t,e);return new Zo(n.ref,n.query,this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new $o(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),aa=(n("6Joi"),function(){function t(){}var e;return e=t,t.enablePersistence=function(t){return{ngModule:e,providers:[{provide:ta,useValue:!0},{provide:ea,useValue:t}]}},t}()),ua=function(){function t(t){this.db=t,this.clientesColeccion=t.collection("clientes",function(t){return t.orderBy("nombre","asc")})}return t.prototype.getClientes=function(){return this.clientes=this.clientesColeccion.snapshotChanges().pipe(Object(O.a)(function(t){return t.map(function(t){var e=t.payload.doc.data();return e.id=t.payload.doc.id,e})})),this.clientes},t.prototype.agregarCliente=function(t){this.clientesColeccion.add(t)},t.prototype.getCliente=function(t){return this.clienteDoc=this.db.doc("clientes/"+t),this.cliente=this.clienteDoc.snapshotChanges().pipe(Object(O.a)(function(t){if(!1===t.payload.exists)return null;var e=t.payload.data();return e.id=t.payload.id,e})),this.cliente},t.prototype.modificarCliente=function(t){this.clienteDoc=this.db.doc("clientes/"+t.id),this.clienteDoc.update(t)},t.prototype.eliminarCliente=function(t){this.clienteDoc=this.db.doc("clientes/"+t.id),this.clienteDoc.delete()},t}(),sa=(n("bvlS"),function(){function t(t,e){this.clienteServicio=t,this.flashMessages=e,this.cliente={nombre:"",apellido:"",email:"",saldo:0}}return t.prototype.ngOnInit=function(){var t=this;this.clienteServicio.getClientes().subscribe(function(e){t.clientes=e})},t.prototype.getSaldoTotal=function(){var t=0;return this.clientes&&this.clientes.forEach(function(e){t+=e.saldo}),t},t.prototype.agregar=function(t){t.valid?(this.clienteServicio.agregarCliente(t.value),this.clienteForm.resetForm(),this.cerrarModal()):this.flashMessages.show("por favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})},t.prototype.cerrarModal=function(){this.botonCerrar.nativeElement.click()},t}()),la=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function ca(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,12,"tr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](2,null,["",""])),(t()(),r["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](4,null,[""," ",""])),(t()(),r["\u0275eld"](5,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](6,null,["",""])),r["\u0275ppd"](7,3),(t()(),r["\u0275eld"](8,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,3,"a",[["class","btn btn-secondary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](10,671744,null,0,Xr,[Jr,Un,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275eld"](11,0,null,null,0,"i",[["class","fas fa-angle-double-right"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Editar "]))],function(t,e){t(e,10,0,r["\u0275inlineInterpolate"](1,"/cliente/editar/",e.context.$implicit.id,""))},function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.nombre,e.context.$implicit.apellido);var n=r["\u0275unv"](e,6,0,t(e,7,0,r["\u0275nov"](e.parent,0),e.context.$implicit.saldo,"MNX","$"));t(e,6,0,n),t(e,9,0,r["\u0275nov"](e,10).target,r["\u0275nov"](e,10).href)})}function ha(t){return r["\u0275vid"](0,[r["\u0275pid"](0,s.CurrencyPipe,[r.LOCALE_ID]),r["\u0275qud"](402653184,1,{clienteForm:0}),r["\u0275qud"](402653184,2,{botonCerrar:0}),(t()(),r["\u0275eld"](3,0,null,null,6,"section",[["class","py-4 mb-4 bg-light"],["id","actions"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,3,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,2,"a",[["class","btn btn-primary btn-block"],["data-target","#agregarClienteModal"],["data-toggle","modal"],["href","#"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,0,"i",[["class","fas fa-plus"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Agregar cliente "])),(t()(),r["\u0275eld"](10,0,null,null,35,"section",[["id","clientes"]],null,null,null,null,null)),(t()(),r["\u0275eld"](11,0,null,null,34,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](12,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](13,0,null,null,17,"div",[["class","col-md-9"]],null,null,null,null,null)),(t()(),r["\u0275eld"](14,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(t()(),r["\u0275eld"](15,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](16,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Listado de clientes"])),(t()(),r["\u0275eld"](18,0,null,null,12,"table",[["class","table table-striped"]],null,null,null,null,null)),(t()(),r["\u0275eld"](19,0,null,null,8,"thead",[["class","thead-dark"]],null,null,null,null,null)),(t()(),r["\u0275eld"](20,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](21,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["#"])),(t()(),r["\u0275eld"](23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Nombre"])),(t()(),r["\u0275eld"](25,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Saldo"])),(t()(),r["\u0275eld"](27,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),r["\u0275eld"](28,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,ca)),r["\u0275did"](30,278528,null,0,s.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275eld"](31,0,null,null,14,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](32,0,null,null,6,"div",[["class","card text-center bg-danger text-white mb-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](33,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r["\u0275eld"](34,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Saldo Total"])),(t()(),r["\u0275eld"](36,0,null,null,2,"h4",[["class","display-5"]],null,null,null,null,null)),(t()(),r["\u0275ted"](37,null,[" "," "])),r["\u0275ppd"](38,3),(t()(),r["\u0275eld"](39,0,null,null,6,"div",[["class","card text-center bg-success text-white mb-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](40,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r["\u0275eld"](41,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Total clientes"])),(t()(),r["\u0275eld"](43,0,null,null,2,"h4",[["class","display-5"]],null,null,null,null,null)),(t()(),r["\u0275eld"](44,0,null,null,0,"i",[["class","fas fa-users"]],null,null,null,null,null)),(t()(),r["\u0275ted"](45,null,[" "," "])),(t()(),r["\u0275eld"](46,0,null,null,89,"div",[["class","modal fade"],["id","agregarClienteModal"]],null,null,null,null,null)),(t()(),r["\u0275eld"](47,0,null,null,88,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),r["\u0275eld"](48,0,null,null,87,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),r["\u0275eld"](49,0,null,null,5,"div",[["class","modal-header bg-info text-white"]],null,null,null,null,null)),(t()(),r["\u0275eld"](50,0,null,null,1,"h5",[["class","modal-title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Agregar Cliente "])),(t()(),r["\u0275eld"](52,0,[[2,0],["botonCerrar",1]],null,2,"button",[["class","close"],["data-dismiss","modal"]],null,null,null,null,null)),(t()(),r["\u0275eld"](53,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\xd7"])),(t()(),r["\u0275eld"](55,0,null,null,1,"flash-messages",[],null,null,null,Ri,ki)),r["\u0275did"](56,114688,null,0,Ai.FlashMessagesComponent,[Oi.FlashMessagesService,r.ChangeDetectorRef],null,null),(t()(),r["\u0275eld"](57,0,null,null,78,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r["\u0275nov"](t,59).onSubmit(n)&&i),"reset"===e&&(i=!1!==r["\u0275nov"](t,59).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.agregar(r["\u0275nov"](t,59))&&i),i},null,null)),r["\u0275did"](58,16384,null,0,Po,[],null,null),r["\u0275did"](59,4210688,[[1,4],["clienteForm",4]],0,So,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r["\u0275prd"](2048,null,Li,null,[So]),r["\u0275did"](61,16384,null,0,vo,[[4,Li]],null,null),(t()(),r["\u0275eld"](62,0,null,null,70,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r["\u0275eld"](63,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](64,0,null,null,1,"label",[["for","nombre"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Nombre"])),(t()(),r["\u0275eld"](66,0,null,null,10,"input",[["class","form-control"],["minlength","2"],["name","nombre"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,69)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,69).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,69)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,69)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.cliente.nombre=n)&&i),i},null,null)),r["\u0275did"](67,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](68,{"is-invalid":0}),r["\u0275did"](69,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](70,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275did"](71,540672,null,0,No,[],{minlength:[0,"minlength"]},null),r["\u0275prd"](1024,null,Vi,function(t,e){return[t,e]},[ko,No]),r["\u0275prd"](1024,null,Ki,function(t){return[t]},[Wi]),r["\u0275did"](74,671744,[["nombre",4]],0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](76,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](77,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Nombre es Requerido"])),(t()(),r["\u0275eld"](79,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Logitud minima no alcanzada"])),(t()(),r["\u0275eld"](81,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](82,0,null,null,1,"label",[["for","apellido"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Apellido"])),(t()(),r["\u0275eld"](84,0,null,null,10,"input",[["class","form-control"],["minlength","2"],["name","apellido"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,87)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,87).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,87)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,87)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.cliente.apellido=n)&&i),i},null,null)),r["\u0275did"](85,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](86,{"is-invalid":0}),r["\u0275did"](87,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](88,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275did"](89,540672,null,0,No,[],{minlength:[0,"minlength"]},null),r["\u0275prd"](1024,null,Vi,function(t,e){return[t,e]},[ko,No]),r["\u0275prd"](1024,null,Ki,function(t){return[t]},[Wi]),r["\u0275did"](92,671744,[["apellido",4]],0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](94,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](95,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Apellido es Requerido"])),(t()(),r["\u0275eld"](97,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Logitud minima no alcanzada"])),(t()(),r["\u0275eld"](99,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](100,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Email"])),(t()(),r["\u0275eld"](102,0,null,null,10,"input",[["class","form-control"],["name","email"],["pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$"],["required",""],["type","email"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,105)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,105).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,105)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,105)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.cliente.email=n)&&i),i},null,null)),r["\u0275did"](103,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](104,{"is-invalid":0}),r["\u0275did"](105,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](106,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275did"](107,540672,null,0,xo,[],{pattern:[0,"pattern"]},null),r["\u0275prd"](1024,null,Vi,function(t,e){return[t,e]},[ko,xo]),r["\u0275prd"](1024,null,Ki,function(t){return[t]},[Wi]),r["\u0275did"](110,671744,[["email",4]],0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](112,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](113,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["El Email es Requerido"])),(t()(),r["\u0275eld"](115,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["El Email no es valido"])),(t()(),r["\u0275eld"](117,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](118,0,null,null,1,"label",[["for","saldo"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Saldo"])),(t()(),r["\u0275eld"](120,0,null,null,10,"input",[["class","form-control"],["name","saldo"],["required",""],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,123)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,123).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,123)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,123)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r["\u0275nov"](t,124).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r["\u0275nov"](t,124).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,124).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.cliente.saldo=n)&&i),i},null,null)),r["\u0275did"](121,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](122,{"is-invalid":0}),r["\u0275did"](123,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](124,16384,null,0,Xi,[r.Renderer2,r.ElementRef],null,null),r["\u0275did"](125,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,Vi,function(t){return[t]},[ko]),r["\u0275prd"](1024,null,Ki,function(t,e){return[t,e]},[Wi,Xi]),r["\u0275did"](128,671744,[["saldo",4]],0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](130,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](131,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["El Saldo es Requerido"])),(t()(),r["\u0275eld"](133,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),r["\u0275eld"](134,0,null,null,1,"button",[["class","btn-primary"],["type","submit"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Guardar"]))],function(t,e){var n=e.component;t(e,30,0,n.clientes),t(e,56,0);var i=t(e,68,0,r["\u0275nov"](e,74).errors&&r["\u0275nov"](e,74).touched);t(e,67,0,"form-control",i),t(e,70,0,""),t(e,71,0,"2"),t(e,74,0,"nombre",n.cliente.nombre);var o=t(e,86,0,r["\u0275nov"](e,92).errors&&r["\u0275nov"](e,92).touched);t(e,85,0,"form-control",o),t(e,88,0,""),t(e,89,0,"2"),t(e,92,0,"apellido",n.cliente.apellido);var a=t(e,104,0,r["\u0275nov"](e,110).errors&&r["\u0275nov"](e,110).touched);t(e,103,0,"form-control",a),t(e,106,0,""),t(e,107,0,"^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$"),t(e,110,0,"email",n.cliente.email);var u=t(e,122,0,r["\u0275nov"](e,128).errors&&r["\u0275nov"](e,128).touched);t(e,121,0,"form-control",u),t(e,125,0,""),t(e,128,0,"saldo",n.cliente.saldo)},function(t,e){var n=e.component,i=r["\u0275unv"](e,37,0,t(e,38,0,r["\u0275nov"](e,0),n.getSaldoTotal(),"MNX","$"));t(e,37,0,i),t(e,45,0,null==n.clientes?null:n.clientes.length),t(e,57,0,r["\u0275nov"](e,61).ngClassUntouched,r["\u0275nov"](e,61).ngClassTouched,r["\u0275nov"](e,61).ngClassPristine,r["\u0275nov"](e,61).ngClassDirty,r["\u0275nov"](e,61).ngClassValid,r["\u0275nov"](e,61).ngClassInvalid,r["\u0275nov"](e,61).ngClassPending),t(e,66,0,r["\u0275nov"](e,70).required?"":null,r["\u0275nov"](e,71).minlength?r["\u0275nov"](e,71).minlength:null,r["\u0275nov"](e,76).ngClassUntouched,r["\u0275nov"](e,76).ngClassTouched,r["\u0275nov"](e,76).ngClassPristine,r["\u0275nov"](e,76).ngClassDirty,r["\u0275nov"](e,76).ngClassValid,r["\u0275nov"](e,76).ngClassInvalid,r["\u0275nov"](e,76).ngClassPending),t(e,77,0,!(null!=r["\u0275nov"](e,74).errors&&r["\u0275nov"](e,74).errors.required)),t(e,79,0,!(null!=r["\u0275nov"](e,74).errors&&r["\u0275nov"](e,74).errors.minlength)),t(e,84,0,r["\u0275nov"](e,88).required?"":null,r["\u0275nov"](e,89).minlength?r["\u0275nov"](e,89).minlength:null,r["\u0275nov"](e,94).ngClassUntouched,r["\u0275nov"](e,94).ngClassTouched,r["\u0275nov"](e,94).ngClassPristine,r["\u0275nov"](e,94).ngClassDirty,r["\u0275nov"](e,94).ngClassValid,r["\u0275nov"](e,94).ngClassInvalid,r["\u0275nov"](e,94).ngClassPending),t(e,95,0,!(null!=r["\u0275nov"](e,92).errors&&r["\u0275nov"](e,92).errors.required)),t(e,97,0,!(null!=r["\u0275nov"](e,92).errors&&r["\u0275nov"](e,92).errors.minlength)),t(e,102,0,r["\u0275nov"](e,106).required?"":null,r["\u0275nov"](e,107).pattern?r["\u0275nov"](e,107).pattern:null,r["\u0275nov"](e,112).ngClassUntouched,r["\u0275nov"](e,112).ngClassTouched,r["\u0275nov"](e,112).ngClassPristine,r["\u0275nov"](e,112).ngClassDirty,r["\u0275nov"](e,112).ngClassValid,r["\u0275nov"](e,112).ngClassInvalid,r["\u0275nov"](e,112).ngClassPending),t(e,113,0,!(null!=r["\u0275nov"](e,110).errors&&r["\u0275nov"](e,110).errors.required)),t(e,115,0,!(null!=r["\u0275nov"](e,110).errors&&r["\u0275nov"](e,110).errors.pattern)),t(e,120,0,r["\u0275nov"](e,125).required?"":null,r["\u0275nov"](e,130).ngClassUntouched,r["\u0275nov"](e,130).ngClassTouched,r["\u0275nov"](e,130).ngClassPristine,r["\u0275nov"](e,130).ngClassDirty,r["\u0275nov"](e,130).ngClassValid,r["\u0275nov"](e,130).ngClassInvalid,r["\u0275nov"](e,130).ngClassPending),t(e,131,0,!(null!=r["\u0275nov"](e,128).errors&&r["\u0275nov"](e,128).errors.required))})}var fa=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),da=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function pa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,6,"header",[["class","py-2 bg-info text-white"],["id","main-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,3,"div",[["class","col-md-8"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,2,"h1",[],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,0,"i",[["class","fas fa-cog"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Control de Clientes "])),(t()(),r["\u0275eld"](7,0,null,null,1,"app-clientes",[],null,null,null,ha,la)),r["\u0275did"](8,114688,null,0,sa,[ua,Oi.FlashMessagesService],null,null)],function(t,e){t(e,8,0)},null)}function va(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-tablero",[],null,null,null,pa,da)),r["\u0275did"](1,114688,null,0,fa,[],null,null)],function(t,e){t(e,1,0)},null)}var ga=r["\u0275ccf"]("app-tablero",fa,va,{},{},[]),ya=function(){return function(t,e,n,r){var i=this;this.zone=r;var o=new Ho(r,n);this.auth=r.runOutsideAngular(function(){return Jo(t,e).auth()}),this.authState=o.keepUnstableUntilFirst(o.runOutsideAngular(new h.a(function(t){return{unsubscribe:i.auth.onAuthStateChanged(t)}}))),this.user=o.keepUnstableUntilFirst(o.runOutsideAngular(new h.a(function(t){return{unsubscribe:i.auth.onIdTokenChanged(t)}}))),this.idToken=this.user.pipe(ct(function(t){return t?Object(g.a)(t.getIdToken()):v(null)})),this.idTokenResult=this.user.pipe(ct(function(t){return t?Object(g.a)(t.getIdTokenResult()):v(null)}))}}(),ma=n("wj3C"),ba=n.n(ma);(function(){var t,e=e||{},n=this;function r(t){return"string"==typeof t}function i(t){return"boolean"==typeof t}var o=/^[\w+\/_-]+[=]{0,2}$/,a=null;function u(){}function s(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function l(t){return null===t}function c(t){return"array"==s(t)}function h(t){var e=s(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==s(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),v=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.pb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.gd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function C(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function E(t){if(Error.captureStackTrace)Error.captureStackTrace(this,E);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function S(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");E.call(this,n+t[r])}function I(t,e){throw new S("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function T(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function D(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function A(){this.b=this.a=null}_(E,Error),E.prototype.name="CustomError",_(S,E),S.prototype.name="AssertionError",T.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var O=new T(function(){return new N},function(t){t.reset()});function k(){var t=dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function N(){this.next=this.b=this.a=null}A.prototype.add=function(t,e){var n=O.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},N.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},N.prototype.reset=function(){this.next=this.b=this.a=null};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(r(t))return r(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},P=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=r(t)?t.split(""):t,a=0;a<i;a++)a in o&&e.call(n,o[a],a,t)},R=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),o=r(t)?t.split(""):t,a=0;a<n;a++)a in o&&(i[a]=e.call(void 0,o[a],a,t));return i},M=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t))return!0;return!1};function F(t,e){return 0<=x(t,e)}function L(t,e){var n;return(n=0<=(e=x(t,e)))&&Array.prototype.splice.call(t,e,1),n}function j(t,e){!function(t,e){var n=t.length,i=r(t)?t.split(""):t;for(--n;0<=n;--n)n in i&&e.call(void 0,i[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function V(t){return Array.prototype.concat.apply([],arguments)}function U(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var B,q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},H=/&/g,z=/</g,K=/>/g,G=/"/g,Q=/'/g,W=/\x00/g,Y=/[\x00&<>"']/;function J(t,e){return-1!=t.indexOf(e)}function X(t,e){return t<e?-1:t>e?1:0}t:{var Z=n.navigator;if(Z){var $=Z.userAgent;if($){B=$;break t}}B=""}function tt(t){return J(B,t)}function et(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function nt(t){for(var e in t)return!1;return!0}function rt(t){var e,n={};for(e in t)n[e]=t[e];return n}var it,ot,at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<at.length;o++)n=at[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function st(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function lt(t){return Y.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(H,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(K,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(G,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Q,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(W,"&#0;"))),t}function ct(t){n.setTimeout(function(){throw t},0)}function ht(t,e){ot||function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);ot=function(){t.then(pt)}}else ot=function(){var t=pt;!f(n.setImmediate)||n.Window&&n.Window.prototype&&!tt("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(it||(it=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!tt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=m(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!tt("Trident")&&!tt("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(void 0!==r.next){var t=(r=r.next).xb;r.xb=null,t()}},function(t){i.next={xb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),it(t)):n.setImmediate(t)}}(),ft||(ot(),ft=!0),dt.add(t,e)}var ft=!1,dt=new A;function pt(){for(var t;t=k();){try{t.a.call(t.b)}catch(e){ct(e)}D(O,t)}ft=!1}function vt(t,e){if(this.a=gt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=u)try{var n=this;t.call(e,function(t){At(n,yt,t)},function(t){if(!(t instanceof Mt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}At(n,mt,t)})}catch(r){At(this,mt,r)}}var gt=0,yt=2,mt=3;function bt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}bt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var wt=new T(function(){return new bt},function(t){t.reset()});function _t(t,e,n){var r=wt.get();return r.g=t,r.b=e,r.f=n,r}function Ct(t){if(t instanceof vt)return t;var e=new vt(u);return At(e,yt,t),e}function Et(t){return new vt(function(e,n){n(t)})}function St(t,e,n){Ot(t,e,n,null)||ht(b(e,t))}function It(t){return new vt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Eb:!0,value:o}:{Eb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)St(t[o],b(i,o,!0),b(i,o,!1));else e(r)})}function Tt(t,e){t.b||t.a!=yt&&t.a!=mt||kt(t),t.f?t.f.next=e:t.b=e,t.f=e}function Dt(t,e,n,r){var i=_t(null,null,null);return i.a=new vt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Mt?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,Tt(t,i),i.a}function At(t,e,n){t.a==gt&&(t===n&&(e=mt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ot(n,t.Pc,t.Qc,t)||(t.i=n,t.a=e,t.c=null,kt(t),e!=mt||n instanceof Mt||function(t,e){t.g=!0,ht(function(){t.g&&Rt.call(null,e)})}(t,n)))}function Ot(t,e,n,r){if(t instanceof vt)return Tt(t,_t(e||u,n||null,r)),!0;if(C(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function kt(t){t.h||(t.h=!0,ht(t.Yb,t))}function Nt(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function xt(t,e,n,r){if(n==mt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Pt(e,n,r);else try{e.c?e.g.call(e.f):Pt(e,n,r)}catch(i){Rt.call(null,i)}D(wt,e)}function Pt(t,e,n){e==yt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}vt.prototype.then=function(t,e,n){return Dt(this,f(t)?t:null,f(e)?e:null,n)},vt.prototype.$goog_Thenable=!0,(t=vt.prototype).ia=function(t,e){return(t=_t(t,t,e)).c=!0,Tt(this,t),this},t.s=function(t,e){return Dt(this,null,t,e)},t.cancel=function(t){this.a==gt&&ht(function(){!function t(e,n){if(e.a==gt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,u=r.b;u&&(u.c||(i++,u.a==e&&(o=u),!(o&&1<i)));u=u.next)o||(a=u);o&&(r.a==gt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Nt(r),xt(r,o,mt,n)))}e.c=null}else At(e,mt,n)}(this,new Mt(t))},this)},t.Pc=function(t){this.a=gt,At(this,yt,t)},t.Qc=function(t){this.a=gt,At(this,mt,t)},t.Yb=function(){for(var t;t=Nt(this);)xt(this,t,this.a,this.i);this.h=!1};var Rt=ct;function Mt(t){E.call(this,t)}function Ft(){0!=Lt&&(jt[this[p]||(this[p]=++v)]=this),this.qa=this.qa,this.ja=this.ja}_(Mt,E),Mt.prototype.name="cancel";var Lt=0,jt={};function Vt(t){if(!t.qa&&(t.qa=!0,t.va(),0!=Lt)){var e=t[p]||(t[p]=++v);if(0!=Lt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete jt[e]}}function Ut(t){return Ut[" "](t),t}Ft.prototype.qa=!1,Ft.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Ut[" "]=u;var Bt,qt,Ht=tt("Opera"),zt=tt("Trident")||tt("MSIE"),Kt=tt("Edge"),Gt=Kt||zt,Qt=tt("Gecko")&&!(J(B.toLowerCase(),"webkit")&&!tt("Edge"))&&!(tt("Trident")||tt("MSIE"))&&!tt("Edge"),Wt=J(B.toLowerCase(),"webkit")&&!tt("Edge");function Yt(){var t=n.document;return t?t.documentMode:void 0}t:{var Jt="",Xt=(qt=B,Qt?/rv:([^\);]+)(\)|;)/.exec(qt):Kt?/Edge\/([\d\.]+)/.exec(qt):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qt):Wt?/WebKit\/(\S+)/.exec(qt):Ht?/(?:Version)[ \/]?(\S+)/.exec(qt):void 0);if(Xt&&(Jt=Xt?Xt[1]:""),zt){var Zt=Yt();if(null!=Zt&&Zt>parseFloat(Jt)){Bt=String(Zt);break t}}Bt=Jt}var $t,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=q(String(Bt)).split("."),r=q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",u=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;e=X(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||X(0==a[2].length,0==u[2].length)||X(a[2],u[2]),a=a[3],u=u[3]}while(0==e)}return 0<=e})}var ne=n.document;$t=ne&&zt?Yt()||("CSS1Compat"==ne.compatMode?parseInt(Bt,10):5):void 0;var re=Object.freeze||function(t){return t},ie=!zt||9<=Number($t),oe=zt&&!ee("9"),ae=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{n.addEventListener("test",u,e),n.removeEventListener("test",u,e)}catch(r){}return t}();function ue(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function se(t,e){if(ue.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Ut(e.nodeName);var o=!0;break t}catch(a){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=r(t.pointerType)?t.pointerType:le[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}ue.prototype.preventDefault=function(){this.Kb=!1},_(se,ue);var le=re({2:"touch",3:"pen",4:"mouse"});se.prototype.preventDefault=function(){se.pb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,oe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},se.prototype.f=function(){return this.a};var ce="closure_listenable_"+(1e6*Math.random()|0),he=0;function fe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ma=i,this.key=++he,this.oa=this.Ia=!1}function de(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.Ma=null}function pe(t){this.src=t,this.a={},this.b=0}function ve(t,e){var n=e.type;n in t.a&&L(t.a[n],e)&&(de(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ge(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.oa&&o.listener==e&&o.capture==!!n&&o.Ma==r)return i}return-1}pe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ge(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new fe(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var ye="closure_lm_"+(1e6*Math.random()|0),me={};function be(t,e,n,r,i){if(r&&r.once)_e(t,e,n,r,i);else if(c(e))for(var o=0;o<e.length;o++)be(t,e[o],n,r,i);else n=ke(n),t&&t[ce]?xe(t,e,n,d(r)?!!r.capture:!!r,i):we(t,e,n,!1,r,i)}function we(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,u=Ae(t);if(u||(t[ye]=u=new pe(t)),!(n=u.add(e,n,r,a,o)).proxy)if(r=function(){var t=De,e=ie?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ae||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Se(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function _e(t,e,n,r,i){if(c(e))for(var o=0;o<e.length;o++)_e(t,e[o],n,r,i);else n=ke(n),t&&t[ce]?Pe(t,e,n,d(r)?!!r.capture:!!r,i):we(t,e,n,!0,r,i)}function Ce(t,e,n,r,i){if(c(e))for(var o=0;o<e.length;o++)Ce(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=ke(n),t&&t[ce]?(t=t.o,(e=String(e).toString())in t.a&&-1<(n=ge(o=t.a[e],n,r,i))&&(de(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ae(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ge(e,n,r,i)),(n=-1<t?e[t]:null)&&Ee(n))}function Ee(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[ce])ve(e.o,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Se(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ae(e))?(ve(n,t),0==n.b&&(n.src=null,e[ye]=null)):de(t)}}}function Se(t){return t in me?me[t]:me[t]="on"+t}function Ie(t,e,n,r){var i=!0;if((t=Ae(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.oa&&(o=Te(o,r),i=i&&!1!==o)}return i}function Te(t,e){var n=t.listener,r=t.Ma||t.src;return t.Ia&&Ee(t),n.call(r,e)}function De(t,e){if(t.oa)return!0;if(!ie){if(!e)t:{e=["window","event"];for(var r=n,i=0;i<e.length;i++)if(null==(r=r[e[i]])){e=null;break t}e=r}if(e=new se(i=e,this),r=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(u){o=!0}(o||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.b;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.b=i[o];var a=Ie(i[o],t,!0,e);r=r&&a}for(o=0;o<i.length;o++)e.b=i[o],a=Ie(i[o],t,!1,e),r=r&&a}return r}return Te(t,new se(e,this))}function Ae(t){return(t=t[ye])instanceof pe?t:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(t){return f(t)?t:(t[Oe]||(t[Oe]=function(e){return t.handleEvent(e)}),t[Oe])}function Ne(){Ft.call(this),this.o=new pe(this),this.Rb=this,this.Wa=null}function xe(t,e,n,r,i){t.o.add(String(e),n,!1,r,i)}function Pe(t,e,n,r,i){t.o.add(String(e),n,!0,r,i)}function Re(t,e,n,r){if(!(e=t.o.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.oa&&a.capture==n){var u=a.listener,s=a.Ma||a.src;a.Ia&&ve(t.o,a),i=!1!==u.call(s,r)&&i}}return i&&0!=r.Kb}function Me(t,e,r){if(f(t))r&&(t=m(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function Fe(t){var e=null;return new vt(function(n,r){-1==(e=Me(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function Le(t){if(t.S&&"function"==typeof t.S)return t.S();if(r(t))return t.split("");if(h(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function je(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(h(t)||r(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function Ve(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ve)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ue(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Be(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Be(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Be(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(Ne,Ft),Ne.prototype[ce]=!0,Ne.prototype.addEventListener=function(t,e,n,r){be(this,t,e,n,r)},Ne.prototype.removeEventListener=function(t,e,n,r){Ce(this,t,e,n,r)},Ne.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Rb;var i=t.type||t;if(r(t))t=new ue(t,n);else if(t instanceof ue)t.target=t.target||n;else{var o=t;ut(t=new ue(i,n),o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var u=t.b=e[a];o=Re(u,i,!0,t)&&o}if(o=Re(u=t.b=n,i,!0,t)&&o,o=Re(u,i,!1,t)&&o,e)for(a=0;a<e.length;a++)o=Re(u=t.b=e[a],i,!1,t)&&o;return o},Ne.prototype.va=function(){if(Ne.pb.va.call(this),this.o){var t,e=this.o;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)de(n[r]);delete e.a[t],e.b--}}this.Wa=null},(t=Ve.prototype).S=function(){Ue(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Ue(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Be(this.b,t)?this.b[t]:e},t.set=function(t,e){Be(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var qe=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function He(t,e){if(this.b=this.o=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof He){this.f=void 0!==e?e:t.f,ze(this,t.c),this.o=t.o,this.b=t.b,Ke(this,t.i),this.g=t.g,e=t.a;var n=new an;n.c=e.c,e.a&&(n.a=new Ve(e.a),n.b=e.b),Ge(this,n),this.h=t.h}else t&&(n=String(t).match(qe))?(this.f=!!e,ze(this,n[1]||"",!0),this.o=Xe(n[2]||""),this.b=Xe(n[3]||"",!0),Ke(this,n[4]),this.g=Xe(n[5]||"",!0),Ge(this,n[6]||"",!0),this.h=Xe(n[7]||"")):(this.f=!!e,this.a=new an(null,this.f))}function ze(t,e,n){t.c=n?Xe(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ke(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Ge(t,e,n){e instanceof an?(t.a=e,function(t,e){e&&!t.f&&(un(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ln(this,e),hn(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=Ze(e,rn)),t.a=new an(e,t.f))}function Qe(t,e,n){t.a.set(e,n)}function We(t,e){return t.a.get(e)}function Ye(t){return t instanceof He?new He(t):new He(t,void 0)}function Je(t,e){var n=new He(null,void 0);return ze(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Xe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ze(t,e,n){return r(t)?(t=encodeURI(t).replace(e,$e),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $e(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}He.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Ze(e,tn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(Ze(e,tn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ze(n,"/"==n.charAt(0)?nn:en,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Ze(n,on)),t.join("")};var tn=/[#\/\?@]/g,en=/[#\?:]/g,nn=/[#\?]/g,rn=/[#\?@]/g,on=/#/g;function an(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function un(t){t.a||(t.a=new Ve,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function sn(t){var e=je(t);if(void 0===e)throw Error("Keys are undefined");var n=new an(null,void 0);t=Le(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];c(o)?hn(n,i,o):n.add(i,o)}return n}function ln(t,e){un(t),e=fn(t,e),Be(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Be((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ue(t)))}function cn(t,e){return un(t),e=fn(t,e),Be(t.a.b,e)}function hn(t,e,n){ln(t,e),0<n.length&&(t.c=null,t.a.set(fn(t,e),U(n)),t.b+=n.length)}function fn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=an.prototype).add=function(t,e){un(this),this.c=null,t=fn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){un(this),this.a.forEach(function(n,r){P(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){un(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){un(this);var e=[];if(r(t))cn(this,t)&&(e=V(e,this.a.get(fn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=V(e,t[n])}return e},t.set=function(t,e){return un(this),this.c=null,cn(this,t=fn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.S(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var dn=!zt||9<=Number($t);function pn(t,e){this.a=t===yn&&e||"",this.b=gn}function vn(t){return t instanceof pn&&t.constructor===pn&&t.b===gn?t.a:(I("expected object of type Const, got '"+t+"'"),"type_error:Const")}pn.prototype.na=!0,pn.prototype.ma=function(){return this.a},pn.prototype.toString=function(){return"Const{"+this.a+"}"};var gn={},yn={};function mn(){this.a="",this.b=En}function bn(t){return t instanceof mn&&t.constructor===mn&&t.b===En?t.a:(I("expected object of type TrustedResourceUrl, got '"+t+"' of type "+s(t)),"type_error:TrustedResourceUrl")}function wn(t,e){var n=vn(t);if(!Cn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new mn;return e.a=t,e}(t=n.replace(_n,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof pn?vn(t):encodeURIComponent(String(t))}))}mn.prototype.na=!0,mn.prototype.ma=function(){return this.a.toString()},mn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _n=/%{(\w+)}/g,Cn=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,En={};function Sn(){this.a="",this.b=An}function In(t){return t instanceof Sn&&t.constructor===Sn&&t.b===An?t.a:(I("expected object of type SafeUrl, got '"+t+"' of type "+s(t)),"type_error:SafeUrl")}Sn.prototype.na=!0,Sn.prototype.ma=function(){return this.a.toString()},Sn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Tn=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Dn(t){return t instanceof Sn?t:(t="object"==typeof t&&t.na?t.ma():String(t),Tn.test(t)||(t="about:invalid#zClosurez"),On(t))}var An={};function On(t){var e=new Sn;return e.a=t,e}function kn(){this.a="",this.b=Nn}On("about:blank"),kn.prototype.na=!0,kn.prototype.ma=function(){return this.a.toString()},kn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Nn={};function xn(t){var e=new kn;return e.a=t,e}function Pn(t){var e=document;return r(t)?e.getElementById(t):t}function Rn(t,e){et(e,function(e,n){e&&"object"==typeof e&&e.na&&(e=e.ma()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Mn.hasOwnProperty(n)?t.setAttribute(Mn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}xn("<!DOCTYPE html>"),xn(""),xn("<br>");var Mn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Fn(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function Ln(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(c(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Bn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Bn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new jn,t,e),e.join("")}function jn(){}var Vn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Un=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Bn(t,e){e.push('"',t.replace(Un,function(t){var e=Vn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Vn[t]=e),e}),'"')}function qn(){var t=ur();return zt&&!!$t&&11==$t||/Edge\/\d+/.test(t)}function Hn(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function zn(t,e){e=e||n.window;var r="about:blank";t&&(r=In(Dn(t)).toString()),e.location.href=r}function Kn(t){return!!((t=(t||ur()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Gn(t){t=t||n.window;try{t.close()}catch(e){}}function Qn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ur().toLowerCase(),r&&(e.target=r,J(n,"crios/")&&(e.target="_blank")),ir(ur())==nr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Sn?n:Dn(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((tt("iPhone")&&!tt("iPod")&&!tt("iPad")||tt("iPad")||tt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof Sn||e instanceof Sn||(e="object"==typeof e&&e.na?e.ma():String(e),Tn.test(e)||(e="about:invalid#zClosurez"),e=On(e)),a.href=In(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=In(e).toString(),a&&(Gt&&J(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=xn('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+lt(t)+'">'),a.document.write(function(t){return t instanceof kn&&t.constructor===kn&&t.b===Nn?t.a:(I("expected object of type SafeHtml, got '"+t+"' of type "+s(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=r.open(In(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(u){}return a}var Wn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yn=/^[^@]+@[^@]+$/;function Jn(){var t=null;return new vt(function(e){"complete"==n.document.readyState?e():(t=function(){e()},_e(window,"load",t))}).s(function(e){throw Ce(window,"load",t),e})}function Xn(t){return t=t||ur(),!("file:"!==fr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zn(){var t=n.window;try{return!(!t||t==t.top)}catch(e){return!1}}function $n(){return void 0!==n.WorkerGlobalScope&&"function"==typeof n.importScripts}function tr(){return ba.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ba.a.INTERNAL.hasOwnProperty("node")?"Node":$n()?"Worker":"Browser"}function er(){var t=tr();return"ReactNative"===t||"Node"===t}var nr="Firefox",rr="Chrome";function ir(t){var e=t.toLowerCase();return J(e,"opera/")||J(e,"opr/")||J(e,"opios/")?"Opera":J(e,"iemobile")?"IEMobile":J(e,"msie")||J(e,"trident/")?"IE":J(e,"edge/")?"Edge":J(e,"firefox/")?nr:J(e,"silk/")?"Silk":J(e,"blackberry")?"Blackberry":J(e,"webos")?"Webos":!J(e,"safari/")||J(e,"chrome/")||J(e,"crios/")||J(e,"android")?!J(e,"chrome/")&&!J(e,"crios/")||J(e,"edge/")?J(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":rr:"Safari"}var or={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function ar(t,e){e=e||[];var n,r=[],i={};for(n in or)i[or[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=tr())?r=ir(i=ur()):"Worker"===r&&(r=ir(i=ur())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function ur(){return n.navigator&&n.navigator.userAgent||""}function sr(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e}function lr(){try{var t=n.localStorage,e=yr();if(t)return t.setItem(e,"1"),t.removeItem(e),!qn()||!!n.indexedDB}catch(r){return $n()&&!!n.indexedDB}return!1}function cr(){return(hr()||"chrome-extension:"===fr()||Xn())&&!er()&&lr()&&!$n()}function hr(){return"http:"===fr()||"https:"===fr()}function fr(){return n.location&&n.location.protocol||null}function dr(t){return!Kn(t=t||ur())&&ir(t)!=nr}function pr(t){return void 0===t?null:Ln(t)}function vr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function gr(t){if(null!==t)return JSON.parse(t)}function yr(t){return t||Math.floor(1e9*Math.random()).toString()}function mr(t){return"Safari"!=ir(t=t||ur())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function br(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function wr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=ur(),e=tr(),this.b=Kn(t)||"ReactNative"===e}function _r(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Cr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Er(){return!(!sr("fireauth.oauthhelper",n)&&!sr("fireauth.iframe",n))}wr.prototype.get=function(){var t=n.navigator;return!t||"boolean"!=typeof t.onLine||!hr()&&"chrome-extension:"!==fr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Sr,Ir={};function Tr(t){Ir[t]||(Ir[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Dr={};Object.defineProperty(Dr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Dr,"abcd",{configurable:!0,enumerable:!0,value:2}),Sr=2==Dr.abcd}catch(qt){Sr=!1}function Ar(t,e,n){Sr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Or(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ar(t,n,e[n])}function kr(t){var e={};return Or(e,t),e}function Nr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ar(e,n,Nr(t[n]));return e}function xr(t){var e={},n=t[Rr],r=t[Mr];if(!(t=t[Fr])||t!=Pr&&!n)throw Error("Invalid provider user info!");e[jr]=r||null,e[Lr]=n||null,Ar(this,Ur,t),Ar(this,Vr,Nr(e))}var Pr="EMAIL_SIGNIN",Rr="email",Mr="newEmail",Fr="requestType",Lr="email",jr="fromEmail",Vr="data",Ur="operation";function Br(t,e){this.code=Hr+t,this.message=e||zr[t]||""}function qr(t){var e=t&&t.code;return e?new Br(e.substring(Hr.length),t.message):null}_(Br,Error),Br.prototype.w=function(){return{code:this.code,message:this.message}},Br.prototype.toJSON=function(){return this.w()};var Hr="auth/",zr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Kr(t){var e=t[Jr];if(void 0===e)throw new Br("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Br("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Gr];if(n&&"object"==typeof n){e=n[$r];var r=n[Xr];if(n=n[Zr],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Br("argument-error",Xr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Br("argument-error",Zr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Br("argument-error",$r+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Br("missing-android-pkg-name")}}else if(void 0!==n)throw new Br("argument-error",Gr+" property must be a non null object when specified.");if(this.f=null,(e=t[Yr])&&"object"==typeof e){if("string"==typeof(e=e[ti])&&e.length)this.f=e;else if(void 0!==e)throw new Br("argument-error",ti+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Br("argument-error",Yr+" property must be a non null object when specified.");if(void 0!==(e=t[Wr])&&"boolean"!=typeof e)throw new Br("argument-error",Wr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Qr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Br("argument-error",Qr+" property must be a non empty string when specified.");this.i=t||null}var Gr="android",Qr="dynamicLinkDomain",Wr="handleCodeInApp",Yr="iOS",Jr="url",Xr="installApp",Zr="minimumVersion",$r="packageName",ti="bundleId";function ei(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ni=null,ri=null;function ii(t){this.c=t.sub,w(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function oi(t){return(t=ai(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ii(t):null}function ai(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ri[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ni){ni={},ri={};for(var t=0;65>t;t++)ni[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),ri[ni[t]]=t,62<=t&&(ri["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),u=n(64);if(64===u&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=u&&e(a<<6&192|u))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}ii.prototype.f=function(){return this.b};var ui,si={bd:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function li(t){for(var e in si)if(si[e].id===t)return{firebaseEndpoint:(t=si[e]).bb,secureTokenEndpoint:t.jb};return null}ui=li("__EID__")?"__EID__":void 0;var ci="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),hi=["client_id","response_type","scope","redirect_uri","state"],fi={Xc:{Na:"locale",Ba:500,Aa:600,Oa:"facebook.com",ib:hi},Zc:{Na:null,Ba:500,Aa:620,Oa:"github.com",ib:hi},$c:{Na:"hl",Ba:515,Aa:680,Oa:"google.com",ib:hi},fd:{Na:"lang",Ba:485,Aa:705,Oa:"twitter.com",ib:ci}};function di(t){for(var e in fi)if(fi[e].Oa==t)return fi[e];return null}function pi(t){var e={};e["facebook.com"]=bi,e["google.com"]=_i,e["github.com"]=wi,e["twitter.com"]=Ci;var n=t&&t[gi];try{if(n)return e[n]?new e[n](t):new mi(t);if(void 0!==t[vi])return new yi(t)}catch(r){}return null}var vi="idToken",gi="providerId";function yi(t){var e=t[gi];if(!e&&t[vi]){var n=oi(t[vi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ar(this,"providerId",e),Ar(this,"isNewUser",n)}function mi(t){yi.call(this,t),Ar(this,"profile",Nr((t=gr(t.rawUserInfo||"{}"))||{}))}function bi(t){if(mi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function wi(t){if(mi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ar(this,"username",this.profile&&this.profile.login||null)}function _i(t){if(mi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ci(t){if(mi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ar(this,"username",t.screenName||null)}function Ei(t){this.a=Ye(t)}function Si(t){var e=Ye(t),n=We(e,"link"),r=We(Ye(n),"link");return e=We(e,"deep_link_id"),We(Ye(e),"link")||e||r||n||t}function Ii(){}function Ti(t,e){return t.then(function(t){if(t[fa]){var n=oi(t[fa]);if(!n||e!=n.c)throw new Br("user-mismatch");return t}throw new Br("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Hr+"user-not-found"?new Br("user-mismatch"):t})}function Di(t,e){if(!e)throw new Br("internal-error","failed to construct a credential");this.a=e,Ar(this,"providerId",t),Ar(this,"signInMethod",t)}function Ai(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Oi(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Di(t.providerId,t.pendingToken)}catch(e){}return null}function ki(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ar(this,"idToken",e.idToken),e.accessToken&&Ar(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ar(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Br("internal-error","failed to construct a credential");Ar(this,"accessToken",e.oauthToken),Ar(this,"secret",e.oauthTokenSecret)}Ar(this,"providerId",t),Ar(this,"signInMethod",n)}function Ni(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:sn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function xi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ki(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Pi(t,e){this.Fc=e||[],Or(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.eb=(di(t)||{}).Na||null,this.ab=null}function Ri(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Br("argument-error",'SAML provider IDs must be prefixed with "saml."');Pi.call(this,t,[])}function Mi(t){Pi.call(this,t,hi),this.a=[]}function Fi(){Mi.call(this,"facebook.com")}function Li(t){if(!t)throw new Br("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new Fi).credential({accessToken:e})}function ji(){Mi.call(this,"github.com")}function Vi(t){if(!t)throw new Br("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new ji).credential({accessToken:e})}function Ui(){Mi.call(this,"google.com"),this.ua("profile")}function Bi(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new Ui).credential({idToken:n,accessToken:e})}function qi(){Pi.call(this,"twitter.com",ci)}function Hi(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Br("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ki("twitter.com",n,"twitter.com")}function zi(t,e,n){this.a=t,this.c=e,Ar(this,"providerId","password"),Ar(this,"signInMethod",n===Gi.EMAIL_LINK_SIGN_IN_METHOD?Gi.EMAIL_LINK_SIGN_IN_METHOD:Gi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ki(t){return t&&t.email&&t.password?new zi(t.email,t.password,t.signInMethod):null}function Gi(){Or(this,{providerId:"password",isOAuthProvider:!1})}function Qi(t,e){if(!(e=Wi(e)))throw new Br("argument-error","Invalid email link!");return new zi(t,e,Gi.EMAIL_LINK_SIGN_IN_METHOD)}function Wi(t){var e=We((t=new Ei(t=Si(t))).a,"oobCode")||null;return"signIn"===(We(t.a,"mode")||null)&&e?e:null}function Yi(t){if(!(t.Ua&&t.Ta||t.Fa&&t.$))throw new Br("internal-error");this.a=t,Ar(this,"providerId","phone"),Ar(this,"signInMethod","phone")}function Ji(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return P(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Yi(e)}return null}function Xi(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function Zi(t){try{this.a=t||ba.a.auth()}catch(e){throw new Br("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Or(this,{providerId:"phone",isOAuthProvider:!1})}function $i(t,e){if(!t)throw new Br("missing-verification-id");if(!e)throw new Br("missing-verification-code");return new Yi({Ua:t,Ta:e})}function to(t){if(t.temporaryProof&&t.phoneNumber)return new Yi({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Bi(o,n);case"facebook.com":return Li(n);case"github.com":return Vi(n);case"twitter.com":return Hi(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new Di(e,a):new ki(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Mi(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(u){return null}}function eo(t){if(!t.isOAuthProvider)throw new Br("invalid-oauth-provider")}function no(t,e,n,r,i,o){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.a=i||null,!this.g&&!this.a)throw new Br("invalid-auth-event");if(this.g&&this.a)throw new Br("invalid-auth-event");if(this.g&&!this.f)throw new Br("invalid-auth-event")}function ro(t){return(t=t||{}).type?new no(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&qr(t.error),t.postBody):null}function io(){this.b=null,this.a=[]}_(mi,yi),_(bi,mi),_(wi,mi),_(_i,mi),_(Ci,mi),Di.prototype.la=function(t){return Na(t,Ai(this))},Di.prototype.b=function(t,e){var n=Ai(this);return n.idToken=e,xa(t,n)},Di.prototype.f=function(t,e){return Ti(Pa(t,Ai(this)),e)},Di.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ki.prototype.la=function(t){return Na(t,Ni(this))},ki.prototype.b=function(t,e){var n=Ni(this);return n.idToken=e,xa(t,n)},ki.prototype.f=function(t,e){return Ti(Pa(t,Ni(this)),e)},ki.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Pi.prototype.Da=function(t){return this.zb=rt(t),this},_(Ri,Pi),_(Mi,Pi),Mi.prototype.ua=function(t){return F(this.a,t)||this.a.push(t),this},Mi.prototype.Fb=function(){return U(this.a)},Mi.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Br("argument-error","credential failed: must provide the ID token and/or the access token.");return new ki(this.providerId,n,this.providerId)},_(Fi,Mi),Ar(Fi,"PROVIDER_ID","facebook.com"),Ar(Fi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(ji,Mi),Ar(ji,"PROVIDER_ID","github.com"),Ar(ji,"GITHUB_SIGN_IN_METHOD","github.com"),_(Ui,Mi),Ar(Ui,"PROVIDER_ID","google.com"),Ar(Ui,"GOOGLE_SIGN_IN_METHOD","google.com"),_(qi,Pi),Ar(qi,"PROVIDER_ID","twitter.com"),Ar(qi,"TWITTER_SIGN_IN_METHOD","twitter.com"),zi.prototype.la=function(t){return this.signInMethod==Gi.EMAIL_LINK_SIGN_IN_METHOD?su(t,Ba,{email:this.a,oobCode:this.c}):su(t,iu,{email:this.a,password:this.c})},zi.prototype.b=function(t,e){return this.signInMethod==Gi.EMAIL_LINK_SIGN_IN_METHOD?su(t,qa,{idToken:e,email:this.a,oobCode:this.c}):su(t,Za,{idToken:e,email:this.a,password:this.c})},zi.prototype.f=function(t,e){return Ti(this.la(t),e)},zi.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Or(Gi,{PROVIDER_ID:"password"}),Or(Gi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Or(Gi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Yi.prototype.la=function(t){return t.Va(Xi(this))},Yi.prototype.b=function(t,e){var n=Xi(this);return n.idToken=e,su(t,au,n)},Yi.prototype.f=function(t,e){var n=Xi(this);return n.operation="REAUTH",Ti(t=su(t,uu,n),e)},Yi.prototype.w=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},Zi.prototype.Va=function(t,e){var n=this.a.b;return Ct(e.verify()).then(function(i){if(!r(i))throw new Br("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return su(n,Ja,e)}(0,{phoneNumber:t,recaptchaToken:i}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Br("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Or(Zi,{PROVIDER_ID:"phone"}),Or(Zi,{PHONE_SIGN_IN_METHOD:"phone"}),no.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},no.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var oo,ao=null;function uo(t){var e="unauthorized-domain",n=void 0,r=Ye(t);t=r.b,"chrome-extension"==(r=r.c)?n=st("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=st("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Br.call(this,e,n)}function so(t,e,n){Br.call(this,t,n),(t=e||{}).Ab&&Ar(this,"email",t.Ab),t.$&&Ar(this,"phoneNumber",t.$),t.credential&&Ar(this,"credential",t.credential)}function lo(t){if(t.code){var e=t.code||"";0==e.indexOf(Hr)&&(e=e.substring(Hr.length));var n={credential:to(t)};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new Br(e,t.message||void 0);return new so(e,n,t.message)}return null}function co(){}function ho(){}function fo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function po(){}function vo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=m(this.fc,this),this.a.onerror=m(this.Gb,this),this.a.onprogress=m(this.gc,this),this.a.ontimeout=m(this.kc,this)}function go(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function yo(t,e,n){this.reset(t,e,n,void 0,void 0)}function mo(t){this.f=t,this.b=this.c=this.a=null}function bo(t,e){this.name=t,this.value=e}io.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=sr("universalLinks.subscribe",n))&&t(null,this.b))},io.prototype.unsubscribe=function(t){j(this.a,function(e){return e==t})},_(uo,Br),_(so,Br),so.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.w();return e&&ut(t,e),t},so.prototype.toJSON=function(){return this.w()},co.prototype.c=null,_(ho,co),ho.prototype.a=function(){var t=fo(this);return t?new ActiveXObject(t):new XMLHttpRequest},ho.prototype.b=function(){var t={};return fo(this)&&(t[0]=!0,t[1]=!0),t},oo=new ho,_(po,co),po.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new vo;throw Error("Unsupported browser")},po.prototype.b=function(){return{}},(t=vo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,go(this,4)},t.Gb=function(){this.status=500,this.response=this.responseText="",go(this,4)},t.kc=function(){this.Gb()},t.gc=function(){this.status=200,go(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},yo.prototype.a=null,yo.prototype.reset=function(t,e,n,r,i){r||w(),delete this.a},bo.prototype.toString=function(){return this.name};var wo=new bo("SEVERE",1e3),_o=new bo("WARNING",900),Co=new bo("CONFIG",700),Eo=new bo("FINE",500);mo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(I("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new yo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var So={},Io=null;function To(t){var e;if(Io||(Io=new mo(""),So[""]=Io,Io.c=Co),!(e=So[t])){e=new mo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=To(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,So[t]=e}return e}function Do(t,e){t&&t.log(Eo,e,void 0)}function Ao(t){this.f=t}function Oo(t){Ne.call(this),this.u=t,this.readyState=ko,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=To("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(Ao,co),Ao.prototype.a=function(){return new Oo(this.f)},Ao.prototype.b=function(t){return function(){return t}}({}),_(Oo,Ne);var ko=0;function No(t){t.c.read().then(t.ec.bind(t)).catch(t.La.bind(t))}function xo(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Po(t)}function Po(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ro(t){Ne.call(this),this.headers=new Ve,this.D=t||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.m=Mo,this.v=this.O=!1}(t=Oo.prototype).open=function(t,e){if(this.readyState!=ko)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Po(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.La.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,xo(this,!1)),this.readyState=ko},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Po(this)),this.a&&(this.readyState=3,Po(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.La.bind(this)):void 0!==n.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,No(this)):t.text().then(this.ic.bind(this),this.La.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?xo(this,!0):Po(this),3==this.readyState&&No(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,xo(this,!0))},t.hc=function(t){this.a&&(this.response=t,xo(this,!0))},t.La=function(t){var e=this.h;e&&e.log(_o,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&xo(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(_o,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(_o,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(Ro,Ne);var Mo="";Ro.prototype.b=To("goog.net.XhrIo");var Fo=/^https?$/i,Lo=["POST","PUT"];function jo(t){return"content-type"==t.toLowerCase()}function Vo(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Uo(t),qo(t)}function Uo(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Bo(t){if(t.c&&void 0!==e)if(t.A[1]&&4==zo(t)&&2==Ko(t))Do(t.b,Go(t,"Local request error detected and ignored"));else if(t.i&&4==zo(t))Me(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==zo(t)){Do(t.b,Go(t,"Request complete")),t.c=!1;try{var r,i=Ko(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(r=o)){var a;if(a=0===i){var u=String(t.l).match(qe)[1]||null;if(!u&&n.self&&n.self.location){var s=n.self.location.protocol;u=s.substr(0,s.length-1)}a=!Fo.test(u?u.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<zo(t)?t.a.statusText:""}catch(c){Do(t.b,"Can not get status: "+c.message),l=""}t.h=l+" ["+Ko(t)+"]",Uo(t)}}finally{qo(t)}}}function qo(t,e){if(t.a){Ho(t);var n=t.a,r=t.A[0]?u:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(wo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ho(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function zo(t){return t.a?t.a.readyState:0}function Ko(t){try{return 2<zo(t)?t.a.status:-1}catch(e){return-1}}function Go(t,e){return e+" ["+t.N+" "+t.l+" "+Ko(t)+"]"}function Qo(t){var e=ia;this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.o=0}function Wo(t,e,n){t.a=!0,t.c=n,t.f=!e,Zo(t)}function Yo(t){if(t.a){if(!t.l)throw new $o(t);t.l=!1}}function Jo(t,e,n,r){t.g.push([e,n,r]),t.a&&Zo(t)}function Xo(t){return M(t.g,function(t){return f(t[1])})}function Zo(t){if(t.h&&t.a&&Xo(t)){var e=t.h,r=na[e];r&&(n.clearTimeout(r.a),delete na[e]),t.h=0}t.b&&(t.b.o--,delete t.b),e=t.c;for(var i=r=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],u=o[1];if(o=o[2],a=t.f?u:a)try{var s=a.call(o||t.u,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(C(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(i=!0,t.i=!0)}catch(l){e=l,t.f=!0,Xo(t)||(r=!0)}}t.c=e,i&&(s=m(t.m,t,!0),i=m(t.m,t,!1),e instanceof Qo?(Jo(e,s,i),e.A=!0):e.then(s,i)),r&&(e=new ea(e),na[e.a]=e,t.h=e.a)}function $o(){E.call(this)}function ta(){E.call(this)}function ea(t){this.a=n.setTimeout(m(this.c,this),0),this.b=t}(t=Ro.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Do(this.b,Go(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Do(this.b,Go(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),qo(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),qo(this,!0)),Ro.pb.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?Bo(this):this.yc())},t.yc=function(){Bo(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Mo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(wo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Do(this.b,"Can not get response: "+e.message),null}},Qo.prototype.cancel=function(t){if(this.a)this.c instanceof Qo&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.o--,0>=e.o&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new ta(this),Yo(this),Wo(this,!1,t))}},Qo.prototype.m=function(t,e){this.i=!1,Wo(this,t,e)},Qo.prototype.then=function(t,e,n){var r,i,o=new vt(function(t,e){r=t,i=e});return Jo(this,r,function(t){t instanceof ta?o.cancel():i(t)}),o.then(t,e,n)},Qo.prototype.$goog_Thenable=!0,_($o,E),$o.prototype.message="Deferred has already fired",$o.prototype.name="AlreadyCalledError",_(ta,E),ta.prototype.message="Deferred was canceled",ta.prototype.name="CanceledError",ea.prototype.c=function(){throw delete na[this.a],this.b};var na={};function ra(t){var e={},r=e.document||document,i=bn(t).toString(),u=document.createElement("SCRIPT"),s={Lb:u,Ga:void 0},l=new Qo(s),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout(function(){oa(u,!0);var t=new sa(ua,"Timeout reached for loading script "+i);Yo(l),Wo(l,!1,t)},h),s.Ga=c),u.onload=u.onreadystatechange=function(){u.readyState&&"loaded"!=u.readyState&&"complete"!=u.readyState||(oa(u,e.hd||!1,c),Yo(l),Wo(l,!0,null))},u.onerror=function(){oa(u,!0,c);var t=new sa(aa,"Error while loading script "+i);Yo(l),Wo(l,!1,t)},ut(s=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Rn(u,s),function(t,e){t.src=bn(e),null===a&&(a=(e=(e=n.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&o.test(e)?e:""),(e=a)&&t.setAttribute("nonce",e)}(u,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(r).appendChild(u),l}function ia(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&oa(t,!0,this.Ga)}}function oa(t,e,r){null!=r&&n.clearTimeout(r),t.onload=u,t.onerror=u,t.onreadystatechange=u,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var aa=0,ua=1;function sa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),E.call(this,n),this.code=t}function la(t){this.f=t}function ca(t,e,r){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.o=t.secureTokenTimeout||da,this.f=rt(t.secureTokenHeaders||pa),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||va,this.a=rt(t.firebaseHeaders||ga),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==tr(),!(r=n.XMLHttpRequest||r&&ba.a.INTERNAL.node&&ba.a.INTERNAL.node.XMLHttpRequest)&&!$n())throw new Br("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=$n()?new Ao(self):er()?new la(r):new po}_(sa,E),_(la,co),la.prototype.a=function(){return new this.f},la.prototype.b=function(){return{}};var ha,fa="idToken",da=new wr(3e4,6e4),pa={"Content-Type":"application/x-www-form-urlencoded"},va=new wr(3e4,6e4),ga={"Content-Type":"application/json"};function ya(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ma(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function wa(t,e,r,i,o,a,u){(function(){var t=ur();return!((t=ir(t)!=rr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||zt&&$t&&!(9<$t))})()||$n()?t=m(t.m,t):(ha||(ha=new vt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[Ca]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=wn(_a,{onload:Ca});!function(t,e){Jo(ra(r),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=m(t.l,t)),t(e,r,i,o,a,u)}ca.prototype.m=function(t,e,i,o,a,u){if($n()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new Br("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new Ro(this.c);if(u){s.g=Math.max(0,u);var l=setTimeout(function(){s.dispatchEvent("timeout")},u)}xe(s,"complete",function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Do(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Pe(s,"ready",function(){l&&clearTimeout(l),Vt(this)}),Pe(s,"timeout",function(){l&&clearTimeout(l),Vt(this),e&&e(null)}),function(t,e,i,o,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);i=i?i.toUpperCase():"GET",t.l=e,t.h="",t.N=i,t.G=!1,t.c=!0,t.a=t.D?t.D.a():oo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.D?t.D:oo),t.a.onreadystatechange=m(t.Jb,t);try{Do(t.b,Go(t,"Opening Xhr")),t.I=!0,t.a.open(i,String(e),!0),t.I=!1}catch(s){return Do(t.b,Go(t,"Error opening Xhr: "+s.message)),void Vo(t,s)}e=o||"";var u=new Ve(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||r(t))P(t,e,void 0);else for(var n=je(t),i=Le(t),o=i.length,a=0;a<o;a++)e.call(void 0,i[a],n&&n[a],t)}(a,function(t,e){u.set(e,t)}),a=function(t){t:{for(var e=jo,n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:r(t)?t.charAt(e):t[e]}(u.U()),o=n.FormData&&e instanceof n.FormData,!F(Lo,i)||a||o||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Ho(t),0<t.g&&(t.v=function(t){return zt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Do(t.b,Go(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=m(t.Ga,t)):t.u=Me(t.Ga,t.g,t)),Do(t.b,Go(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){Do(t.b,Go(t,"Send error: "+s.message)),Vo(t,s)}}(s,t,i,o,a)};var _a=new pn(yn,"https://apis.google.com/js/client.js?onload=%{onload}"),Ca="__fcb"+Math.floor(1e6*Math.random()).toString();function Ea(t){if(!r(t=t.email)||!Yn.test(t))throw new Br("invalid-email")}function Sa(t){"email"in t&&Ea(t)}function Ia(t){if(!t[fa])throw new Br("internal-error")}function Ta(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Br("internal-error")}else{if(!t.sessionInfo)throw new Br("missing-verification-id");if(!t.code)throw new Br("missing-verification-code")}}ca.prototype.l=function(t,e,n,r,i){var o=this;ha.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},ca.prototype.Ra=function(){return su(this,$a,{})},ca.prototype.qb=function(t,e){return su(this,Xa,{idToken:t,email:e})},ca.prototype.rb=function(t,e){return su(this,Za,{idToken:t,password:e})};var Da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Aa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Br("internal-error")}function Oa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&cn(t=new an(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ka(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=lo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=lo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=lo(t)):t.errorMessage&&(e=lu(t.errorMessage)),e)throw e;if(!t[fa])throw new Br("internal-error")}function Na(t,e){return e.returnIdpCredential=!0,su(t,tu,e)}function xa(t,e){return e.returnIdpCredential=!0,su(t,nu,e)}function Pa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,su(t,eu,e)}function Ra(t){if(!t.oobCode)throw new Br("invalid-action-code")}(t=ca.prototype).sb=function(t,e){var n={idToken:t},r=[];return et(Da,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),su(this,Xa,n)},t.lb=function(t,e){return ut(t={requestType:"PASSWORD_RESET",email:t},e),su(this,Ga,t)},t.mb=function(t,e){return ut(t={requestType:"EMAIL_SIGNIN",email:t},e),su(this,za,t)},t.kb=function(t,e){return ut(t={requestType:"VERIFY_EMAIL",idToken:t},e),su(this,Ka,t)},t.Va=function(t){return su(this,ou,t)},t.$a=function(t,e){return su(this,Ya,{oobCode:t,newPassword:e})},t.Ja=function(t){return su(this,Fa,{oobCode:t})},t.Xa=function(t){return su(this,Ma,{oobCode:t})};var Ma={endpoint:"setAccountInfo",C:Ra,da:"email"},Fa={endpoint:"resetPassword",C:Ra,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Br("internal-error")}},La={endpoint:"signupNewUser",C:function(t){if(Ea(t),!t.password)throw new Br("weak-password")},J:Ia,R:!0},ja={endpoint:"createAuthUri"},Va={endpoint:"deleteAccount",T:["idToken"]},Ua={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(t){if(!c(t.deleteProvider))throw new Br("internal-error")}},Ba={endpoint:"emailLinkSignin",T:["email","oobCode"],C:Ea,J:Ia,R:!0},qa={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:Ea,J:Ia,R:!0},Ha={endpoint:"getAccountInfo"},za={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Br("internal-error");Ea(t)},da:"email"},Ka={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Br("internal-error")},da:"email"},Ga={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Br("internal-error");Ea(t)},da:"email"},Qa={vb:!0,endpoint:"getProjectConfig",Ib:"GET"},Wa={vb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Br("internal-error")}},Ya={endpoint:"resetPassword",C:Ra,da:"email"},Ja={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Xa={endpoint:"setAccountInfo",T:["idToken"],C:Sa,R:!0},Za={endpoint:"setAccountInfo",T:["idToken"],C:function(t){if(Sa(t),!t.password)throw new Br("weak-password")},J:Ia,R:!0},$a={endpoint:"signupNewUser",J:Ia,R:!0},tu={endpoint:"verifyAssertion",C:Aa,Pa:Oa,J:ka,R:!0},eu={endpoint:"verifyAssertion",C:Aa,Pa:Oa,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Br("user-not-found");if(t.errorMessage)throw lu(t.errorMessage);if(!t[fa])throw new Br("internal-error")},R:!0},nu={endpoint:"verifyAssertion",C:function(t){if(Aa(t),!t.idToken)throw new Br("internal-error")},Pa:Oa,J:ka,R:!0},ru={endpoint:"verifyCustomToken",C:function(t){if(!t.token)throw new Br("invalid-custom-token")},J:Ia,R:!0},iu={endpoint:"verifyPassword",C:function(t){if(Ea(t),!t.password)throw new Br("wrong-password")},J:Ia,R:!0},ou={endpoint:"verifyPhoneNumber",C:Ta,J:Ia},au={endpoint:"verifyPhoneNumber",C:function(t){if(!t.idToken)throw new Br("internal-error");Ta(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",lo(t);Ia(t)}},uu={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Ta,J:Ia};function su(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.T))return Et(new Br("internal-error"));var r,i=e.Ib||"POST";return Ct(n).then(e.C).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=Ye(t.g+e);Qe(a,"key",t.b),o&&Qe(a,"cb",w().toString());var u="GET"==n;if(u)for(var s in r)r.hasOwnProperty(s)&&Qe(a,s,r[s]);return new vt(function(e,o){wa(t,a.toString(),function(t){t?t.error?o(cu(t,i||{})):e(t):o(new Br("network-request-failed"))},n,u?void 0:Ln(vr(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Xb,e.vb||!1)}).then(function(t){return r=t,e.Pa?e.Pa(n,r):r}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Br("internal-error");return r[e.da]})}function lu(t){return cu({error:{errors:[{message:t}],code:400,message:t}})}function cu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Br(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ut(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Br(r[i],e);return!e&&t&&(e=pr(t)),new Br("internal-error",e)}function hu(t){this.b=t,this.a=null,this.gb=function(t){return(vu||(vu=new vt(function(t,e){function r(){br(),sr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){br(),e(Error("Network Error"))},timeout:du.get()})}if(sr("gapi.iframes.Iframe"))t();else if(sr("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){sr("gapi.load")?r():e(Error("Network Error"))},Ct(ra(i=wn(fu,{onload:i}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw vu=null,t}))).then(function(){return new vt(function(e,n){sr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},pu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var fu=new pn(yn,"https://apis.google.com/js/api.js?onload=%{onload}"),du=new wr(3e4,6e4),pu=new wr(5e3,15e3),vu=null;function gu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Je(this.i,"/__/auth/iframe"),Qe(this.a,"apiKey",this.g),Qe(this.a,"appName",this.h),this.b=null,this.c=[]}function yu(t,e,n,r,i){this.m=t,this.l=e,this.c=n,this.o=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function mu(t){try{return ba.a.app(t).auth().ya()}catch(e){return[]}}function bu(t,e,n,r,i){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.u=this.v=null,this.g=[],this.o=this.a=null}function wu(t){var e=Hn();return function(t){return su(t,Qa,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Ye(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,u=r;if(0==o.indexOf("chrome-extension://")?a=Ye(o).b==a&&"chrome-extension"==u:"http"!=u&&"https"!=u?a=!1:Wn.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new uo(Hn())})}function _u(t){return t.o?t.o:(t.o=Jn().then(function(){if(!t.u){var e=t.c,n=t.h,r=mu(t.b),i=new gu(t.l,t.f,t.b);i.f=e,i.b=n,i.c=U(r||[]),t.u=i.toString()}t.i=new hu(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.gb.then(function(){t.a.register("authEvent",e,sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ro(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ct(n)}return n.status="ERROR",Ct(n)})}(t)}),t.o)}function Cu(t){return t.m||(t.v=t.c?ar(t.c,mu(t.b)):null,t.m=new ca(t.f,li(t.h),t.v)),t.m}function Eu(t,e,n,r,i,o,a,u,s,l){return(t=new yu(t,e,n,r,i)).i=o,t.g=a,t.h=u,t.b=rt(s||null),t.f=l,t.toString()}function Su(t){if(this.a=t||ba.a.INTERNAL.reactNative&&ba.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Br("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(t){this.b=t,this.a={},this.c=m(this.f,this)}gu.prototype.toString=function(){return this.f?Qe(this.a,"v",this.f):ln(this.a.a,"v"),this.b?Qe(this.a,"eid",this.b):ln(this.a.a,"eid"),this.c.length?Qe(this.a,"fw",this.c.join(",")):ln(this.a.a,"fw"),this.a.toString()},yu.prototype.toString=function(){var t=Je(this.m,"/__/auth/handler");if(Qe(t,"apiKey",this.l),Qe(t,"appName",this.c),Qe(t,"authType",this.o),this.a.isOAuthProvider){var e=this.a;try{var n=ba.a.app(this.c).auth().ea()}catch(u){n=null}for(var r in e.ab=n,Qe(t,"providerId",this.a.providerId),n=vr((e=this.a).zb))n[r]=n[r].toString();r=e.Fc,n=rt(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.eb&&e.ab&&!n[e.eb]&&(n[e.eb]=e.ab),nt(n)||Qe(t,"customParameters",pr(n))}if("function"==typeof this.a.Fb&&(e=this.a.Fb()).length&&Qe(t,"scopes",e.join(",")),this.i?Qe(t,"redirectUrl",this.i):ln(t.a,"redirectUrl"),this.g?Qe(t,"eventId",this.g):ln(t.a,"eventId"),this.h?Qe(t,"v",this.h):ln(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!We(t,a)&&Qe(t,a,this.b[a]);return this.f?Qe(t,"eid",this.f):ln(t.a,"eid"),(a=mu(this.c)).length&&Qe(t,"fw",a.join(",")),t.toString()},(t=bu.prototype).Ea=function(t,e,n){var r=new Br("popup-closed-by-user"),i=new Br("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return _u(t).then(function(){return function(t,e){return t.gb.then(function(){return new vt(function(n){t.a.send(e.type,e,n,sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&Gn(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new vt(function(e){return function n(){Fe(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Fe(n).then(function(){e(r)})})},t.Mb=function(){var t=ur();return!dr(t)&&!mr(t)},t.Hb=function(){return!1},t.Db=function(t,e,n,r,i,o,a){if(!t)return Et(new Br("popup-blocked"));if(a&&!dr())return this.ga().s(function(e){Gn(t),i(e)}),r(),Ct();this.a||(this.a=wu(Cu(this)));var u=this;return this.a.then(function(){var e=u.ga().s(function(e){throw Gn(t),i(e),e});return r(),e}).then(function(){eo(n),a||zn(Eu(u.l,u.f,u.b,e,n,null,o,u.c,void 0,u.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=wu(Cu(this)));var r=this;return this.a.then(function(){eo(e),zn(Eu(r.l,r.f,r.b,t,e,Hn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return _u(this).then(function(){return t.i.gb}).s(function(){throw t.a=null,new Br("network-request-failed")})},t.Qb=function(){return!0},t.wa=function(t){this.g.push(t)},t.Ka=function(t){j(this.g,function(e){return e==t})},(t=Su.prototype).get=function(t){return Ct(this.a.getItem(t)).then(function(t){return t&&gr(t)})},t.set=function(t,e){return Ct(this.a.setItem(t,pr(e)))},t.P=function(t){return Ct(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var Tu,Du=[];function Au(t){this.a=t}function Ou(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,a,u,s=n||{},l=null;if(t.b)return Et(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new vt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},c),t.a.push(l={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),u=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(u),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(u),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:s},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Nu(t,l),e}).s(function(e){throw Nu(t,l),e})}function Nu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),j(t.a,function(t){return t==e})}}function xu(){if(!Ru())throw new Br("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=n.indexedDB,this.type="indexedDB",this.g=this.o=this.f=this.i=null,this.u=!1,this.h=null;var t=this;$n()&&self?(this.o=function(){var t=$n()?self:null;if(P(Du,function(n){n.b==t&&(e=n)}),!e){var e=new Iu(t);Du.push(e)}return e}(),this.o.subscribe("keyChanged",function(e,n){return Vu(t).then(function(e){return 0<e.length&&P(t.a,function(t){t(e)}),{keyProcessed:F(e,n.key)}})}),this.o.subscribe("ping",function(){return Ct(["keyChanged"])})):function(){var t=n.navigator;return t&&t.serviceWorker?Ct().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Ct(null)}().then(function(e){(t.h=e)&&(t.g=new Ou(new Au(e)),ku(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&F(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function Pu(t){return t.m||(t.m=function t(e){return new vt(function(n,r){var i=e.l.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new vt(function(e,n){var r=t.l.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.m}function Ru(){try{return!!n.indexedDB}catch(qt){return!1}}function Mu(t){return t.objectStore("firebaseLocalStorage")}function Fu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new vt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function ju(t,e){return t.g&&t.h&&function(){var t=n.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):Ct()}function Vu(t){return Pu(t).then(function(t){var e=Mu(Fu(t,!1));return e.getAll?Lu(e.getAll()):new vt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function Uu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Bu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ct().then(function(){if(Ru()){var t=yr(),r="__sak"+t;return Tu||(Tu=new xu),(n=Tu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){P(e.a,function(e){e(t)})}),t})}function qu(){this.a={},this.type="inMemory"}function Hu(){if(!function(){var t="Node"==tr();if(!(t=zu()||t&&ba.a.INTERNAL.node&&ba.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==tr())throw new Br("internal-error","The LocalStorage compatibility library was not found.");throw new Br("web-storage-unsupported")}this.a=zu()||ba.a.INTERNAL.node.localStorage,this.type="localStorage"}function zu(){try{var t=n.localStorage,e=yr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function Ku(){this.type="nullStorage"}function Gu(){if(!function(){var t="Node"==tr();if(!(t=Qu()||t&&ba.a.INTERNAL.node&&ba.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==tr())throw new Br("internal-error","The SessionStorage compatibility library was not found.");throw new Br("web-storage-unsupported")}this.a=Qu()||ba.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Qu(){try{var t=n.sessionStorage,e=yr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function Wu(){var t={};t.Browser=Xu,t.Node=Zu,t.ReactNative=$u,t.Worker=ts,this.a=t[tr()]}Iu.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];P(r,function(e){i.push(Ct().then(function(){return e(t.origin,t.data.data)}))}),It(i).then(function(r){var i=[];P(r,function(t){i.push({fulfilled:t.Eb,value:t.value,reason:t.reason?t.reason.message:void 0})}),P(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},Iu.prototype.subscribe=function(t,e){nt(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},Iu.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(j(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],nt(this.a)&&this.b.removeEventListener("message",this.c)},Au.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ou.prototype.close=function(){for(;0<this.a.length;)Nu(this,this.a[0]);this.b=!0},(t=xu.prototype).set=function(t,e){var n,r=!1,i=this;return Pu(this).then(function(e){return Lu((e=Mu(Fu(n=e,!0))).get(t))}).then(function(o){var a=Mu(Fu(n,!0));return o?(o.value=e,Lu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Lu(a.add(o)))}).then(function(){return i.c[t]=e,ju(i,t)}).ia(function(){r&&i.b--})},t.get=function(t){return Pu(this).then(function(e){return Lu(Mu(Fu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return Pu(this).then(function(r){return e=!0,n.b++,Lu(Mu(Fu(r,!0)).delete(t))}).then(function(){return delete n.c[t],ju(n,t)}).ia(function(){e&&n.b--})},t.Y=function(t){0==this.a.length&&function(t){Uu(t),function e(){t.f=setTimeout(function(){t.i=Vu(t).then(function(e){0<e.length&&P(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ca=function(t){j(this.a,function(e){return e==t}),0==this.a.length&&Uu(this)},(t=Bu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){j(this.a,function(e){return e==t})},(t=qu.prototype).get=function(t){return Ct(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ct()},t.P=function(t){return delete this.a[t],Ct()},t.Y=function(){},t.ca=function(){},(t=Hu.prototype).get=function(t){var e=this;return Ct().then(function(){return gr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ct().then(function(){var r=pr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return Ct().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&be(n.window,"storage",t)},t.ca=function(t){n.window&&Ce(n.window,"storage",t)},(t=Ku.prototype).get=function(){return Ct(null)},t.set=function(){return Ct()},t.P=function(){return Ct()},t.Y=function(){},t.ca=function(){},(t=Gu.prototype).get=function(t){var e=this;return Ct().then(function(){return gr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ct().then(function(){var r=pr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return Ct().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var Yu,Ju,Xu={B:Hu,Sa:Gu},Zu={B:Hu,Sa:Gu},$u={B:Su,Sa:Ku},ts={B:Hu,Sa:Ku},es={ad:"local",NONE:"none",cd:"session"};function ns(){var t=!(mr(ur())||!Zn()),e=dr(),r=lr();this.m=t,this.h=e,this.o=r,this.a={},Yu||(Yu=new Wu),t=Yu;try{this.g=!qn()&&Er()||!n.indexedDB?new t.a.B:new Bu($n()?new qu:new t.a.B)}catch(i){this.g=new qu,this.h=!0}try{this.i=new t.a.Sa}catch(i){this.i=new qu}this.l=new qu,this.f=m(this.Pb,this),this.b={}}function rs(){return Ju||(Ju=new ns),Ju}function is(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function os(t,e){return"firebase:"+t.name+(e?":"+e:"")}function as(t,e,n){return n=os(e,n),"local"==e.B&&(t.b[n]=null),is(t,e.B).P(n)}function us(t){t.c&&(clearInterval(t.c),t.c=null)}function ss(t){this.a=t,this.b=rs()}(t=ns.prototype).get=function(t,e){return is(this,t.B).get(os(t,e))},t.set=function(t,e,n){var r=os(t,n),i=this,o=is(this,t.B);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.B&&(i.b[r]=e)})},t.addListener=function(t,e,r){t=os(t,e),this.o&&(this.b[t]=n.localStorage.getItem(t)),nt(this.a)&&(is(this,"local").Y(this.f),this.h||(qn()||!Er())&&n.indexedDB||!this.o||function(t){us(t),t.c=setInterval(function(){for(var e in t.a){var r=n.localStorage.getItem(e),i=t.b[e];r!=i&&(t.b[e]=r,r=new se({type:"storage",key:e,target:window,oldValue:i,newValue:r,a:!0}),t.Pb(r))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(r)},t.removeListener=function(t,e,n){t=os(t,e),this.a[t]&&(j(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),nt(this.a)&&(is(this,"local").ca(this.f),us(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var i=this.b[r];void 0===i&&(i=null);var o=n.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.Ya(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?is(this,"local").ca(this.f):us(this),this.m)if(r=n.localStorage.getItem(e),(i=t.a.newValue)!==r)null!==i?n.localStorage.setItem(e,i):n.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var a=this;r=function(){void 0===t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Ya(e))},zt&&$t&&10==$t&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else P(t,m(this.Ya,this))},t.Ya=function(t){this.a[t]&&P(this.a[t],function(t){t()})};var ls,cs={name:"authEvent",B:"local"};function hs(){this.a=rs()}function fs(t,e){this.b=ds,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.o=n.Int32Array?new Int32Array(64):Array(64),void 0!==ls||(ls=n.Int32Array?new Int32Array(ws):ws),this.reset()}_(fs,function(){this.b=-1});for(var ds=64,ps=ds-1,vs=[],gs=0;gs<ps;gs++)vs[gs]=0;var ys=V(128,vs);function ms(t){for(var e=t.f,n=t.o,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var u=0|t.a[2],s=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&u^i&u)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|ls[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=s+a|0,s=u,u=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+u|0,t.a[3]=t.a[3]+s|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function bs(t,e,n){void 0===n&&(n=e.length);var i=0,o=t.c;if(r(e))for(;i<n;)t.f[o++]=e.charCodeAt(i++),o==t.b&&(ms(t),o=0);else{if(!h(e))throw Error("message must be string or array");for(;i<n;){var a=e[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(ms(t),o=0)}}t.c=o,t.g+=n}fs.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):U(this.h)};var ws=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _s(){fs.call(this,8,Cs)}_(_s,fs);var Cs=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Es(t,e,n,r,i){this.l=t,this.i=e,this.o=n,this.m=r||null,this.u=i||null,this.h=e+":"+n,this.v=new hs,this.g=new ss(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ss(t){return new Br("invalid-cordova-configuration",t)}function Is(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Ts(t){return t.f||(t.f=t.ga().then(function(){return new vt(function(e){t.wa(function n(r){return e(r),t.Ka(n),!1}),function(t){function e(e){i=!0,o&&o.cancel(),Ds(t).then(function(n){var i=r;if(n&&e&&e.url){var o=null;-1!=(i=Si(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=gr(We(o=Ye(i),"firebaseError")||null))?qr(o):null)?new no(n.c,n.b,null,null,o):new no(n.c,n.b,i,n.f)),i=o||r}Is(t,i)})}var r=new no("unknown",null,null,null,new Br("no-auth-event")),i=!1,o=Fe(500).then(function(){return Ds(t).then(function(){i||Is(t,r)})}),a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(sr("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(r){console.error(r)}},ao||(ao=new io),ao.subscribe(e)}(t)})})),t.f}function Ds(t){var e=null;return function(t){return t.b.get(cs,t.a).then(function(t){return ro(t)})}(t.g).then(function(n){return e=n,as((n=t.g).b,cs,n.a)}).then(function(){return e})}function As(t){this.a=t,this.b=rs()}(t=Es.prototype).ga=function(){return this.za?this.za:this.za=(Xn(void 0)?Jn().then(function(){return new vt(function(t,e){var r=n.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Et(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof sr("universalLinks.subscribe",n))throw Ss("cordova-universal-links-plugin-fix is not installed");if(void 0===sr("BuildInfo.packageName",n))throw Ss("cordova-plugin-buildinfo is not installed");if("function"!=typeof sr("cordova.plugins.browsertab.openUrl",n))throw Ss("cordova-plugin-browsertab is not installed");if("function"!=typeof sr("cordova.InAppBrowser.open",n))throw Ss("cordova-plugin-inappbrowser is not installed")},function(){throw new Br("cordova-not-ready")})},t.Ea=function(t,e){return e(new Br("operation-not-supported-in-this-environment")),Ct()},t.Db=function(){return Et(new Br("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(t,e,r){if(this.c)return Et(new Br("redirect-operation-pending"));var i=this,o=n.document,a=null,u=null,s=null,l=null;return this.c=Ct().then(function(){return eo(e),Ts(i)}).then(function(){return function(t,e,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new no(e,i,null,o,new Br("no-auth-event")),u=sr("BuildInfo.packageName",n);if("string"!=typeof u)throw new Br("invalid-cordova-configuration");var s=sr("BuildInfo.displayName",n),l={};if(ur().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!ur().toLowerCase().match(/android/))return Et(new Br("operation-not-supported-in-this-environment"));l.apn=u}s&&(l.appDisplayName=s),o=function(t){var e=new _s;bs(e,t),t=[];var n=8*e.g;bs(e,ys,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ms(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return R(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var c=Eu(t.l,t.i,t.o,e,r,null,i,t.m,l,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(cs,a.w(),e)}).then(function(){var e=sr("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new Br("invalid-cordova-configuration");var r=null;e(function(e){if(e){if("function"!=typeof(r=sr("cordova.plugins.browsertab.openUrl",n)))throw new Br("invalid-cordova-configuration");r(c)}else{if("function"!=typeof(r=sr("cordova.InAppBrowser.open",n)))throw new Br("invalid-cordova-configuration");e=!(!(e=ur()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=r(c,e?"_blank":"_system","location=yes")}})})}(i,t,e,r)}).then(function(){return new vt(function(t,e){u=function(){var e=sr("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.wa(u),l=function(){_r()&&s()},o.addEventListener("resume",s=function(){a||(a=Fe(2e3).then(function(){e(new Br("redirect-cancelled-by-user"))}))},!1),ur().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).s(function(t){return Ds(i).then(function(){throw t})})}).ia(function(){s&&o.removeEventListener("resume",s,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ka(u),i.c=null})},t.wa=function(t){this.b.push(t),Ts(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new no("unknown",null,null,null,new Br("no-auth-event")),t(e))})},t.Ka=function(t){j(this.b,function(e){return e==t})};var Os={name:"pendingRedirect",B:"session"};function ks(t){return as(t.b,Os,t.a)}function Ns(t,e,n){this.i={},this.u=0,this.A=t,this.l=e,this.m=n,this.h=[],this.f=!1,this.o=m(this.cb,this),this.b=new Bs,this.v=new Ks,this.g=new As(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=xs(this.A,this.l,this.m,ui)}function xs(t,e,n,r){var i=ba.a.SDK_VERSION||null;return Xn()?new Es(t,e,n,i,r):new bu(t,e,n,i,r)}function Ps(t){t.f||(t.f=!0,t.a.wa(t.o));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function Rs(t){t.a.Mb()&&Ps(t).s(function(e){var n=new no("unknown",null,null,null,new Br("operation-not-supported-in-this-environment"));js(e)&&t.cb(n)}),t.a.Hb()||qs(t.b)}(t=Ns.prototype).reset=function(){this.f=!1,this.a.Ka(this.o),this.a=xs(this.A,this.l,this.m),this.i={}},t.Za=function(){this.b.Za()},t.subscribe=function(t){if(F(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Os,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?ks(e.g).then(function(){Ps(e).s(function(t){var n=new no("unknown",null,null,null,new Br("operation-not-supported-in-this-environment"));js(t)&&e.cb(n)})}):Rs(e)}).s(function(){Rs(e)})}},t.unsubscribe=function(t){j(this.h,function(e){return e==t})},t.cb=function(t){if(!t)throw new Br("invalid-auth-event");if(6e5<=w()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.wb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=w())),e=!0;break}}return qs(this.b),e};var Ms=new wr(2e3,1e4),Fs=new wr(3e4,6e4);function Ls(t,e,n,r,i,o){return t.a.Db(e,n,r,function(){t.f||(t.f=!0,t.a.wa(t.o))},function(){t.reset()},i,o)}function js(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Ns.prototype.fa=function(){return this.b.fa()},Ns.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(Os,"pending",t.a)}(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if(js(t))throw new Br("operation-not-supported-in-this-environment");return r=t,ks(i.g).then(function(){throw r})}).then(function(){return i.a.Qb()?new vt(function(){}):ks(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Ns.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},Ms.get())};var Vs={};function Us(t,e,n){var r=e+":"+n;return Vs[r]||(Vs[r]=new Ns(t,e,n)),Vs[r]}function Bs(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function qs(t){t.g||(t.g=!0,zs(t,!1,null,null))}function Hs(t,e){if(t.b=function(){return Ct(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function zs(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Et(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Hs(t,n):Hs(t,{user:null}),t.f=[],t.c=[]}function Ks(){}function Gs(){this.tb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.tb},set:function(t){this.tb=t},enumerable:!1})}function Qs(t,e){this.a=e,Ar(this,"verificationId",t)}function Ws(t,e,n,r){return new Zi(t).Va(e,n).then(function(t){return new Qs(t,r)})}function Ys(t){var e=ai(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Br("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Or(this,{token:t,expirationTime:Cr(1e3*e.exp),authTime:Cr(1e3*e.auth_time),issuedAtTime:Cr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function Js(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Xs(t){this.f=t,this.b=this.a=null,this.c=0}function Zs(t,e){var n=e[fa],r=e.refreshToken;e=$s(e.expiresIn),t.b=n,t.c=e,t.a=r}function $s(t){return w()+1e3*parseInt(t,10)}function tl(t,e){this.a=t||null,this.b=e||null,Or(this,{lastSignInTime:Cr(e||null),creationTime:Cr(t||null)})}function el(t,e,n,r,i,o){Or(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function nl(t,e){for(var n in ue.call(this,t),e)this[n]=e[n]}function rl(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.u=t.authDomain||null,t=ba.a.SDK_VERSION?ar(ba.a.SDK_VERSION):null,this.b=new ca(this.l,li(ui),t),this.h=new Xs(this.b),cl(this,e[fa]),Zs(this.h,e),Ar(this,"refreshToken",this.h.a),dl(this,n||{}),Ne.call(this),this.I=!1,this.u&&cr()&&(this.a=Us(this.u,this.l,this.m)),this.N=[],this.i=null,this.A=function(t){return new Js(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-w()-3e5;return 0<e?e:0})}(this),this.V=m(this.Ha,this);var r=this;this.ka=null,this.ta=function(t){r.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){ol(r,t.c)},this.W=null}function il(t,e){t.X&&Ce(t.X,"languageCodeChanged",t.ta),(t.X=e)&&be(e,"languageCodeChanged",t.ta)}function ol(t,e){t.O=e,ma(t.b,ba.a.SDK_VERSION?ar(ba.a.SDK_VERSION,t.O):null)}function al(t,e){t.W&&Ce(t.W,"frameworkChanged",t.sa),(t.W=e)&&be(e,"frameworkChanged",t.sa)}function ul(t){try{return ba.a.app(t.m).auth()}catch(e){throw new Br("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function sl(t){t.D||t.A.b||(t.A.start(),Ce(t,"tokenChanged",t.V),be(t,"tokenChanged",t.V))}function ll(t){Ce(t,"tokenChanged",t.V),t.A.stop()}function cl(t,e){t.ra=e,Ar(t,"_lat",e)}function hl(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return It(e).then(function(){return t})}function fl(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function dl(t,e){Or(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new tl(e.createdAt,e.lastLoginAt),providerData:[]})}function pl(){}function vl(t){return Ct().then(function(){if(t.D)throw new Br("app-deleted")})}function gl(t){return R(t.providerData,function(t){return t.providerId})}function yl(t,e){e&&(ml(t,e.providerId),t.providerData.push(e))}function ml(t,e){j(t.providerData,function(t){return t.providerId==e})}function bl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ar(t,e,n)}function wl(t,e){t!=e&&(Or(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Ar(t,"metadata",e.metadata?function(t){return new tl(t.a,t.b)}(e.metadata):new tl),P(e.providerData,function(e){yl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Ar(t,"refreshToken",t.h.a))}function _l(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return su(t.b,Ha,{idToken:e}).then(m(t.zc,t))}(t,e).then(function(){return n||bl(t,"isAnonymous",!1),e})})}function Cl(t,e){e[fa]&&t.ra!=e[fa]&&(Zs(t.h,e),t.dispatchEvent(new nl("tokenChanged")),cl(t,e[fa]),bl(t,"refreshToken",t.h.a))}function El(t,e){return _l(t).then(function(){if(F(gl(t),e))return hl(t).then(function(){throw new Br("provider-already-linked")})})}function Sl(t,e,n){return kr({user:t,credential:to(e),additionalUserInfo:e=pi(e),operationType:n})}function Il(t,e){return Cl(t,e),t.reload().then(function(){return t})}function Tl(t,e,n,r,i){if(!cr())return Et(new Br("operation-not-supported-in-this-environment"));if(t.i&&!i)return Et(t.i);var o=di(n.providerId),a=yr(t.uid+":::"),u=null;(!dr()||Zn())&&t.u&&n.isOAuthProvider&&(u=Eu(t.u,t.l,t.m,e,n,null,a,ba.a.SDK_VERSION||null));var s=Qn(u,o&&o.Ba,o&&o.Aa);return r=r().then(function(){if(Al(t),!i)return t.F().then(function(){})}).then(function(){return Ls(t.a,s,e,n,a,!!u)}).then(function(){return new vt(function(n,r){t.ha(e,null,new Br("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.c=t.a.Ea(t,e,s,a)})}).then(function(t){return s&&Gn(s),t?kr(t):null}).s(function(t){throw s&&Gn(s),t}),Ol(t,r,i)}function Dl(t,e,n,r,i){if(!cr())return Et(new Br("operation-not-supported-in-this-environment"));if(t.i&&!i)return Et(t.i);var o=null,a=yr(t.uid+":::");return r=r().then(function(){if(Al(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,hl(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(xl,t.w(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return Pl(t.ba);throw o}).then(function(){if(o)throw o}),Ol(t,r,i)}function Al(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Br("internal-error");throw new Br("auth-domain-config-required")}}function Ol(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Et(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new nl("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){L(t.G,r)}),r}function kl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[fa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-w())/1e3;var r=new rl(e,n,t);return t.providerData&&P(t.providerData,function(t){t&&yl(r,kr(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}function Nl(t){this.a=t,this.b=rs()}Bs.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bs.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(zs(this,!0,null,t.a),Ct()):e.xa(n,r)?function(t,e,n){n=n.xa(e.c,e.b);var r=e.g,i=e.f,o=e.h,a=!!e.c.match(/Redirect$/);n(r,i,o).then(function(e){zs(t,a,e,null)}).s(function(e){zs(t,a,null,e)})}(this,t,e):Et(new Br("invalid-auth-event")):(zs(this,!1,null,null),Ct())}else Et(new Br("invalid-auth-event"))},Bs.prototype.Za=function(){this.g&&!this.i&&zs(this,!1,null,null)},Bs.prototype.fa=function(){var t=this;return new vt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Br("timeout");t.a&&t.a.cancel(),t.a=Fe(Fs.get()).then(function(){t.b||(t.g=!0,zs(t,!0,null,e))})}(t))})},Ks.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ha(t.c,null,t.a,t.b),Ct()):e.xa(n,r)?function(t,e){var n=t.b,r=t.c;e.xa(r,n)(t.g,t.f,t.h).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):Et(new Br("invalid-auth-event"))}else Et(new Br("invalid-auth-event"))},Qs.prototype.confirm=function(t){return t=$i(this.verificationId,t),this.a(t)},Js.prototype.start=function(){this.a=this.c,function t(e,r){e.stop(),e.b=Fe(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,r)).then(function(){return t=n.document,e=null,_r()||!t?Ct():new vt(function(n){e=function(){_r()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},Js.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Xs.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Xs.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Et(new Br("user-token-expired")):t||!this.b||w()>this.c-3e4?this.a?function(t,e){return function(t,e){return new vt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?wa(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(cu(t)):t.access_token&&t.refresh_token?n(t):r(new Br("internal-error")):r(new Br("network-request-failed"))},"POST",sn(e).toString(),t.f,t.o.get()):r(new Br("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=$s(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ct(null):Ct({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},tl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(nl,ue),_(rl,Ne),rl.prototype.pa=function(t){this.ka=t,ya(this.b,t)},rl.prototype.ea=function(){return this.ka},rl.prototype.ya=function(){return U(this.O)},rl.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Ar(rl.prototype,"providerId","firebase"),(t=rl.prototype).reload=function(){var t=this;return Ol(this,vl(this).then(function(){return _l(t).then(function(){return hl(t)}).then(pl)}))},t.dc=function(t){return this.F(t).then(function(t){return new Ys(t)})},t.F=function(t){var e=this;return Ol(this,vl(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Br("internal-error");return t.accessToken!=e.ra&&(cl(e,t.accessToken),e.dispatchEvent(new nl("tokenChanged"))),bl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Br("internal-error");dl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?R(t,function(t){return new el(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)yl(this,e[n]);bl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.hb=function(t){var e=this,n=null;return Ol(this,t.f(this.b,this.uid).then(function(t){return Cl(e,t),n=Sl(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Ac=function(t){return Tr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.hb(t).then(function(){})},t.fb=function(t){var e=this,n=null;return Ol(this,El(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.b,n)}).then(function(t){return n=Sl(e,t,"link"),Il(e,t)}).then(function(){return n}))},t.rc=function(t){return Tr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.fb(t).then(function(t){return t.user})},t.sc=function(t,e){var n=this;return Ol(this,El(this,"phone").then(function(){return Ws(ul(n),t,e,m(n.fb,n))}))},t.Bc=function(t,e){var n=this;return Ol(this,Ct().then(function(){return Ws(ul(n),t,e,m(n.hb,n))}),!0)},t.qb=function(t){var e=this;return Ol(this,this.F().then(function(n){return e.b.qb(n,t)}).then(function(t){return Cl(e,t),e.reload()}))},t.Tc=function(t){var e=this;return Ol(this,this.F().then(function(n){return t.b(e.b,n)}).then(function(t){return Cl(e,t),e.reload()}))},t.rb=function(t){var e=this;return Ol(this,this.F().then(function(n){return e.b.rb(n,t)}).then(function(t){return Cl(e,t),e.reload()}))},t.sb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return vl(this);var e=this;return Ol(this,this.F().then(function(n){return e.b.sb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Cl(e,t),bl(e,"displayName",t.displayName||null),bl(e,"photoURL",t.photoUrl||null),P(e.providerData,function(t){"password"===t.providerId&&(Ar(t,"displayName",e.displayName),Ar(t,"photoURL",e.photoURL))}),hl(e)}).then(pl))},t.Rc=function(t){var e=this;return Ol(this,_l(this).then(function(n){return F(gl(e),t)?function(t,e,n){return su(t,Ua,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return P(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),P(gl(e),function(t){n[t]||ml(e,t)}),n[Zi.PROVIDER_ID]||Ar(e,"phoneNumber",null),hl(e)}):hl(e).then(function(){throw new Br("no-such-provider")})}))},t.delete=function(){var t=this;return Ol(this,this.F().then(function(e){return su(t.b,Va,{idToken:e})}).then(function(){t.dispatchEvent(new nl("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");il(t,null),al(t,null),t.G=[],t.D=!0,ll(t),Ar(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.wb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?m(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?m(this.Cb,this):"linkViaRedirect"==t&&(this.aa||null)==e?m(this.Bb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?m(this.Cb,this):null},t.tc=function(t){var e=this;return Tl(this,"linkViaPopup",t,function(){return El(e,t.providerId).then(function(){return hl(e)})},!1)},t.Cc=function(t){return Tl(this,"reauthViaPopup",t,function(){return Ct()},!0)},t.uc=function(t){var e=this;return Dl(this,"linkViaRedirect",t,function(){return El(e,t.providerId)},!1)},t.Dc=function(t){return Dl(this,"reauthViaRedirect",t,function(){return Ct()},!0)},t.Bb=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Ol(this,this.F().then(function(i){return xa(r.b,{requestUri:t,postBody:n,sessionId:e,idToken:i})}).then(function(t){return i=Sl(r,t,"link"),Il(r,t)}).then(function(){return i}))},t.Cb=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Ol(this,Ct().then(function(){return Ti(Pa(r.b,{requestUri:t,sessionId:e,postBody:n}),r.uid)}).then(function(t){return i=Sl(r,t,"reauthenticate"),Cl(r,t),r.i=null,r.reload()}).then(function(){return i}),!0)},t.kb=function(t){var e=this,n=null;return Ol(this,this.F().then(function(e){return n=e,void 0===t||nt(t)?{}:ei(new Kr(t))}).then(function(t){return e.b.kb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&ut(t,this.metadata.w()),P(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var xl={name:"redirectUser",B:"session"};function Pl(t){return as(t.b,xl,t.a)}function Rl(t){this.a=t,this.b=rs(),this.c=null,this.f=function(t){var e=Ll("local"),r=Ll("session"),i=Ll("none");return function(t,e,r){var i=os(e,r),o=is(t,e.B);return t.get(e,r).then(function(a){var u=null;try{u=gr(n.localStorage.getItem(i))}catch(s){}if(u&&!a)return n.localStorage.removeItem(i),t.set(e,u,r);u&&a&&"localStorage"!=o.type&&n.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(r,t.a)}).then(function(n){return n?r:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Fl,t.a).then(function(t){return t?Ll(t):e})})})}).then(function(e){return t.c=e,Ml(t,e.B)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Ll("local"),this.a,m(this.g,this))}function Ml(t,e){var n,r=[];for(n in es)es[n]!==e&&r.push(as(t.b,Ll(es[n]),t.a));return r.push(as(t.b,Fl,t.a)),function(t){return new vt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},u=0;u<t.length;u++)St(t[u],b(o,u),a);else e(i)})}(r)}Rl.prototype.g=function(){var t=this,e=Ll("local");Bl(this,function(){return Ct().then(function(){return t.c&&"local"!=t.c.B?t.b.get(e,t.a):null}).then(function(n){if(n)return Ml(t,"local").then(function(){t.c=e})})})};var Fl={name:"persistence",B:"session"};function Ll(t){return{name:"authUser",B:t}}function jl(t,e){return Bl(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Vl(t){return Bl(t,function(){return as(t.b,t.c,t.a)})}function Ul(t,e){return Bl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),kl(t||{})})})}function Bl(t,e){return t.f=t.f.then(e,e),t.f}function ql(t){if(this.l=!1,Ar(this,"settings",new Gs),Ar(this,"app",t),!Yl(this).options||!Yl(this).options.apiKey)throw new Br("invalid-api-key");t=ba.a.SDK_VERSION?ar(ba.a.SDK_VERSION):null,this.b=new ca(Yl(this).options&&Yl(this).options.apiKey,li(ui),t),this.N=[],this.m=[],this.I=[],this.Tb=ba.a.INTERNAL.createSubscribe(m(this.oc,this)),this.O=void 0,this.Ub=ba.a.INTERNAL.createSubscribe(m(this.pc,this)),Ql(this,null),this.h=new Rl(Yl(this).options.apiKey+":"+Yl(this).name),this.A=new Nl(Yl(this).options.apiKey+":"+Yl(this).name),this.V=$l(this,function(t){var e=Yl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(xl,t.a).then(function(t){return t&&e&&(t.authDomain=e),kl(t||{})})}(t.A,Yl(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ba=t.A),Pl(t.A)});return $l(t,e)}(t).then(function(){return Ul(t.h,e)}).then(function(e){return e?(e.ba=t.A,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return jl(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:Vl(t.h)})):null}).then(function(e){Ql(t,e||null)});return $l(t,n)}(this)),this.i=$l(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(Ll("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=m(this.Oc,this),this.Ha=m(this.Z,this),this.ra=m(this.bc,this),this.sa=m(this.mc,this),this.ta=m(this.nc,this),function(t){var e=Yl(t).options.authDomain,n=Yl(t).options.apiKey;e&&cr()&&(t.Sb=t.V.then(function(){if(!t.l){if(t.a=Us(e,n,Yl(t).name),t.a.subscribe(t),Jl(t)&&fl(Jl(t)),t.D){fl(t.D);var r=t.D;r.pa(t.ea()),il(r,t),ol(r=t.D,t.G),al(r,t),t.D=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.vc,this),this.u=0,Ne.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function Hl(t){ue.call(this,"languageCodeChanged"),this.g=t}function zl(t){ue.call(this,"frameworkChanged"),this.c=t}function Kl(t){return t.Sb||Et(new Br("auth-domain-config-required"))}function Gl(t,e){var n={};return n.apiKey=Yl(t).options.apiKey,n.authDomain=Yl(t).options.authDomain,n.appName=Yl(t).name,t.V.then(function(){return function(t,e,n,r){var i=new rl(t,e);return n&&(i.ba=n),r&&ol(i,r),i.reload().then(function(){return i})}(n,e,t.A,t.ya())}).then(function(e){return Jl(t)&&e.uid==Jl(t).uid?(wl(Jl(t),e),t.Z(e)):(Ql(t,e),fl(e),t.Z(e))}).then(function(){Zl(t)})}function Ql(t,e){Jl(t)&&(function(t,e){j(t.N,function(t){return t==e})}(Jl(t),t.Ha),Ce(Jl(t),"tokenChanged",t.ra),Ce(Jl(t),"userDeleted",t.sa),Ce(Jl(t),"userInvalidated",t.ta),ll(Jl(t))),e&&(e.N.push(t.Ha),be(e,"tokenChanged",t.ra),be(e,"userDeleted",t.sa),be(e,"userInvalidated",t.ta),0<t.u&&sl(e)),Ar(t,"currentUser",e),e&&(e.pa(t.ea()),il(e,t),ol(e,t.G),al(e,t))}function Wl(t,e){var n=null,r=null;return $l(t,e.then(function(e){return n=to(e),r=pi(e),Gl(t,e)}).then(function(){return kr({user:Jl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Yl(t){return t.app}function Jl(t){return t.currentUser}function Xl(t){return Jl(t)&&Jl(t)._lat||null}function Zl(t){if(t.X){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Xl(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Xl(t))}}function $l(t,e){return t.N.push(e),e.ia(function(){L(t.N,e)}),e}function tc(){}function ec(){this.a={},this.b=1e12}Rl.prototype.nb=function(t){var e=null,n=this;return function(t){var e=new Br("invalid-persistence-type"),n=new Br("unsupported-persistence-type");t:{for(r in es)if(es[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!lr()&&"none"!==t)throw n}}(t),Bl(this,function(){return t!=n.c.B?n.b.get(n.c,n.a).then(function(r){return e=r,Ml(n,t)}).then(function(){if(n.c=Ll(t),e)return n.b.set(n.c,e,n.a)}):Ct()})},_(ql,Ne),_(Hl,ue),_(zl,ue),(t=ql.prototype).nb=function(t){return $l(this,t=this.h.nb(t))},t.pa=function(t){this.W===t||this.l||(this.W=t,ya(this.b,this.W),this.dispatchEvent(new Hl(this.ea())))},t.ea=function(){return this.W},t.Uc=function(){var t=n.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.G.push(t),ma(this.b,ba.a.SDK_VERSION?ar(ba.a.SDK_VERSION,this.G):null),this.dispatchEvent(new zl(this.G))},t.ya=function(){return U(this.G)},t.toJSON=function(){return{apiKey:Yl(this).options.apiKey,authDomain:Yl(this).options.authDomain,appName:Yl(this).name,currentUser:Jl(this)&&Jl(this).w()}},t.wb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?m(this.ac,this):null},t.ac=function(t,e,n){var r=this;t={requestUri:t,postBody:n,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var i=null,o=null,a=Na(r.b,t).then(function(t){return i=to(t),o=pi(t),t});return $l(this,t=r.V.then(function(){return a}).then(function(t){return Gl(r,t)}).then(function(){return kr({user:Jl(r),credential:i,additionalUserInfo:o,operationType:"signIn"})}))},t.Mc=function(t){if(!cr())return Et(new Br("operation-not-supported-in-this-environment"));var e=this,n=di(t.providerId),r=yr(),i=null;(!dr()||Zn())&&Yl(this).options.authDomain&&t.isOAuthProvider&&(i=Eu(Yl(this).options.authDomain,Yl(this).options.apiKey,Yl(this).name,"signInViaPopup",t,null,r,ba.a.SDK_VERSION||null));var o=Qn(i,n&&n.Ba,n&&n.Aa);return $l(this,n=Kl(this).then(function(e){return Ls(e,o,"signInViaPopup",t,r,!!i)}).then(function(){return new vt(function(t,n){e.ha("signInViaPopup",null,new Br("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=e.a.Ea(e,"signInViaPopup",o,r)})}).then(function(t){return o&&Gn(o),t?kr(t):null}).s(function(t){throw o&&Gn(o),t}))},t.Nc=function(t){if(!cr())return Et(new Br("operation-not-supported-in-this-environment"));var e=this;return $l(this,Kl(this).then(function(){return Bl(t=e.h,function(){return t.b.set(Fl,t.c.B,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!cr())return Et(new Br("operation-not-supported-in-this-environment"));var t=this;return $l(this,Kl(this).then(function(){return t.a.fa()}).then(function(t){return t?kr(t):null}))},t.Sc=function(t){if(!t)return Et(new Br("null-user"));var e=this,n={};n.apiKey=Yl(this).options.apiKey,n.authDomain=Yl(this).options.authDomain,n.appName=Yl(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.m};var i=t.h,o={};return o[fa]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-w())/1e3,e=new rl(e,o),n&&(e.ba=n),r&&ol(e,r),wl(e,t),e}(t,n,e.A,e.ya());return $l(this,this.i.then(function(){if(Yl(e).options.apiKey!=t.l)return r.reload()}).then(function(){return Jl(e)&&t.uid==Jl(e).uid?(wl(Jl(e),t),e.Z(t)):(Ql(e,r),fl(r),e.Z(r))}).then(function(){Zl(e)}))},t.ob=function(){var t=this;return $l(this,this.i.then(function(){return Jl(t)?(Ql(t,null),Vl(t.h).then(function(){Zl(t)})):Ct()}))},t.Oc=function(){var t=this;return Ul(this.h,Yl(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Jl(t)&&e){n=Jl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return wl(Jl(t),e),Jl(t).F();(Jl(t)||e)&&(Ql(t,e),e&&(fl(e),e.ba=t.A),t.a&&t.a.subscribe(t),Zl(t))}})},t.Z=function(t){return jl(this.h,t)},t.bc=function(){Zl(this),this.Z(Jl(this))},t.mc=function(){this.ob()},t.nc=function(){this.ob()},t.oc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Jl(e))})},t.pc=function(t){var e=this;!function(t,e){t.I.push(e),$l(t,t.i.then(function(){!t.l&&F(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Xl(t)))}))}(this,function(){t.next(Jl(e))})},t.xc=function(t,e,n){var r=this;return this.X&&ba.a.Promise.resolve().then(function(){f(t)?t(Jl(r)):f(t.next)&&t.next(Jl(r))}),this.Tb(t,e,n)},t.wc=function(t,e,n){var r=this;return this.X&&ba.a.Promise.resolve().then(function(){r.O=r.getUid(),f(t)?t(Jl(r)):f(t.next)&&t.next(Jl(r))}),this.Ub(t,e,n)},t.cc=function(t){var e=this;return $l(this,this.i.then(function(){return Jl(e)?Jl(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Nb=function(t){var e=this;return this.i.then(function(){return Wl(e,su(e.b,ru,{token:t}))}).then(function(t){var n=t.user;return bl(n,"isAnonymous",!1),e.Z(n),t})},t.Gc=function(t){return Tr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(t)},t.Hc=function(t,e){return Tr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(t,e)},t.Ob=function(t,e){var n=this;return this.i.then(function(){return Wl(n,su(n.b,iu,{email:t,password:e}))})},t.yb=function(t,e){var n=this;return this.i.then(function(){return Wl(n,su(n.b,La,{email:t,password:e}))})},t.Wb=function(t,e){return Tr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.yb(t,e)},t.Jc=function(t){return Tr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Qa(t).then(function(t){return t.user})},t.Qa=function(t){var e=this;return this.i.then(function(){return Wl(e,t.la(e.b))})},t.Ra=function(){var t=this;return this.i.then(function(){var e=Jl(t);if(e&&e.isAnonymous){var n=kr({providerId:null,isNewUser:!1});return kr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Wl(t,t.b.Ra()).then(function(e){var n=e.user;return bl(n,"isAnonymous",!0),t.Z(n),e})})},t.Ic=function(){return Tr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Ra()},t.getUid=function(){return Jl(this)&&Jl(this).uid||null},t.Vb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Jl(this)&&sl(Jl(this))},t.Ec=function(t){var e=this;P(this.m,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&Jl(this)&&ll(Jl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),$l(this,this.i.then(function(){e.l||F(e.m,t)&&t(Xl(e))}))},t.removeAuthTokenListener=function(t){j(this.m,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(Ll("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Za()),ba.a.Promise.resolve()},t.Zb=function(t){return Tr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),$l(this,function(t,e){return su(t,ja,{identifier:e,continueUri:hr()?Hn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.$b=function(t){return $l(this,function(t,e){return su(t,ja,{identifier:e,continueUri:hr()?Hn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.qc=function(t){return!!Wi(t)},t.mb=function(t,e){var n=this;return $l(this,Ct().then(function(){var t=new Kr(e);if(!t.c)throw new Br("argument-error",Wr+" must be true when sending sign in link to email");return ei(t)}).then(function(e){return n.b.mb(t,e)}).then(function(){}))},t.Vc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.$a=function(t,e){return $l(this,this.b.$a(t,e).then(function(){}))},t.Ja=function(t){return $l(this,this.b.Ja(t).then(function(t){return new xr(t)}))},t.Xa=function(t){return $l(this,this.b.Xa(t).then(function(){}))},t.lb=function(t,e){var n=this;return $l(this,Ct().then(function(){return void 0===e||nt(e)?{}:ei(new Kr(e))}).then(function(e){return n.b.lb(t,e)}).then(function(){}))},t.Lc=function(t,e){return $l(this,Ws(this,t,e,m(this.Qa,this)))},t.Kc=function(t,e){var n=this;return $l(this,Ct().then(function(){var r=Qi(t,e||Hn());return n.Qa(r)}))},tc.prototype.render=function(){},tc.prototype.reset=function(){},tc.prototype.getResponse=function(){},tc.prototype.execute=function(){};var nc=null;function rc(t,e){return(e=ic(e))&&t.a[e]||null}function ic(t){return(t=void 0===t?1e12:t)?t.toString():null}function oc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Pn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():be(this.f,"click",this.i)}function ac(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function uc(){}ec.prototype.render=function(t,e){return this.a[this.b.toString()]=new oc(t,e),this.b++},ec.prototype.reset=function(t){var e=rc(this,t);t=ic(t),e&&t&&(e.delete(),delete this.a[t])},ec.prototype.getResponse=function(t){return(t=rc(this,t))?t.getResponse():null},ec.prototype.execute=function(t){(t=rc(this,t))&&t.execute()},oc.prototype.getResponse=function(){return ac(this),this.b},oc.prototype.execute=function(){ac(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},oc.prototype.delete=function(){ac(this),this.g=!0,clearTimeout(this.a),this.a=null,Ce(this.f,"click",this.i)},uc.prototype.g=function(){return nc||(nc=new ec),Ct(nc)},uc.prototype.c=function(){};var sc=null;function lc(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var cc=new pn(yn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),hc=new wr(3e4,6e4);lc.prototype.g=function(t){var e=this;return new vt(function(r,i){var o=setTimeout(function(){i(new Br("network-request-failed"))},hc.get());!n.grecaptcha||t!==e.f&&!e.b?(n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),r(n.grecaptcha)}else clearTimeout(o),i(new Br("internal-error"));delete n[e.a]},Ct(ra(wn(cc,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(o),i(new Br("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(o),r(n.grecaptcha))})},lc.prototype.c=function(){this.b--};var fc=null;function dc(t,e,r,i,o,a,u){if(Ar(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=e,this.g=null,u?(sc||(sc=new uc),u=sc):(fc||(fc=new lc),u=fc),this.m=u,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[gc])throw new Br("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[yc],!n.document)throw new Br("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Pn(e)||!this.i&&Pn(e).hasChildNodes())throw new Br("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new ca(t,a||null,o||null),this.v=i||function(){return null};var s=this;this.o=[];var l=this.a[pc];this.a[pc]=function(t){if(mc(s,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=sr(l,n);"function"==typeof e&&e(t)}};var c=this.a[vc];this.a[vc]=function(){if(mc(s,null),"function"==typeof c)c();else if("string"==typeof c){var t=sr(c,n);"function"==typeof t&&t()}}}var pc="callback",vc="expired-callback",gc="sitekey",yc="size";function mc(t,e){for(var n=0;n<t.o.length;n++)try{t.o[n](e)}catch(r){}}function bc(t,e){return t.h.push(e),e.ia(function(){L(t.h,e)}),e}function wc(t){if(t.D)throw new Br("internal-error","RecaptchaVerifier instance has been destroyed.")}function _c(t,e,n){var r=!1;try{this.b=n||ba.a.app()}catch(a){throw new Br("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Br("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().ya()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=ba.a.SDK_VERSION?ar(ba.a.SDK_VERSION,o):null,dc.call(this,n,t,e,function(){try{var t=i.b.auth().ea()}catch(e){t=null}return t},o,li(ui),r)}function Cc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Br("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Ec.length)throw new Br("internal-error","Argument validator received an unsupported number of arguments.");n=Ec[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Br("argument-error",t+" failed: "+r)}(t=dc.prototype).za=function(){var t=this;return this.f?this.f:this.f=bc(this,Ct().then(function(){if(hr()&&!$n())return Jn();throw new Br("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.v())}).then(function(e){return t.g=e,su(t.u,Wa,{})}).then(function(e){t.a[gc]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){wc(this);var t=this;return bc(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=Pn(e);e=function(t,e,n){var i=arguments,o=document,a=String(i[0]),u=i[1];if(!dn&&u&&(u.name||u.type)){if(a=["<",a],u.name&&a.push(' name="',lt(u.name),'"'),u.type){a.push(' type="',lt(u.type),'"');var s={};ut(s,u),delete s.type,u=s}a.push(">"),a=a.join("")}return a=o.createElement(a),u&&(r(u)?a.className=u:c(u)?a.className=u.join(" "):Rn(a,u)),2<i.length&&function(t,e,n){function i(n){n&&e.appendChild(r(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!h(a)||d(a)&&0<a.nodeType?i(a):P(Fn(a)?U(a):a,i)}}(o,a,i),a}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){wc(this);var t=this;return bc(this,this.render().then(function(e){return new vt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){j(t.o,function(t){return t==e})}(t,i),n(e))};t.o.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){wc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){wc(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Pn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},_(_c,dc);var Ec="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Sc(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:r}}function Ic(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:i}}function Tc(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function Dc(t,e){return{name:t||"",K:"a function",optional:!!e,M:f}}function Ac(t,e){return{name:t||"",K:"null",optional:!!e,M:l}}function Oc(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.la||t&&e.providerId!==t)}}}function kc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&r(t.type)&&f(t.verify))}}}function Nc(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function xc(t,e){for(var n in e){var r=e[n].name;t[r]=Mc(r,t[n],e[n].j)}}function Pc(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b(function(t){return this[t]},n),set:b(function(t,e,n,r){Cc(t,[n],[r],!0),this[e]=r},r,n,e[n].ub),enumerable:!0})}}function Rc(t,e,n,r){t[e]=Mc(e,n,r)}function Mc(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Cc(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}xc(ql.prototype,{Xa:{name:"applyActionCode",j:[Sc("code")]},Ja:{name:"checkActionCode",j:[Sc("code")]},$a:{name:"confirmPasswordReset",j:[Sc("code"),Sc("newPassword")]},yb:{name:"createUserWithEmailAndPassword",j:[Sc("email"),Sc("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Sc("email"),Sc("password")]},Zb:{name:"fetchProvidersForEmail",j:[Sc("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[Sc("email")]},fa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Sc("emailLink")]},wc:{name:"onAuthStateChanged",j:[Nc(Tc(),Dc(),"nextOrObserver"),Dc("opt_error",!0),Dc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[Nc(Tc(),Dc(),"nextOrObserver"),Dc("opt_error",!0),Dc("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[Sc("email"),Nc(Tc("opt_actionCodeSettings",!0),Ac(null,!0),"opt_actionCodeSettings",!0)]},mb:{name:"sendSignInLinkToEmail",j:[Sc("email"),Tc("actionCodeSettings")]},nb:{name:"setPersistence",j:[Sc("persistence")]},Qa:{name:"signInAndRetrieveDataWithCredential",j:[Oc()]},Ra:{name:"signInAnonymously",j:[]},Ic:{name:"signInAnonymouslyAndRetrieveData",j:[]},Jc:{name:"signInWithCredential",j:[Oc()]},Nb:{name:"signInWithCustomToken",j:[Sc("token")]},Gc:{name:"signInAndRetrieveDataWithCustomToken",j:[Sc("token")]},Ob:{name:"signInWithEmailAndPassword",j:[Sc("email"),Sc("password")]},Kc:{name:"signInWithEmailLink",j:[Sc("email"),Sc("emailLink",!0)]},Hc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Sc("email"),Sc("password")]},Lc:{name:"signInWithPhoneNumber",j:[Sc("phoneNumber"),kc()]},Mc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Sc:{name:"updateCurrentUser",j:[Nc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof rl)}},Ac(),"user")]},ob:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Sc(null,!0)]},Uc:{name:"useDeviceLanguage",j:[]},Vc:{name:"verifyPasswordResetCode",j:[Sc("code")]}}),Pc(ql.prototype,{lc:{name:"languageCode",ub:Nc(Sc(),Ac(),"languageCode")}}),(ql.Persistence=es).LOCAL="local",ql.Persistence.SESSION="session",ql.Persistence.NONE="none",xc(rl.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Ic("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Ic("opt_forceRefresh",!0)]},fb:{name:"linkAndRetrieveDataWithCredential",j:[Oc()]},rc:{name:"linkWithCredential",j:[Oc()]},sc:{name:"linkWithPhoneNumber",j:[Sc("phoneNumber"),kc()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},hb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Oc()]},Ac:{name:"reauthenticateWithCredential",j:[Oc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Sc("phoneNumber"),kc()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Nc(Tc("opt_actionCodeSettings",!0),Ac(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Sc(null,!0)]},Rc:{name:"unlink",j:[Sc("provider")]},qb:{name:"updateEmail",j:[Sc("email")]},rb:{name:"updatePassword",j:[Sc("password")]},Tc:{name:"updatePhoneNumber",j:[Oc("phone")]},sb:{name:"updateProfile",j:[Tc("profile")]}}),xc(ec.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),xc(tc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),xc(vt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Pc(Gs.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",ub:Ic("appVerificationDisabledForTesting")}}),xc(Qs.prototype,{confirm:{name:"confirm",j:[Sc("verificationCode")]}}),Rc(Ii,"fromJSON",function(t){t=r(t)?JSON.parse(t):t;for(var e,n=[xi,Ki,Ji,Oi],i=0;i<n.length;i++)if(e=n[i](t))return e;return null},[Nc(Sc(),Tc(),"json")]),Rc(Gi,"credential",function(t,e){return new zi(t,e)},[Sc("email"),Sc("password")]),xc(zi.prototype,{w:{name:"toJSON",j:[Sc(null,!0)]}}),xc(Fi.prototype,{ua:{name:"addScope",j:[Sc("scope")]},Da:{name:"setCustomParameters",j:[Tc("customOAuthParameters")]}}),Rc(Fi,"credential",Li,[Nc(Sc(),Tc(),"token")]),Rc(Gi,"credentialWithLink",Qi,[Sc("email"),Sc("emailLink")]),xc(ji.prototype,{ua:{name:"addScope",j:[Sc("scope")]},Da:{name:"setCustomParameters",j:[Tc("customOAuthParameters")]}}),Rc(ji,"credential",Vi,[Nc(Sc(),Tc(),"token")]),xc(Ui.prototype,{ua:{name:"addScope",j:[Sc("scope")]},Da:{name:"setCustomParameters",j:[Tc("customOAuthParameters")]}}),Rc(Ui,"credential",Bi,[Nc(Sc(),Nc(Tc(),Ac()),"idToken"),Nc(Sc(),Ac(),"accessToken",!0)]),xc(qi.prototype,{Da:{name:"setCustomParameters",j:[Tc("customOAuthParameters")]}}),Rc(qi,"credential",Hi,[Nc(Sc(),Tc(),"token"),Sc("secret",!0)]),xc(Mi.prototype,{ua:{name:"addScope",j:[Sc("scope")]},credential:{name:"credential",j:[Nc(Sc(),Nc(Tc(),Ac()),"optionsOrIdToken"),Nc(Sc(),Ac(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Tc("customOAuthParameters")]}}),xc(ki.prototype,{w:{name:"toJSON",j:[Sc(null,!0)]}}),xc(Di.prototype,{w:{name:"toJSON",j:[Sc(null,!0)]}}),Rc(Zi,"credential",$i,[Sc("verificationId"),Sc("verificationCode")]),xc(Zi.prototype,{Va:{name:"verifyPhoneNumber",j:[Sc("phoneNumber"),kc()]}}),xc(Yi.prototype,{w:{name:"toJSON",j:[Sc(null,!0)]}}),xc(Br.prototype,{toJSON:{name:"toJSON",j:[Sc(null,!0)]}}),xc(so.prototype,{toJSON:{name:"toJSON",j:[Sc(null,!0)]}}),xc(uo.prototype,{toJSON:{name:"toJSON",j:[Sc(null,!0)]}}),xc(_c.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===ba.a||!ba.a.INTERNAL||!ba.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:ql,AuthCredential:Ii,Error:Br};Rc(t,"EmailAuthProvider",Gi,[]),Rc(t,"FacebookAuthProvider",Fi,[]),Rc(t,"GithubAuthProvider",ji,[]),Rc(t,"GoogleAuthProvider",Ui,[]),Rc(t,"TwitterAuthProvider",qi,[]),Rc(t,"OAuthProvider",Mi,[Sc("providerId")]),Rc(t,"SAMLAuthProvider",Ri,[Sc("providerId")]),Rc(t,"PhoneAuthProvider",Zi,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ql)}}]),Rc(t,"RecaptchaVerifier",_c,[Nc(Sc(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Tc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof ba.a.app.App)}}]),ba.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:m((t=new ql(t)).getUid,t),getToken:m(t.cc,t),addAuthTokenListener:m(t.Vb,t),removeAuthTokenListener:m(t.Ec,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),ba.a.INTERNAL.extendNamespace({User:rl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wa=function(){return function(){}}(),_a=function(){function t(t){this.authService=t}return t.prototype.login=function(t,e){var n=this;return new Promise(function(r,i){n.authService.auth.signInWithEmailAndPassword(t,e).then(function(t){return r(t)},function(t){return i(t)})})},t.prototype.getAuth=function(){return this.authService.authState.pipe(Object(O.a)(function(t){return t}))},t.prototype.logout=function(){this.authService.auth.signOut()},t.prototype.registrarse=function(t,e){var n=this;return new Promise(function(r,i){n.authService.auth.createUserWithEmailAndPassword(t,e).then(function(t){return r(t)},function(t){return i(t)})})},t}(),Ca=function(){function t(t,e,n){this.router=t,this.flashMessages=e,this.loginService=n,this.email="",this.password=""}return t.prototype.ngOnInit=function(){var t=this;this.loginService.getAuth().subscribe(function(e){e&&t.router.navigate(["/"])})},t.prototype.login=function(){var t=this;this.loginService.login(this.email,this.password).then(function(e){t.router.navigate(["/"])}).catch(function(e){t.flashMessages.show(e.message,{cssClass:"alert-danger",timeout:4e3})})},t}(),Ea=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Sa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,6,"header",[["class","py-2 bg-info text-white"],["id","main-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,3,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,2,"h1",[],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Login "])),(t()(),r["\u0275eld"](7,0,null,null,2,"section",[["class","py-4 mb-4 bg-light"],["id","actions"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,1,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,0,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,1,"flash-messages",[],null,null,null,Ri,ki)),r["\u0275did"](11,114688,null,0,Ai.FlashMessagesComponent,[Oi.FlashMessagesService,r.ChangeDetectorRef],null,null),(t()(),r["\u0275eld"](12,0,null,null,37,"section",[["id","login"]],null,null,null,null,null)),(t()(),r["\u0275eld"](13,0,null,null,36,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](14,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](15,0,null,null,34,"div",[["class","col-md-6 mx-auto"]],null,null,null,null,null)),(t()(),r["\u0275eld"](16,0,null,null,33,"div",[["class","card"]],null,null,null,null,null)),(t()(),r["\u0275eld"](17,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](18,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Login "])),(t()(),r["\u0275eld"](20,0,null,null,29,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r["\u0275eld"](21,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r["\u0275nov"](t,23).onSubmit(n)&&i),"reset"===e&&(i=!1!==r["\u0275nov"](t,23).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.login()&&i),i},null,null)),r["\u0275did"](22,16384,null,0,Po,[],null,null),r["\u0275did"](23,4210688,null,0,So,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r["\u0275prd"](2048,null,Li,null,[So]),r["\u0275did"](25,16384,null,0,vo,[[4,Li]],null,null),(t()(),r["\u0275eld"](26,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](27,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Email"])),(t()(),r["\u0275eld"](29,0,null,null,7,"input",[["class","form-control"],["name","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,30)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,30).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,30)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,30)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.email=n)&&i),i},null,null)),r["\u0275did"](30,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](31,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,Vi,function(t){return[t]},[ko]),r["\u0275prd"](1024,null,Ki,function(t){return[t]},[Wi]),r["\u0275did"](34,671744,null,0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](36,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](37,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](38,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Password"])),(t()(),r["\u0275eld"](40,0,null,null,7,"input",[["class","form-control"],["name","password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,41)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,41).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,41)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,41)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.password=n)&&i),i},null,null)),r["\u0275did"](41,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](42,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,Vi,function(t){return[t]},[ko]),r["\u0275prd"](1024,null,Ki,function(t){return[t]},[Wi]),r["\u0275did"](45,671744,null,0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](47,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](48,0,null,null,1,"button",[["class","btn btn-primary btn-block"],["type","submit"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Ingresar"]))],function(t,e){var n=e.component;t(e,11,0),t(e,31,0,""),t(e,34,0,"email",n.email),t(e,42,0,""),t(e,45,0,"password",n.password)},function(t,e){t(e,21,0,r["\u0275nov"](e,25).ngClassUntouched,r["\u0275nov"](e,25).ngClassTouched,r["\u0275nov"](e,25).ngClassPristine,r["\u0275nov"](e,25).ngClassDirty,r["\u0275nov"](e,25).ngClassValid,r["\u0275nov"](e,25).ngClassInvalid,r["\u0275nov"](e,25).ngClassPending),t(e,29,0,r["\u0275nov"](e,31).required?"":null,r["\u0275nov"](e,36).ngClassUntouched,r["\u0275nov"](e,36).ngClassTouched,r["\u0275nov"](e,36).ngClassPristine,r["\u0275nov"](e,36).ngClassDirty,r["\u0275nov"](e,36).ngClassValid,r["\u0275nov"](e,36).ngClassInvalid,r["\u0275nov"](e,36).ngClassPending),t(e,40,0,r["\u0275nov"](e,42).required?"":null,r["\u0275nov"](e,47).ngClassUntouched,r["\u0275nov"](e,47).ngClassTouched,r["\u0275nov"](e,47).ngClassPristine,r["\u0275nov"](e,47).ngClassDirty,r["\u0275nov"](e,47).ngClassValid,r["\u0275nov"](e,47).ngClassInvalid,r["\u0275nov"](e,47).ngClassPending)})}function Ia(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-login",[],null,null,null,Sa,Ea)),r["\u0275did"](1,114688,null,0,Ca,[Jr,Oi.FlashMessagesService,_a],null,null)],function(t,e){t(e,1,0)},null)}var Ta=r["\u0275ccf"]("app-login",Ca,Ia,{},{},[]),Da=function(){function t(t,e,n){this.router=t,this.flashMessages=e,this.loginService=n}return t.prototype.ngOnInit=function(){var t=this;this.loginService.getAuth().subscribe(function(e){e&&t.router.navigate(["/"])})},t.prototype.registro=function(){var t=this;this.loginService.registrarse(this.email,this.password).then(function(e){t.router.navigate(["/"])}).catch(function(e){t.flashMessages.show(e.message,{cssClass:"alert-danger",timeout:4e3})})},t}(),Aa=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Oa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,6,"header",[["class","py-2 bg-info text-white"],["id","main-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,3,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,2,"h1",[],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Registro "])),(t()(),r["\u0275eld"](7,0,null,null,2,"section",[["class","py-4 mb-4 bg-light"],["id","actions"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,1,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,0,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,1,"flash-messages",[],null,null,null,Ri,ki)),r["\u0275did"](11,114688,null,0,Ai.FlashMessagesComponent,[Oi.FlashMessagesService,r.ChangeDetectorRef],null,null),(t()(),r["\u0275eld"](12,0,null,null,37,"section",[["id","registro"]],null,null,null,null,null)),(t()(),r["\u0275eld"](13,0,null,null,36,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](14,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](15,0,null,null,34,"div",[["class","col-md-6 mx-auto"]],null,null,null,null,null)),(t()(),r["\u0275eld"](16,0,null,null,33,"div",[["class","card"]],null,null,null,null,null)),(t()(),r["\u0275eld"](17,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](18,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Crea tu cuenta ahora! "])),(t()(),r["\u0275eld"](20,0,null,null,29,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r["\u0275eld"](21,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r["\u0275nov"](t,23).onSubmit(n)&&i),"reset"===e&&(i=!1!==r["\u0275nov"](t,23).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.registro()&&i),i},null,null)),r["\u0275did"](22,16384,null,0,Po,[],null,null),r["\u0275did"](23,4210688,null,0,So,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r["\u0275prd"](2048,null,Li,null,[So]),r["\u0275did"](25,16384,null,0,vo,[[4,Li]],null,null),(t()(),r["\u0275eld"](26,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](27,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Email"])),(t()(),r["\u0275eld"](29,0,null,null,7,"input",[["class","form-control"],["name","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,30)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,30).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,30)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,30)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.email=n)&&i),i},null,null)),r["\u0275did"](30,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](31,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,Vi,function(t){return[t]},[ko]),r["\u0275prd"](1024,null,Ki,function(t){return[t]},[Wi]),r["\u0275did"](34,671744,null,0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](36,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](37,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](38,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Password"])),(t()(),r["\u0275eld"](40,0,null,null,7,"input",[["class","form-control"],["name","password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,41)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,41).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,41)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,41)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.password=n)&&i),i},null,null)),r["\u0275did"](41,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](42,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,Vi,function(t){return[t]},[ko]),r["\u0275prd"](1024,null,Ki,function(t){return[t]},[Wi]),r["\u0275did"](45,671744,null,0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](47,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](48,0,null,null,1,"button",[["class","btn btn-primary btn-block"],["type","submit"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Registrarse"]))],function(t,e){var n=e.component;t(e,11,0),t(e,31,0,""),t(e,34,0,"email",n.email),t(e,42,0,""),t(e,45,0,"password",n.password)},function(t,e){t(e,21,0,r["\u0275nov"](e,25).ngClassUntouched,r["\u0275nov"](e,25).ngClassTouched,r["\u0275nov"](e,25).ngClassPristine,r["\u0275nov"](e,25).ngClassDirty,r["\u0275nov"](e,25).ngClassValid,r["\u0275nov"](e,25).ngClassInvalid,r["\u0275nov"](e,25).ngClassPending),t(e,29,0,r["\u0275nov"](e,31).required?"":null,r["\u0275nov"](e,36).ngClassUntouched,r["\u0275nov"](e,36).ngClassTouched,r["\u0275nov"](e,36).ngClassPristine,r["\u0275nov"](e,36).ngClassDirty,r["\u0275nov"](e,36).ngClassValid,r["\u0275nov"](e,36).ngClassInvalid,r["\u0275nov"](e,36).ngClassPending),t(e,40,0,r["\u0275nov"](e,42).required?"":null,r["\u0275nov"](e,47).ngClassUntouched,r["\u0275nov"](e,47).ngClassTouched,r["\u0275nov"](e,47).ngClassPristine,r["\u0275nov"](e,47).ngClassDirty,r["\u0275nov"](e,47).ngClassValid,r["\u0275nov"](e,47).ngClassInvalid,r["\u0275nov"](e,47).ngClassPending)})}function ka(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-registro",[],null,null,null,Oa,Aa)),r["\u0275did"](1,114688,null,0,Da,[Jr,Oi.FlashMessagesService,_a],null,null)],function(t,e){t(e,1,0)},null)}var Na=r["\u0275ccf"]("app-registro",Da,ka,{},{},[]),xa=function(){function t(t){this.db=t,this.id="1"}return t.prototype.getConfiguracion=function(){return this.configuracionDoc=this.db.doc("configuracion/"+this.id),this.configuracion=this.configuracionDoc.valueChanges(),this.configuracion},t.prototype.modificarConfiguracion=function(t){this.configuracionDoc=this.db.doc("configuracion/"+this.id),this.configuracionDoc.update(t)},t}(),Pa=function(){function t(t,e){this.router=t,this.configuracionService=e}return t.prototype.ngOnInit=function(){var t=this;this.configuracionService.getConfiguracion().subscribe(function(e){t.permitirRegistro=e.permitirRegistro})},t.prototype.guardar=function(){this.configuracionService.modificarConfiguracion({permitirRegistro:this.permitirRegistro}),this.router.navigate(["/"])},t}(),Ra=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ma(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,6,"header",[["class","py-2 bg-info text-white"],["id","main-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,3,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,2,"h1",[],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Configuracion "])),(t()(),r["\u0275eld"](7,0,null,null,11,"section",[["class","py-4 mb-4 bg-light"],["id","actions"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,10,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,4,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](11,0,null,null,3,"a",[["class","btn btn-light btn-block"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](12,671744,null,0,Xr,[Jr,Un,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-arrow-left"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Regresar al inicio "])),(t()(),r["\u0275eld"](15,0,null,null,3,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](16,0,null,null,2,"button",[["class","btn btn-success btn-block"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.guardar()&&r),r},null,null)),(t()(),r["\u0275eld"](17,0,null,null,0,"i",[["class","fas fa-check"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Guardar Cambios "])),(t()(),r["\u0275eld"](19,0,null,null,21,"section",[["id","configuracion"]],null,null,null,null,null)),(t()(),r["\u0275eld"](20,0,null,null,20,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](21,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](22,0,null,null,18,"div",[["class","col"]],null,null,null,null,null)),(t()(),r["\u0275eld"](23,0,null,null,17,"div",[["class","card"]],null,null,null,null,null)),(t()(),r["\u0275eld"](24,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](25,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Editar configuracion"])),(t()(),r["\u0275eld"](27,0,null,null,12,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r["\u0275eld"](28,0,null,null,11,"fieldset",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](29,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Permitir Registro de Usuarios"])),(t()(),r["\u0275eld"](31,0,null,null,8,"div",[["class","form-check"]],null,null,null,null,null)),(t()(),r["\u0275eld"](32,0,null,null,7,"label",[["class","form-check-label"],["for",""]],null,null,null,null,null)),(t()(),r["\u0275eld"](33,0,null,null,5,"input",[["class","form-check-input"],["name","permitirRegistro"],["type","checkbox"]],[[8,"checked",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r["\u0275nov"](t,34).onChange(n.target.checked)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,34).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.permitirRegistro=n)&&i),i},null,null)),r["\u0275did"](34,16384,null,0,Gi,[r.Renderer2,r.ElementRef],null,null),r["\u0275prd"](1024,null,Ki,function(t){return[t]},[Gi]),r["\u0275did"](36,671744,null,0,Oo,[[8,null],[8,null],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](38,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275ted"](39,null,[" "," "])),(t()(),r["\u0275eld"](40,0,null,null,0,"div",[["class","card-footer"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,12,0,"/"),t(e,36,0,"permitirRegistro",n.permitirRegistro)},function(t,e){var n=e.component;t(e,11,0,r["\u0275nov"](e,12).target,r["\u0275nov"](e,12).href),t(e,33,0,n.permitirRegistro,r["\u0275nov"](e,38).ngClassUntouched,r["\u0275nov"](e,38).ngClassTouched,r["\u0275nov"](e,38).ngClassPristine,r["\u0275nov"](e,38).ngClassDirty,r["\u0275nov"](e,38).ngClassValid,r["\u0275nov"](e,38).ngClassInvalid,r["\u0275nov"](e,38).ngClassPending),t(e,39,0,n.permitirRegistro?"Si":"No")})}function Fa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-configuracion",[],null,null,null,Ma,Ra)),r["\u0275did"](1,114688,null,0,Pa,[Jr,xa],null,null)],function(t,e){t(e,1,0)},null)}var La=r["\u0275ccf"]("app-configuracion",Pa,Fa,{},{},[]),ja=function(){function t(t,e,n,r){this.clienteServicio=t,this.flashMessages=e,this.router=n,this.route=r,this.id="",this.cliente={nombre:"",apellido:"",email:"",saldo:0}}return t.prototype.ngOnInit=function(){var t=this;this.id=this.route.snapshot.params.id,this.clienteServicio.getCliente(this.id).subscribe(function(e){t.cliente=e})},t.prototype.guardar=function(t){var e=t.value;t.valid?(e.id=this.id,this.clienteServicio.modificarCliente(e),this.router.navigate(["/"])):this.flashMessages.show("Por favor llena todo los datos correctamente",{cssClass:"alert-danger",timeout:4e3})},t.prototype.eliminar=function(){confirm("seguro que desea eliminar el cliente?")&&(this.clienteServicio.eliminarCliente(this.cliente),this.router.navigate(["/"]))},t}(),Va=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ua(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,6,"header",[["class","py-2 bg-info text-white"],["id","main-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,3,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,2,"h1",[],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Editar Cliente "])),(t()(),r["\u0275eld"](7,0,null,null,101,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r["\u0275nov"](t,9).onSubmit(n)&&i),"reset"===e&&(i=!1!==r["\u0275nov"](t,9).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.guardar(r["\u0275nov"](t,9))&&i),i},null,null)),r["\u0275did"](8,16384,null,0,Po,[],null,null),r["\u0275did"](9,4210688,[["clienteForm",4]],0,So,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r["\u0275prd"](2048,null,Li,null,[So]),r["\u0275did"](11,16384,null,0,vo,[[4,Li]],null,null),(t()(),r["\u0275eld"](12,0,null,null,1,"flash-messages",[],null,null,null,Ri,ki)),r["\u0275did"](13,114688,null,0,Ai.FlashMessagesComponent,[Oi.FlashMessagesService,r.ChangeDetectorRef],null,null),(t()(),r["\u0275eld"](14,0,null,null,15,"section",[["class","py-4 mb-4 bg-light"],["id","actions"]],null,null,null,null,null)),(t()(),r["\u0275eld"](15,0,null,null,14,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](16,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](17,0,null,null,4,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](18,0,null,null,3,"a",[["class","btn btn-light btn-block"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,19).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](19,671744,null,0,Xr,[Jr,Un,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275eld"](20,0,null,null,0,"i",[["class","fas fa-arrow-left"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Regresar al inicio "])),(t()(),r["\u0275eld"](22,0,null,null,3,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](23,0,null,null,2,"button",[["class","btn btn-success btn-block"],["type","submit"]],null,null,null,null,null)),(t()(),r["\u0275eld"](24,0,null,null,0,"i",[["class","fas fa-check"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Guardar Cliente "])),(t()(),r["\u0275eld"](26,0,null,null,3,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](27,0,null,null,2,"a",[["class","btn btn-danger btn-block"],["href","#"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.eliminar()&&r),r},null,null)),(t()(),r["\u0275eld"](28,0,null,null,0,"i",[["class","fas fa-trash"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Eliminar Cliente "])),(t()(),r["\u0275eld"](30,0,null,null,78,"section",[["id","details"]],null,null,null,null,null)),(t()(),r["\u0275eld"](31,0,null,null,77,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](32,0,null,null,76,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](33,0,null,null,75,"div",[["class","col"]],null,null,null,null,null)),(t()(),r["\u0275eld"](34,0,null,null,74,"div",[["class","card"]],null,null,null,null,null)),(t()(),r["\u0275eld"](35,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),r["\u0275eld"](36,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Editar Cliente"])),(t()(),r["\u0275eld"](38,0,null,null,70,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r["\u0275eld"](39,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](40,0,null,null,1,"label",[["for","nombre"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Nombre"])),(t()(),r["\u0275eld"](42,0,null,null,10,"input",[["class","form-control"],["minlength","2"],["name","nombre"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,45)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,45).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,45)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,45)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.cliente.nombre=n)&&i),i},null,null)),r["\u0275did"](43,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](44,{"is-invalid":0}),r["\u0275did"](45,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](46,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275did"](47,540672,null,0,No,[],{minlength:[0,"minlength"]},null),r["\u0275prd"](1024,null,Vi,function(t,e){return[t,e]},[ko,No]),r["\u0275prd"](1024,null,Ki,function(t){return[t]},[Wi]),r["\u0275did"](50,671744,[["nombre",4]],0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](52,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](53,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Nombre es Requerido"])),(t()(),r["\u0275eld"](55,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Logitud minima no alcanzada"])),(t()(),r["\u0275eld"](57,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](58,0,null,null,1,"label",[["for","apellido"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Apellido"])),(t()(),r["\u0275eld"](60,0,null,null,10,"input",[["class","form-control"],["minlength","2"],["name","apellido"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,63)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,63).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,63)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,63)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.cliente.apellido=n)&&i),i},null,null)),r["\u0275did"](61,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](62,{"is-invalid":0}),r["\u0275did"](63,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](64,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275did"](65,540672,null,0,No,[],{minlength:[0,"minlength"]},null),r["\u0275prd"](1024,null,Vi,function(t,e){return[t,e]},[ko,No]),r["\u0275prd"](1024,null,Ki,function(t){return[t]},[Wi]),r["\u0275did"](68,671744,[["apellido",4]],0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](70,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](71,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Apellido es Requerido"])),(t()(),r["\u0275eld"](73,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Logitud minima no alcanzada"])),(t()(),r["\u0275eld"](75,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](76,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Email"])),(t()(),r["\u0275eld"](78,0,null,null,10,"input",[["class","form-control"],["name","email"],["pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$"],["required",""],["type","email"]],[[1,"required",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,81)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,81).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,81)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,81)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.cliente.email=n)&&i),i},null,null)),r["\u0275did"](79,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](80,{"is-invalid":0}),r["\u0275did"](81,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](82,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275did"](83,540672,null,0,xo,[],{pattern:[0,"pattern"]},null),r["\u0275prd"](1024,null,Vi,function(t,e){return[t,e]},[ko,xo]),r["\u0275prd"](1024,null,Ki,function(t){return[t]},[Wi]),r["\u0275did"](86,671744,[["email",4]],0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](88,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](89,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["El Email es Requerido"])),(t()(),r["\u0275eld"](91,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["El Email no es valido"])),(t()(),r["\u0275eld"](93,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](94,0,null,null,1,"label",[["for","saldo"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Saldo"])),(t()(),r["\u0275eld"](96,0,null,null,10,"input",[["class","form-control"],["name","saldo"],["required",""],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r["\u0275nov"](t,99)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,99).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,99)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,99)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==r["\u0275nov"](t,100).onChange(n.target.value)&&i),"input"===e&&(i=!1!==r["\u0275nov"](t,100).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,100).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.cliente.saldo=n)&&i),i},null,null)),r["\u0275did"](97,278528,null,0,s.NgClass,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["\u0275pod"](98,{"is-invalid":0}),r["\u0275did"](99,16384,null,0,Wi,[r.Renderer2,r.ElementRef,[2,Qi]],null,null),r["\u0275did"](100,16384,null,0,Xi,[r.Renderer2,r.ElementRef],null,null),r["\u0275did"](101,16384,null,0,ko,[],{required:[0,"required"]},null),r["\u0275prd"](1024,null,Vi,function(t){return[t]},[ko]),r["\u0275prd"](1024,null,Ki,function(t,e){return[t,e]},[Wi,Xi]),r["\u0275did"](104,671744,[["saldo",4]],0,Oo,[[2,Li],[6,Vi],[8,null],[6,Ki]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,$i,null,[Oo]),r["\u0275did"](106,16384,null,0,po,[[4,$i]],null,null),(t()(),r["\u0275eld"](107,0,null,null,1,"div",[["class","invalid-feedback"]],[[8,"hidden",0]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["El Saldo es Requerido"]))],function(t,e){var n=e.component;t(e,13,0),t(e,19,0,"/");var i=t(e,44,0,r["\u0275nov"](e,50).errors&&r["\u0275nov"](e,50).touched);t(e,43,0,"form-control",i),t(e,46,0,""),t(e,47,0,"2"),t(e,50,0,"nombre",n.cliente.nombre);var o=t(e,62,0,r["\u0275nov"](e,68).errors&&r["\u0275nov"](e,68).touched);t(e,61,0,"form-control",o),t(e,64,0,""),t(e,65,0,"2"),t(e,68,0,"apellido",n.cliente.apellido);var a=t(e,80,0,r["\u0275nov"](e,86).errors&&r["\u0275nov"](e,86).touched);t(e,79,0,"form-control",a),t(e,82,0,""),t(e,83,0,"^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$"),t(e,86,0,"email",n.cliente.email);var u=t(e,98,0,r["\u0275nov"](e,104).errors&&r["\u0275nov"](e,104).touched);t(e,97,0,"form-control",u),t(e,101,0,""),t(e,104,0,"saldo",n.cliente.saldo)},function(t,e){t(e,7,0,r["\u0275nov"](e,11).ngClassUntouched,r["\u0275nov"](e,11).ngClassTouched,r["\u0275nov"](e,11).ngClassPristine,r["\u0275nov"](e,11).ngClassDirty,r["\u0275nov"](e,11).ngClassValid,r["\u0275nov"](e,11).ngClassInvalid,r["\u0275nov"](e,11).ngClassPending),t(e,18,0,r["\u0275nov"](e,19).target,r["\u0275nov"](e,19).href),t(e,42,0,r["\u0275nov"](e,46).required?"":null,r["\u0275nov"](e,47).minlength?r["\u0275nov"](e,47).minlength:null,r["\u0275nov"](e,52).ngClassUntouched,r["\u0275nov"](e,52).ngClassTouched,r["\u0275nov"](e,52).ngClassPristine,r["\u0275nov"](e,52).ngClassDirty,r["\u0275nov"](e,52).ngClassValid,r["\u0275nov"](e,52).ngClassInvalid,r["\u0275nov"](e,52).ngClassPending),t(e,53,0,!(null!=r["\u0275nov"](e,50).errors&&r["\u0275nov"](e,50).errors.required)),t(e,55,0,!(null!=r["\u0275nov"](e,50).errors&&r["\u0275nov"](e,50).errors.minlength)),t(e,60,0,r["\u0275nov"](e,64).required?"":null,r["\u0275nov"](e,65).minlength?r["\u0275nov"](e,65).minlength:null,r["\u0275nov"](e,70).ngClassUntouched,r["\u0275nov"](e,70).ngClassTouched,r["\u0275nov"](e,70).ngClassPristine,r["\u0275nov"](e,70).ngClassDirty,r["\u0275nov"](e,70).ngClassValid,r["\u0275nov"](e,70).ngClassInvalid,r["\u0275nov"](e,70).ngClassPending),t(e,71,0,!(null!=r["\u0275nov"](e,68).errors&&r["\u0275nov"](e,68).errors.required)),t(e,73,0,!(null!=r["\u0275nov"](e,68).errors&&r["\u0275nov"](e,68).errors.minlength)),t(e,78,0,r["\u0275nov"](e,82).required?"":null,r["\u0275nov"](e,83).pattern?r["\u0275nov"](e,83).pattern:null,r["\u0275nov"](e,88).ngClassUntouched,r["\u0275nov"](e,88).ngClassTouched,r["\u0275nov"](e,88).ngClassPristine,r["\u0275nov"](e,88).ngClassDirty,r["\u0275nov"](e,88).ngClassValid,r["\u0275nov"](e,88).ngClassInvalid,r["\u0275nov"](e,88).ngClassPending),t(e,89,0,!(null!=r["\u0275nov"](e,86).errors&&r["\u0275nov"](e,86).errors.required)),t(e,91,0,!(null!=r["\u0275nov"](e,86).errors&&r["\u0275nov"](e,86).errors.pattern)),t(e,96,0,r["\u0275nov"](e,101).required?"":null,r["\u0275nov"](e,106).ngClassUntouched,r["\u0275nov"](e,106).ngClassTouched,r["\u0275nov"](e,106).ngClassPristine,r["\u0275nov"](e,106).ngClassDirty,r["\u0275nov"](e,106).ngClassValid,r["\u0275nov"](e,106).ngClassInvalid,r["\u0275nov"](e,106).ngClassPending),t(e,107,0,!(null!=r["\u0275nov"](e,104).errors&&r["\u0275nov"](e,104).errors.required))})}function Ba(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-editar-cliente",[],null,null,null,Ua,Va)),r["\u0275did"](1,114688,null,0,ja,[ua,Oi.FlashMessagesService,Jr,Un],null,null)],function(t,e){t(e,1,0)},null)}var qa=r["\u0275ccf"]("app-editar-cliente",ja,Ba,{},{},[]),Ha=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),za=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ka(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" no-encontrado works!\n"]))],null,null)}function Ga(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-no-encontrado",[],null,null,null,Ka,za)),r["\u0275did"](1,114688,null,0,Ha,[],null,null)],function(t,e){t(e,1,0)},null)}var Qa=r["\u0275ccf"]("app-no-encontrado",Ha,Ga,{},{},[]),Wa=function(){function t(t,e,n){this.loginService=t,this.router=e,this.configuracionService=n,this.isLoggedIn=!1,this.permitirRegistro=!1}return t.prototype.ngOnInit=function(){var t=this;this.loginService.getAuth().subscribe(function(e){e?(t.isLoggedIn=!0,t.loggedInUser=e.email):(t.isLoggedIn=!1,t.loggedInUser=null)}),this.configuracionService.getConfiguracion().subscribe(function(e){t.permitirRegistro=e.permitirRegistro})},t.prototype.logout=function(){this.loginService.logout(),this.isLoggedIn=!1,this.router.navigate(["login"])},t}(),Ya=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ja(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,8,"ul",[["class","navbar-nav"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,7,"li",[["class","nav-item px-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,6,"a",[["class","nav-link"],["routerLinkActive","router-link-active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](3,671744,[[2,4]],0,Xr,[Jr,Un,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](4,1),r["\u0275did"](5,1720320,null,2,$r,[Jr,r.ElementRef,r.Renderer2,r.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,1,{links:1}),r["\u0275qud"](603979776,2,{linksWithHrefs:1}),(t()(),r["\u0275ted"](-1,null,["Inicio"]))],function(t,e){var n=t(e,4,0,"/");t(e,3,0,n),t(e,5,0,"router-link-active")},function(t,e){t(e,2,0,r["\u0275nov"](e,3).target,r["\u0275nov"](e,3).href)})}function Xa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,8,"li",[["class","navbar-item dropdown mr-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,2,"a",[["class","nav-link dropdown-toggle"],["data-toggle","dropdown"],["href","#"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-user"]],null,null,null,null,null)),(t()(),r["\u0275ted"](3,null,["Bienvenido "," "])),(t()(),r["\u0275eld"](4,0,null,null,4,"div",[["class","dropdown-menu"]],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,3,"a",[["class","dropdown-item"],["routerLink","/configuracion"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,6).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](6,671744,null,0,Xr,[Jr,Un,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275eld"](7,0,null,null,0,"i",[["class","fas fa-cog"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Configuracion "]))],function(t,e){t(e,6,0,"/configuracion")},function(t,e){t(e,3,0,e.component.loggedInUser),t(e,5,0,r["\u0275nov"](e,6).target,r["\u0275nov"](e,6).href)})}function Za(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,3,"a",[["class","nav-link"],["routerLink","/login"],["routerLinkActuve","router-link-active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](2,671744,null,0,Xr,[Jr,Un,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275eld"](3,0,null,null,0,"i",[["class","fas fa-user"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Login "]))],function(t,e){t(e,2,0,"/login")},function(t,e){t(e,1,0,r["\u0275nov"](e,2).target,r["\u0275nov"](e,2).href)})}function $a(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,3,"a",[["class","nav-link"],["routerLink","/registrarse"],["routerLinkActuve","router-link-active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](2,671744,null,0,Xr,[Jr,Un,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275eld"](3,0,null,null,0,"i",[["class","fas fa-user-plus"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Registrarse "]))],function(t,e){t(e,2,0,"/registrarse")},function(t,e){t(e,1,0,r["\u0275nov"](e,2).target,r["\u0275nov"](e,2).href)})}function tu(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,2,"a",[["class","nav-link"],["style","cursor: pointer"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.logout()&&r),r},null,null)),(t()(),r["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-user-times"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Logout "]))],null,null)}function eu(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,18,"nav",[["class","navbar navbar-expand-sm navbar-dark bg-dark p-0"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,17,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,2,"a",[["class","navbar-brand"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](3,671744,null,0,Xr,[Jr,Un,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275ted"](-1,null,["Control Clientes"])),(t()(),r["\u0275eld"](5,0,null,null,1,"button",[["class","navbar-toggler"],["data-target","#navbarCollapse"],["data-toggle","collapse"]],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,2,"div",[["class","collapse navbar-collapse"],["id","navbarCollapse"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Ja)),r["\u0275did"](9,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](10,0,null,null,8,"ul",[["class","navbar-nav ml-auto"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Xa)),r["\u0275did"](12,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Za)),r["\u0275did"](14,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,$a)),r["\u0275did"](16,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,tu)),r["\u0275did"](18,16384,null,0,s.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,"/"),t(e,9,0,n.isLoggedIn),t(e,12,0,n.isLoggedIn),t(e,14,0,!n.isLoggedIn&&n.permitirRegistro),t(e,16,0,!n.isLoggedIn&&n.permitirRegistro),t(e,18,0,n.isLoggedIn)},function(t,e){t(e,2,0,r["\u0275nov"](e,3).target,r["\u0275nov"](e,3).href)})}var nu=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),ru=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function iu(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,6,"footer",[["class","bg-warning text-dark mt-5 p-5"],["id","pie-pagina"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,2,"p",[["class","lead text-center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Copyright \xa9 devcrowntech.com.mx"]))],null,null)}var ou=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function au(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-cabecero",[],null,null,null,eu,Ya)),r["\u0275did"](1,114688,null,0,Wa,[_a,Jr,xa],null,null),(t()(),r["\u0275eld"](2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](3,212992,null,0,ni,[ei,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null),(t()(),r["\u0275eld"](4,0,null,null,1,"app-pie-pagina",[],null,null,null,iu,ru)),r["\u0275did"](5,114688,null,0,nu,[],null,null)],function(t,e){t(e,1,0),t(e,3,0),t(e,5,0)},null)}function uu(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,au,ou)),r["\u0275did"](1,49152,null,0,a,[],null,null)],null,null)}var su=r["\u0275ccf"]("app-root",a,uu,{},{},[]),lu=function(){function t(t,e){this.router=t,this.afAuth=e}return t.prototype.canActivate=function(){var t=this;return this.afAuth.authState.pipe(Object(O.a)(function(e){return!!e||(t.router.navigate(["/login"]),!1)}))},t}(),cu=function(){function t(t,e){this.router=t,this.configuracionService=e}return t.prototype.canActivate=function(){var t=this;return this.configuracionService.getConfiguracion().pipe(Object(O.a)(function(e){return!!e.permitirRegistro||(t.router.navigate(["/login"]),!1)}))},t}(),hu=function(){return function(){}}(),fu=n("hozL"),du=r["\u0275cmf"](o,[a],function(t){return r["\u0275mod"]([r["\u0275mpd"](512,r.ComponentFactoryResolver,r["\u0275CodegenComponentFactoryResolver"],[[8,[Di,ga,Ta,Na,La,qa,Qa,su]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["\u0275mpd"](5120,r.LOCALE_ID,r["\u0275angular_packages_core_core_s"],[[3,r.LOCALE_ID]]),r["\u0275mpd"](4608,s.NgLocalization,s.NgLocaleLocalization,[r.LOCALE_ID,[2,s["\u0275angular_packages_common_common_a"]]]),r["\u0275mpd"](5120,r.APP_ID,r["\u0275angular_packages_core_core_h"],[]),r["\u0275mpd"](5120,r.IterableDiffers,r["\u0275angular_packages_core_core_q"],[]),r["\u0275mpd"](5120,r.KeyValueDiffers,r["\u0275angular_packages_core_core_r"],[]),r["\u0275mpd"](4608,be,we,[s.DOCUMENT]),r["\u0275mpd"](6144,r.Sanitizer,null,[be]),r["\u0275mpd"](4608,fe,pe,[]),r["\u0275mpd"](5120,Vt,function(t,e,n,r,i,o,a,u){return[new ce(t,e,n),new me(r),new ve(i,o,a,u)]},[s.DOCUMENT,r.NgZone,r.PLATFORM_ID,s.DOCUMENT,s.DOCUMENT,fe,r["\u0275Console"],[2,de]]),r["\u0275mpd"](4608,Ut,Ut,[Vt,r.NgZone]),r["\u0275mpd"](135680,Ht,Ht,[s.DOCUMENT]),r["\u0275mpd"](4608,Jt,Jt,[Ut,Ht,r.APP_ID]),r["\u0275mpd"](6144,r.RendererFactory2,null,[Jt]),r["\u0275mpd"](6144,qt,null,[Ht]),r["\u0275mpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["\u0275mpd"](5120,Un,bi,[Jr]),r["\u0275mpd"](4608,ai,ai,[]),r["\u0275mpd"](6144,ii,null,[ai]),r["\u0275mpd"](135680,ui,ui,[Jr,r.NgModuleFactoryLoader,r.Compiler,r.Injector,ii]),r["\u0275mpd"](4608,oi,oi,[]),r["\u0275mpd"](5120,si,pi,[Jr,s.ViewportScroller,li]),r["\u0275mpd"](5120,Ei,Ci,[wi]),r["\u0275mpd"](5120,r.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[Ei]),r["\u0275mpd"](5120,Yo,Jo,[Qo,[2,Wo]]),r["\u0275mpd"](4608,oa,oa,[Qo,[2,Wo],[2,ta],[2,na],r.PLATFORM_ID,r.NgZone,[2,ea]]),r["\u0275mpd"](4608,ya,ya,[Qo,[2,Wo],r.PLATFORM_ID,r.NgZone]),r["\u0275mpd"](4608,to,to,[]),r["\u0275mpd"](4608,Oi.FlashMessagesService,Oi.FlashMessagesService,[]),r["\u0275mpd"](4608,ua,ua,[oa]),r["\u0275mpd"](4608,_a,_a,[ya]),r["\u0275mpd"](4608,xa,xa,[oa]),r["\u0275mpd"](4608,lu,lu,[Jr,ya]),r["\u0275mpd"](4608,cu,cu,[Jr,xa]),r["\u0275mpd"](1073742336,s.CommonModule,s.CommonModule,[]),r["\u0275mpd"](1024,r.ErrorHandler,Oe,[]),r["\u0275mpd"](1024,r.NgProbeToken,function(){return[fi()]},[]),r["\u0275mpd"](512,wi,wi,[r.Injector]),r["\u0275mpd"](1024,r.APP_INITIALIZER,function(t,e){return[(n=t,Ft("probe",jt),Ft("coreTokens",Object(u.__assign)({},Lt,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return jt}),_i(e)];var n},[[2,r.NgProbeToken],wi]),r["\u0275mpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["\u0275mpd"](131584,r.ApplicationRef,r.ApplicationRef,[r.NgZone,r["\u0275Console"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["\u0275mpd"](1073742336,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["\u0275mpd"](1073742336,ke,ke,[[3,ke]]),r["\u0275mpd"](1024,ci,gi,[[3,Jr]]),r["\u0275mpd"](512,mn,bn,[]),r["\u0275mpd"](512,ei,ei,[]),r["\u0275mpd"](256,li,{},[]),r["\u0275mpd"](1024,s.LocationStrategy,vi,[s.PlatformLocation,[2,s.APP_BASE_HREF],li]),r["\u0275mpd"](512,s.Location,s.Location,[s.LocationStrategy]),r["\u0275mpd"](512,r.Compiler,r.Compiler,[]),r["\u0275mpd"](512,r.NgModuleFactoryLoader,r.SystemJsNgModuleLoader,[r.Compiler,[2,r.SystemJsNgModuleLoaderConfig]]),r["\u0275mpd"](1024,Hr,function(){return[[{path:"",component:fa,canActivate:[lu]},{path:"login",component:Ca},{path:"registrarse",component:Da,canActivate:[cu]},{path:"configuracion",component:Pa,canActivate:[lu]},{path:"cliente/editar/:id",component:ja,canActivate:[lu]},{path:"**",component:Ha}]]},[]),r["\u0275mpd"](1024,Jr,mi,[r.ApplicationRef,mn,ei,s.Location,r.Injector,r.NgModuleFactoryLoader,r.Compiler,Hr,li,[2,Kr],[2,Br]]),r["\u0275mpd"](1073742336,di,di,[[2,ci],[2,Jr]]),r["\u0275mpd"](1073742336,hu,hu,[]),r["\u0275mpd"](1073742336,Xo,Xo,[]),r["\u0275mpd"](1073742336,aa,aa,[]),r["\u0275mpd"](1073742336,wa,wa,[]),r["\u0275mpd"](1073742336,Ro,Ro,[]),r["\u0275mpd"](1073742336,Mo,Mo,[]),r["\u0275mpd"](1073742336,fu.FlashMessagesModule,fu.FlashMessagesModule,[]),r["\u0275mpd"](1073742336,o,o,[]),r["\u0275mpd"](256,r["\u0275APP_ROOT"],!0,[]),r["\u0275mpd"](256,Qo,{apiKey:"AIzaSyD0j-g-FaXKgT9RBWwGzBrBm1QyOS8x2WQ",authDomain:"control-clientes-5c127.firebaseapp.com",databaseURL:"https://control-clientes-5c127.firebaseio.com",projectId:"control-clientes-5c127",storageBucket:"control-clientes-5c127.appspot.com",messagingSenderId:"842569983507"},[]),r["\u0275mpd"](256,Wo,"control-clientes",[]),r["\u0275mpd"](256,na,i,[])])});Object(r.enableProdMode)(),Ae().bootstrapModuleFactory(du).catch(function(t){return console.error(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,u=a?t[i+1]:0,s=i+2<t.length,l=s?t[i+2]:0,c=(15&u)<<2|l>>6,h=63&l;s||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|u>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(u=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var u=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&u)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,u=++i<t.length?n[t.charAt(i)]:64,s=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw Error();r.push(o<<2|a>>4),64!=u&&(r.push(a<<4&240|u>>2),64!=s&&r.push(u<<6&192|s))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),h=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},f=Error.captureStackTrace,d=function(){return function(t,e){if(this.code=t,this.message=e,f)f(this,p.prototype.create);else try{throw Error.apply(this,arguments)}catch(n){this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="FirebaseError";var p=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var o=new d(i,n=this.serviceName+": "+n+" ("+i+").");for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();function v(t){return JSON.parse(t)}var g=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(s(o[0])||""),n=v(s(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},y=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},m=function(t,e){return y(e,function(e,n){t[e]=n}),t},b=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],u=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^u&(s^l),o=1518500249):(i=u^s^l,o=1859775393):r<60?(i=u&s|l&(u|s),o=2400959708):(i=u^s^l,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=l,l=s,s=4294967295&(u<<30|u>>>2),u=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),_=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=r,e.Deferred=c,e.ErrorFactory=p,e.FirebaseError=d,e.Sha1=w,e.assert=i,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=u,e.base64Decode=s,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.clone=function(t){return m({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new _(t,e);return n.subscribe.bind(n)},e.decode=g,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=E,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=m,e.findKey=b,e.findValue=function(t,e,n){var r=b(t,e,n);return r&&t[r]},e.forEach=y,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=h,e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isAdmin=function(t){var e=g(t).claims;return"object"==typeof e&&!0===e.admin},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=g(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=g(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.issuedAtTime=function(t){var e=g(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.patchCapture=function(t){var e=f;return f=t,e},e.patchProperty=function(t,e,n){t[e]=n},e.querystring=function(t){var e=[];return y(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;i(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},"zkF/":function(t,e,n){var r=n("IutQ"),i=n("3Gxb").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(e){return a.slice()}}(t):i(r(t))}},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("rPjj"),i=n("Fxb1");function o(t,e,n,o,a){if(void 0===a&&(a=new r.a(t,n,o)),!a.closed)return Object(i.a)(e)(a)}}},[[0,0]]]);